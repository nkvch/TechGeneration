/*! For license information please see main.f31765b4.js.LICENSE.txt */
(()=>{var e={5651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6797),i=n(5971),o=n(6155),a=n(9164),s=n(9073),c=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}();var u,l,h="@firebase/app",d="0.9.13",f=new o.Logger("@firebase/app"),p="[DEFAULT]",m=((u={})[h]="fire-core",u["@firebase/app-compat"]="fire-core-compat",u["@firebase/analytics"]="fire-analytics",u["@firebase/analytics-compat"]="fire-analytics-compat",u["@firebase/app-check"]="fire-app-check",u["@firebase/app-check-compat"]="fire-app-check-compat",u["@firebase/auth"]="fire-auth",u["@firebase/auth-compat"]="fire-auth-compat",u["@firebase/database"]="fire-rtdb",u["@firebase/database-compat"]="fire-rtdb-compat",u["@firebase/functions"]="fire-fn",u["@firebase/functions-compat"]="fire-fn-compat",u["@firebase/installations"]="fire-iid",u["@firebase/installations-compat"]="fire-iid-compat",u["@firebase/messaging"]="fire-fcm",u["@firebase/messaging-compat"]="fire-fcm-compat",u["@firebase/performance"]="fire-perf",u["@firebase/performance-compat"]="fire-perf-compat",u["@firebase/remote-config"]="fire-rc",u["@firebase/remote-config-compat"]="fire-rc-compat",u["@firebase/storage"]="fire-gcs",u["@firebase/storage-compat"]="fire-gcs-compat",u["@firebase/firestore"]="fire-fst",u["@firebase/firestore-compat"]="fire-fst-compat",u["fire-js"]="fire-js",u.firebase="fire-js-all",u),g=new Map,y=new Map;function v(e,t){try{e.container.addComponent(t)}catch(n){f.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function b(e){var t,n,r=e.name;if(y.has(r))return f.debug("There were multiple attempts to register component ".concat(r,".")),!1;y.set(r,e);try{for(var o=i.__values(g.values()),a=o.next();!a.done;a=o.next()){v(a.value,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}function w(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var _=((l={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",l["bad-app-name"]="Illegal App name: '{$appName}",l["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",l["app-deleted"]="Firebase App named '{$appName}' already deleted",l["no-options"]="Need to provide options, when not being deployed to hosting via source.",l["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",l["invalid-log-argument"]="First argument to `onLog` must be null or a function.",l["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",l["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",l["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",l["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",l),S=new a.ErrorFactory("app","Firebase",_),E=function(){function e(e,t,n){var o=this;this._isDeleted=!1,this._options=i.__assign({},e),this._config=i.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(function(){return o}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("app-deleted",{appName:this._name})},e}();function x(e,t){var n,o;void 0===t&&(t={});var s=e;"object"!==typeof t&&(t={name:t});var c=i.__assign({name:p,automaticDataCollectionEnabled:!1},t),u=c.name;if("string"!==typeof u||!u)throw S.create("bad-app-name",{appName:String(u)});if(s||(s=a.getDefaultAppConfig()),!s)throw S.create("no-options");var l=g.get(u);if(l){if(a.deepEqual(s,l.options)&&a.deepEqual(c,l.config))return l;throw S.create("duplicate-app",{appName:u})}var h=new r.ComponentContainer(u);try{for(var d=i.__values(y.values()),f=d.next();!f.done;f=d.next()){var m=f.value;h.addComponent(m)}}catch(b){n={error:b}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}var v=new E(s,c,h);return g.set(u,v),v}function T(e,t,n){var i,o=null!==(i=m[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));var a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var c=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return a&&c.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),a&&s&&c.push("and"),s&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void f.warn(c.join(" "))}b(new r.Component("".concat(o,"-version"),(function(){return{library:o,version:t}}),"VERSION"))}var I="firebase-heartbeat-database",O=1,C="firebase-heartbeat-store",k=null;function A(){return k||(k=s.openDB(I,O,{upgrade:function(e,t){if(0===t)e.createObjectStore(C)}}).catch((function(e){throw S.create("idb-open",{originalErrorMessage:e.message})}))),k}function P(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,A()];case 1:return[4,r.sent().transaction(C).objectStore(C).get(D(e))];case 2:return[2,r.sent()];case 3:return(t=r.sent())instanceof a.FirebaseError?f.warn(t.message):(n=S.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message}),f.warn(n.message)),[3,4];case 4:return[2]}}))}))}function R(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,A()];case 1:return n=i.sent(),r=n.transaction(C,"readwrite"),[4,r.objectStore(C).put(t,D(e))];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[3,5];case 4:return(o=i.sent())instanceof a.FirebaseError?f.warn(o.message):(s=S.create("idb-set",{originalErrorMessage:null===o||void 0===o?void 0:o.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function D(e){return"".concat(e.name,"!").concat(e.options.appId)}var N=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new L(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=M(),null!==this._heartbeatsCache?[3,2]:(r=this,[4,this._heartbeatsCachePromise]);case 1:r._heartbeatsCache=i.sent(),i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((function(e){return e.date===n}))?[2]:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o;return i.__generator(this,(function(s){switch(s.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:s.sent(),s.label=2;case 2:return null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length?[2,""]:(e=M(),t=function(e,t){var n,r;void 0===t&&(t=1024);var o=[],a=e.slice(),s=function(e){var n=o.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),F(o)>t)return n.dates.pop(),"break"}else if(o.push({agent:e.agent,dates:[e.date]}),F(o)>t)return o.pop(),"break";a=a.slice(1)};try{for(var c=i.__values(e),u=c.next();!u.done;u=c.next()){if("break"===s(u.value))break}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:o,unsentEntries:a}}(this._heartbeatsCache.heartbeats),n=t.heartbeatsToSend,r=t.unsentEntries,o=a.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n})),this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return s.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),s.label=5;case 5:return[2,o]}}))}))},e}();function M(){return(new Date).toISOString().substring(0,10)}var j,L=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return a.isIndexedDBAvailable()?[2,a.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return e.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,P(this.app)];case 3:return[2,e.sent()||{heartbeats:[]}]}}))}))},e.prototype.overwrite=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:i.__spreadArray(i.__spreadArray([],i.__read(n.heartbeats),!1),i.__read(e.heartbeats),!1)})]}}))}))},e}();function F(e){return a.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}j="node",b(new r.Component("platform-logger",(function(e){return new c(e)}),"PRIVATE")),b(new r.Component("heartbeat",(function(e){return new N(e)}),"PRIVATE")),T(h,d,j),T(h,d,"cjs5"),T("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return a.FirebaseError}}),t.SDK_VERSION="9.23.0",t._DEFAULT_ENTRY_NAME=p,t._addComponent=v,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=g,t._clearComponents=function(){y.clear()},t._components=y,t._getProvider=w,t._registerComponent=b,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=p),w(e,t).clearInstance(n)},t.deleteApp=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return t=e.name,g.has(t)?(g.delete(t),[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]):[3,2];case 1:n.sent(),e.isDeleted=!0,n.label=2;case 2:return[2]}}))}))},t.getApp=function(e){void 0===e&&(e=p);var t=g.get(e);if(!t&&e===p&&a.getDefaultAppConfig())return x();if(!t)throw S.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(g.values())},t.initializeApp=x,t.onLog=function(e,t){if(null!==e&&"function"!==typeof e)throw S.create("invalid-log-argument");o.setUserLogHandler(e,t)},t.registerVersion=T,t.setLogLevel=function(e){o.setLogLevel(e)}},6797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5971),i=n(9164),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),c=s[0],u=s[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(d){}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];a===this.normalizeInstanceIdentifier(h)&&d.resolve(s)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=r.__values(o),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=c,t.Provider=s},5054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5651),i=n(6797),o=n(6155),a=n(9164),s=n(8073);const c="@firebase/firestore";class u{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}u.UNAUTHENTICATED=new u(null),u.GOOGLE_CREDENTIALS=new u("google-credentials-uid"),u.FIRST_PARTY=new u("first-party-uid"),u.MOCK_USER=new u("mock-user");let l="9.23.0";const h=new o.Logger("@firebase/firestore");function d(){return h.logLevel}function f(e){if(h.logLevel<=o.LogLevel.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.debug("Firestore (".concat(l,"): ").concat(e),...i)}}function p(e){if(h.logLevel<=o.LogLevel.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.error("Firestore (".concat(l,"): ").concat(e),...i)}}function m(e){if(h.logLevel<=o.LogLevel.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.warn("Firestore (".concat(l,"): ").concat(e),...i)}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(l,") INTERNAL ASSERTION FAILED: ")+e;throw p(t),new Error(t)}function v(e,t){e||y()}function b(e,t){return e}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _ extends a.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class S{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class E{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(u.UNAUTHENTICATED)))}shutdown(){}}class T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class I{constructor(e){this.t=e,this.currentUser=u.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new S;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new S,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{f("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(f("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new S)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(f("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(v("string"==typeof t.accessToken),new E(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new u(e)}}class O{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=u.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class C{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new O(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(u.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&f("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,f("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{f("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):f("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(v("string"==typeof e.token),this.T=e.token,new k(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function P(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class R{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=P(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function D(e,t){return e<t?-1:e>t?1:0}function N(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function M(e){return e+"\0"}class j{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return j.fromMillis(Date.now())}static fromDate(e){return j.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new j(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?D(this.nanoseconds,e.nanoseconds):D(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new j(0,0))}static max(){return new L(new j(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class F{constructor(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===F.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof F?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class U extends F{construct(e,t,n){return new U(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _(w.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new U(e)}static emptyPath(){return new U([])}}const B=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class V extends F{construct(e,t,n){return new V(e,t,n)}static isValidIdentifier(e){return B.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),V.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new V(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _(w.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new _(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new V(t)}static emptyPath(){return new V([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(U.fromString(e))}static fromName(e){return new z(U.fromString(e).popFirst(5))}static empty(){return new z(U.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===U.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return U.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new U(e.slice()))}}class q{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function W(e){return e.fields.find((e=>2===e.kind))}function G(e){return e.fields.filter((e=>2!==e.kind))}function H(e,t){let n=D(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Q(e.fields[r],t.fields[r]),0!==n)return n;return D(e.fields.length,t.fields.length)}q.UNKNOWN_ID=-1;class K{constructor(e,t){this.fieldPath=e,this.kind=t}}function Q(e,t){const n=V.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:D(e.kind,t.kind)}class Y{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Y(0,J.min())}}function X(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new j(n+1,0):new j(n,r));return new J(i,z.empty(),t)}function $(e){return new J(e.readTime,e.key,-1)}class J{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new J(L.min(),z.empty(),-1)}static max(){return new J(L.max(),z.empty(),-1)}}function Z(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=z.comparator(e.documentKey,t.documentKey),0!==n?n:D(e.largestBatchId,t.largestBatchId))}const ee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ne(e){if(e.code!==w.FAILED_PRECONDITION||e.message!==ee)throw e;f("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(e){return re.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,n)=>{t(e)}))}static reject(e){return new re(((t,n)=>{n(e)}))}static waitFor(e){return new re(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=re.resolve(!1);for(const n of e)t=t.next((e=>e?re.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new re(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const c=s;t(e[c]).next((e=>{o[c]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new re(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ie{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new S,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new se(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=de(t.target.error);this.v.reject(new se(e,n))}}static open(e,t,n,r){try{return new ie(t,e.transaction(r,n))}catch(e){throw new se(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ue(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===oe.S(a.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return f("SimpleDb","Removing database:",e),le(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!a.isIndexedDBAvailable())return!1;if(oe.C())return!0;const e=a.getUA(),t=oe.S(e),n=0<t&&t<10,r=oe.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(f("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new se(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new _(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new _(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new se(e,r))},r.onupgradeneeded=e=>{f("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{f("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=ie.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),re.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(f("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ae{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return le(this.L.delete())}}class se extends _{constructor(e,t){super(w.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ce(e){return"IndexedDbTransactionError"===e.name}class ue{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),le(n)}add(e){return f("SimpleDb","ADD",this.store.name,e,e),le(this.store.add(e))}get(e){return le(this.store.get(e)).next((t=>(void 0===t&&(t=null),f("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return f("SimpleDb","DELETE",this.store.name,e),le(this.store.delete(e))}count(){return f("SimpleDb","COUNT",this.store.name),le(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new re(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new re(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){f("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new re(((n,r)=>{t.onerror=e=>{const t=de(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new re(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ae(i),a=t(i.primaryKey,i.value,o);if(a instanceof re){const e=a.catch((e=>(o.done(),re.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>re.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function le(e){return new re(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=de(e.target.error);n(t)}}))}let he=!1;function de(e){const t=oe.S(a.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new _("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return he||(he=!0,setTimeout((()=>{throw e}),0)),e}}return e}class fe{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){f("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{f("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){ce(e)?f("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ne(e)}await this.et(6e4)}))}}class pe{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return re.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return f("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(f("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=$(t);Z(r,n)>0&&(n=r)})),new J(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class me{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function ge(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function ve(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function be(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=_e(t)),t=we(e.get(n),t);return _e(t)}function we(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function _e(e){return e+"\x01\x01"}function Se(e){const t=e.length;if(v(t>=2),2===t)return v("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),U.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&y(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:y()}o=t+2}return new U(r)}me.ct=-1;const Ee=["userId","batchId"];function xe(e,t){return[e,be(t)]}function Te(e,t,n){return[e,be(t),n]}const Ie={},Oe=["prefixPath","collectionGroup","readTime","documentId"],Ce=["prefixPath","collectionGroup","documentId"],ke=["collectionGroup","readTime","prefixPath","documentId"],Ae=["canonicalId","targetId"],Pe=["targetId","path"],Re=["path","targetId"],De=["collectionId","parent"],Ne=["indexId","uid"],Me=["uid","sequenceNumber"],je=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Le=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],Ue=["userId","collectionPath","largestBatchId"],Be=["userId","collectionGroup","largestBatchId"],Ve=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ze=[...Ve,"documentOverlays"],qe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],We=qe,Ge=[...We,"indexConfiguration","indexState","indexEntries"];class He extends te{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ke(e,t){const n=b(e);return oe.M(n.ht,t)}function Qe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ye(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $e{constructor(e,t){this.comparator=e,this.root=t||Ze.EMPTY}insert(e,t){return new $e(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Je(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Je(this.root,e,this.comparator,!1)}getReverseIterator(){return new Je(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Je(this.root,e,this.comparator,!0)}}class Je{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ze.RED,this.left=null!=r?r:Ze.EMPTY,this.right=null!=i?i:Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ze(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ze.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1,Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tt(this.data.getIterator())}getIteratorFrom(e){return new tt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof et))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class tt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nt(e){return e.hasNext()?e.getNext():void 0}class rt{constructor(e){this.fields=e,e.sort(V.comparator)}static empty(){return new rt([])}unionWith(e){let t=new et(V.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new rt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return N(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class it extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new it("Invalid base64 string: "+e):e}}(e);return new ot(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return D(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const at=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function st(e){if(v(!!e),"string"==typeof e){let t=0;const n=at.exec(e);if(v(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ct(e.seconds),nanos:ct(e.nanos)}}function ct(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ut(e){return"string"==typeof e?ot.fromBase64String(e):ot.fromUint8Array(e)}function lt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ht(e){const t=e.mapValue.fields.__previous_value__;return lt(t)?ht(t):t}function dt(e){const t=st(e.mapValue.fields.__local_write_time__.timestampValue);return new j(t.seconds,t.nanos)}class ft{constructor(e,t,n,r,i,o,a,s,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=c}}class pt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pt&&e.projectId===this.projectId&&e.database===this.database}}const mt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gt={nullValue:"NULL_VALUE"};function yt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lt(e)?4:Rt(e)?9007199254740991:10:y()}function vt(e,t){if(e===t)return!0;const n=yt(e);if(n!==yt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dt(e).isEqual(dt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=st(e.timestampValue),r=st(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ut(e.bytesValue).isEqual(ut(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ct(e.geoPointValue.latitude)===ct(t.geoPointValue.latitude)&&ct(e.geoPointValue.longitude)===ct(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ct(e.integerValue)===ct(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ct(e.doubleValue),r=ct(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return N(e.arrayValue.values||[],t.arrayValue.values||[],vt);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qe(n)!==Qe(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vt(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function bt(e,t){return void 0!==(e.values||[]).find((e=>vt(e,t)))}function wt(e,t){if(e===t)return 0;const n=yt(e),r=yt(t);if(n!==r)return D(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return D(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ct(e.integerValue||e.doubleValue),r=ct(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _t(e.timestampValue,t.timestampValue);case 4:return _t(dt(e),dt(t));case 5:return D(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ut(e),r=ut(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=D(n[i],r[i]);if(0!==e)return e}return D(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=D(ct(e.latitude),ct(t.latitude));return 0!==n?n:D(ct(e.longitude),ct(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wt(n[i],r[i]);if(e)return e}return D(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mt.mapValue&&t===mt.mapValue)return 0;if(e===mt.mapValue)return 1;if(t===mt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=D(r[a],o[a]);if(0!==e)return e;const t=wt(n[r[a]],i[o[a]]);if(0!==t)return t}return D(r.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function _t(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return D(e,t);const n=st(e),r=st(t),i=D(n.seconds,r.seconds);return 0!==i?i:D(n.nanos,r.nanos)}function St(e){return Et(e)}function Et(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=st(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ut(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,z.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Et(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Et(e.fields[i]));return n+"}"}(e.mapValue):y();var t,n}function xt(e){switch(yt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ht(e);return t?16+xt(t):16;case 5:return 2*e.stringValue.length;case 6:return ut(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce(((e,t)=>e+xt(t)),0);case 10:return function(e){let t=0;return Ye(e.fields,((e,n)=>{t+=e.length+xt(n)})),t}(e.mapValue);default:throw y()}}function Tt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function It(e){return!!e&&"integerValue"in e}function Ot(e){return!!e&&"arrayValue"in e}function Ct(e){return!!e&&"nullValue"in e}function kt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function At(e){return!!e&&"mapValue"in e}function Pt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ye(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Pt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dt(e){return"nullValue"in e?gt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Tt(pt.empty(),z.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:y()}function Nt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Tt(pt.empty(),z.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?mt:y()}function Mt(e,t){const n=wt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function jt(e,t){const n=wt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!At(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pt(t)}setAll(e){let t=V.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());At(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];At(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ye(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Lt(Pt(this.value))}}function Ft(e){const t=[];return Ye(e.fields,((e,n)=>{const r=new V([e]);if(At(n)){const e=Ft(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new rt(t)}class Ut{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,L.min(),L.min(),L.min(),Lt.empty(),0)}static newFoundDocument(e,t,n,r){return new Ut(e,1,t,L.min(),n,r,0)}static newNoDocument(e,t){return new Ut(e,2,t,L.min(),L.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,L.min(),L.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Bt{constructor(e,t){this.position=e,this.inclusive=t}}function Vt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?z.comparator(z.fromName(a.referenceValue),n.key):wt(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function zt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vt(e.position[n],t.position[n]))return!1;return!0}class qt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Wt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gt{}class Ht extends Gt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nn(e,t,n):"array-contains"===t?new sn(e,n):"in"===t?new cn(e,n):"not-in"===t?new un(e,n):"array-contains-any"===t?new ln(e,n):new Ht(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rn(e,n):new on(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wt(t,this.value)):null!==t&&yt(this.value)===yt(t)&&this.matchesComparison(wt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kt extends Gt{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kt(e,t)}matches(e){return Qt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qt(e){return"and"===e.op}function Yt(e){return"or"===e.op}function Xt(e){return $t(e)&&Qt(e)}function $t(e){for(const t of e.filters)if(t instanceof Kt)return!1;return!0}function Jt(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+St(e.value);if(Xt(e))return e.filters.map((e=>Jt(e))).join(",");{const t=e.filters.map((e=>Jt(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Zt(e,t){return e instanceof Ht?function(e,t){return t instanceof Ht&&e.op===t.op&&e.field.isEqual(t.field)&&vt(e.value,t.value)}(e,t):e instanceof Kt?function(e,t){return t instanceof Kt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Zt(n,t.filters[r])),!0)}(e,t):void y()}function en(e,t){const n=e.filters.concat(t);return Kt.create(n,e.op)}function tn(e){return e instanceof Ht?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(St(e.value))}(e):e instanceof Kt?function(e){return e.op.toString()+" {"+e.getFilters().map(tn).join(" ,")+"}"}(e):"Filter"}class nn extends Ht{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class rn extends Ht{constructor(e,t){super(e,"in",t),this.keys=an("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class on extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=an("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function an(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>z.fromName(e.referenceValue)))}class sn extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ot(t)&&bt(t.arrayValue,this.value)}}class cn extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bt(this.value.arrayValue,t)}}class un extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(bt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bt(this.value.arrayValue,t)}}class ln extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ot(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>bt(this.value.arrayValue,e)))}}class hn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function dn(e){return new hn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fn(e){const t=b(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Jt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ge(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>St(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>St(e))).join(",")),t.dt=e}return t.dt}function pn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Zt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zt(e.startAt,t.startAt)&&zt(e.endAt,t.endAt)}function mn(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gn(e,t){return e.filters.filter((e=>e instanceof Ht&&e.field.isEqual(t)))}function yn(e,t,n){let r=gt,i=!0;for(const o of gn(e,t)){let e=gt,t=!0;switch(o.op){case"<":case"<=":e=Dt(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=gt}Mt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Mt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function vn(e,t,n){let r=mt,i=!0;for(const o of gn(e,t)){let e=mt,t=!0;switch(o.op){case">=":case">":e=Nt(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=mt}jt({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];jt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function wn(e,t,n,r,i,o,a,s){return new bn(e,t,n,r,i,o,a,s)}function _n(e){return new bn(e)}function Sn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function En(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xn(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Tn(e){return null!==e.collectionGroup}function In(e){const t=b(e);if(null===t.wt){t.wt=[];const e=xn(t),n=En(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new qt(e)),t.wt.push(new qt(V.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new qt(V.keyField(),e))}}}return t.wt}function On(e){const t=b(e);if(!t._t)if("F"===t.limitType)t._t=dn(t.path,t.collectionGroup,In(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of In(t)){const t="desc"===i.dir?"asc":"desc";e.push(new qt(i.field,t))}const n=t.endAt?new Bt(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bt(t.startAt.position,t.startAt.inclusive):null;t._t=dn(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Cn(e,t){t.getFirstInequalityField(),xn(e);const n=e.filters.concat([t]);return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kn(e,t,n){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function An(e,t){return pn(On(e),On(t))&&e.limitType===t.limitType}function Pn(e){return"".concat(fn(On(e)),"|lt:").concat(e.limitType)}function Rn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>tn(e))).join(", "),"]")),ge(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>St(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>St(e))).join(",")),"Target(".concat(t,")")}(On(e)),"; limitType=").concat(e.limitType,")")}function Dn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of In(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,In(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,In(e),t))}(e,t)}function Nn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mn(e){return(t,n)=>{let r=!1;for(const i of In(e)){const e=jn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jn(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wt(r,i):y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}class Ln{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ye(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Xe(this.inner)}size(){return this.innerSize}}const Fn=new $e(z.comparator);function Un(){return Fn}const Bn=new $e(z.comparator);function Vn(){let e=Bn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function zn(e){let t=Bn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function qn(){return Gn()}function Wn(){return Gn()}function Gn(){return new Ln((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hn=new $e(z.comparator),Kn=new et(z.comparator);function Qn(){let e=Kn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Yn=new et(D);function Xn(){return Yn}function $n(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function Jn(e){return{integerValue:""+e}}function Zn(e,t){return ve(t)?Jn(t):$n(e,t)}class er{constructor(){this._=void 0}}function tr(e,t,n){return e instanceof ir?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&lt(t)&&(t=ht(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof or?ar(e,t):e instanceof sr?cr(e,t):function(e,t){const n=rr(e,t),r=lr(n)+lr(e.gt);return It(n)&&It(e.gt)?Jn(r):$n(e.serializer,r)}(e,t)}function nr(e,t,n){return e instanceof or?ar(e,t):e instanceof sr?cr(e,t):n}function rr(e,t){return e instanceof ur?It(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ir extends er{}class or extends er{constructor(e){super(),this.elements=e}}function ar(e,t){const n=hr(t);for(const r of e.elements)n.some((e=>vt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class sr extends er{constructor(e){super(),this.elements=e}}function cr(e,t){let n=hr(t);for(const r of e.elements)n=n.filter((e=>!vt(e,r)));return{arrayValue:{values:n}}}class ur extends er{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lr(e){return ct(e.integerValue||e.doubleValue)}function hr(e){return Ot(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dr{constructor(e,t){this.field=e,this.transform=t}}class fr{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gr{}function yr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Or(e.key,pr.none()):new Sr(e.key,e.data,pr.none());{const n=e.data,r=Lt.empty();let i=new et(V.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Er(e.key,r,new rt(i.toArray()),pr.none())}}function vr(e,t,n){e instanceof Sr?function(e,t,n){const r=e.value.clone(),i=Tr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Er?function(e,t,n){if(!mr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Tr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function br(e,t,n,r){return e instanceof Sr?function(e,t,n,r){if(!mr(e.precondition,t))return n;const i=e.value.clone(),o=Ir(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Er?function(e,t,n,r){if(!mr(e.precondition,t))return n;const i=Ir(e.fieldTransforms,r,t),o=t.data;return o.setAll(xr(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=rr(r.transform,e||null);null!=i&&(null===n&&(n=Lt.empty()),n.set(r.field,i))}return n||null}function _r(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&N(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof or&&t instanceof or||e instanceof sr&&t instanceof sr?N(e.elements,t.elements,vt):e instanceof ur&&t instanceof ur?vt(e.gt,t.gt):e instanceof ir&&t instanceof ir}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sr extends gr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Er extends gr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Tr(e,t,n){const r=new Map;v(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,nr(a,s,n[i]))}return r}function Ir(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,tr(e,o,t))}return r}class Or extends gr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cr extends gr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=br(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=br(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wn();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=yr(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(L.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qn())}isEqual(e){return this.batchId===e.batchId&&N(this.mutations,e.mutations,((e,t)=>_r(e,t)))&&N(this.baseMutations,e.baseMutations,((e,t)=>_r(e,t)))}}class Ar{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){v(e.mutations.length===n.length);let r=Hn;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ar(e,t,n,r)}}class Pr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Rr{constructor(e,t,n){this.alias=e,this.yt=t,this.fieldPath=n}}class Dr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Nr,Mr;function jr(e){switch(e){default:return y();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Lr(e){if(void 0===e)return p("GRPC error has no .code"),w.UNKNOWN;switch(e){case Nr.OK:return w.OK;case Nr.CANCELLED:return w.CANCELLED;case Nr.UNKNOWN:return w.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return w.INTERNAL;case Nr.UNAVAILABLE:return w.UNAVAILABLE;case Nr.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Nr.NOT_FOUND:return w.NOT_FOUND;case Nr.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Nr.ABORTED:return w.ABORTED;case Nr.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Nr.DATA_LOSS:return w.DATA_LOSS;default:return y()}}(Mr=Nr||(Nr={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";class Fr{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ur}static getOrCreateInstance(){return null===Ur&&(Ur=new Fr),Ur}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Ur=null;function Br(){return new TextEncoder}const Vr=new s.Integer([4294967295,4294967295],0);function zr(e){const t=Br().encode(e),n=new s.Md5;return n.update(t),new Uint8Array(n.digest())}function qr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new s.Integer([n,r],0),new s.Integer([i,o],0)]}class Wr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gr("Invalid padding: ".concat(t));if(n<0)throw new Gr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gr("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=s.Integer.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(s.Integer.fromNumber(n)));return 1===r.compare(Vr)&&(r=new s.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zr(e),[n,r]=qr(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wr(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=zr(e),[n,r]=qr(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hr(L.min(),r,new $e(D),Un(),Qn())}}class Kr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kr(n,t,Qn(),Qn(),Qn())}}class Qr{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Yr{constructor(e,t){this.targetId=e,this.Vt=t}}class Xr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $r{constructor(){this.St=0,this.Dt=ei(),this.Ct=ot.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qn(),t=Qn(),n=Qn();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}})),new Kr(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=ei()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jr{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Un(),this.zt=Zr(),this.Wt=new $e(D)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:y()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(mn(o))if(0===r){const e=new z(o.path);this.Yt(n,e,Ut.newNoDocument(e,L.min()))}else v(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Fr.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,c;const u={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,c;try{s=ut(i).toUint8Array()}catch(e){if(e instanceof it)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{c=new Wr(s,o,a)}catch(e){return m(e instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&mn(i.target)){const t=new z(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Ut.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Qn();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Hr(e,t,this.Wt,this.jt,n);return this.jt=Un(),this.zt=Zr(),this.Wt=new $e(D),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new $r,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new et(D),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $r),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Zr(){return new $e(z.comparator)}function ei(){return new $e(z.comparator)}const ti={asc:"ASCENDING",desc:"DESCENDING"},ni={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ri={and:"AND",or:"OR"};class ii{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oi(e,t){return e.useProto3Json||ge(t)?t:{value:t}}function ai(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function si(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ci(e,t){return ai(e,t.toTimestamp())}function ui(e){return v(!!e),L.fromTimestamp(function(e){const t=st(e);return new j(t.seconds,t.nanos)}(e))}function li(e,t){return function(e){return new U(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function hi(e){const t=U.fromString(e);return v(Di(t)),t}function di(e,t){return li(e.databaseId,t.path)}function fi(e,t){const n=hi(t);if(n.get(1)!==e.databaseId.projectId)throw new _(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(yi(n))}function pi(e,t){return li(e.databaseId,t)}function mi(e){const t=hi(e);return 4===t.length?U.emptyPath():yi(t)}function gi(e){return new U(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yi(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vi(e,t,n){return{name:di(e,t),fields:n.value.mapValue.fields}}function bi(e,t,n){const r=fi(e,t.name),i=ui(t.updateTime),o=t.createTime?ui(t.createTime):L.min(),a=new Lt({mapValue:{fields:t.fields}}),s=Ut.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function wi(e,t){let n;if(t instanceof Sr)n={update:vi(e,t.key,t.value)};else if(t instanceof Or)n={delete:di(e,t.key)};else if(t instanceof Er)n={update:vi(e,t.key,t.data),updateMask:Ri(t.fieldMask)};else{if(!(t instanceof Cr))return y();n={verify:di(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ir)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof or)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw y()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ci(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.precondition)),n}function _i(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?pr.updateTime(ui(e.updateTime)):void 0!==e.exists?pr.exists(e.exists):pr.none()}(t.currentDocument):pr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue),n=new ir;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new or(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new sr(e)}else"increment"in t?n=new ur(e,t.increment):y();const r=V.fromServerFormat(t.fieldPath);return new dr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=fi(e,t.update.name),o=new Lt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new rt(t.map((e=>V.fromServerFormat(e))))}(t.updateMask);return new Er(i,o,e,n,r)}return new Sr(i,o,n,r)}if(t.delete){const r=fi(e,t.delete);return new Or(r,n)}if(t.verify){const r=fi(e,t.verify);return new Cr(r,n)}return y()}function Si(e,t){return{documents:[pi(e,t.path)]}}function Ei(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pi(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pi(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Pi(Kt.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ki(e.field),direction:Ii(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=oi(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function xi(e){let t=mi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){v(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ti(e);return t instanceof Kt&&Xt(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new qt(Ai(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ge(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Bt(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Bt(n,t)}(n.endAt)),wn(t,i,a,o,s,"F",c,u)}function Ti(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ai(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ai(e.unaryFilter.field);return Ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ai(e.unaryFilter.field);return Ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ai(e.unaryFilter.field);return Ht.create(i,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(e):void 0!==e.fieldFilter?function(e){return Ht.create(Ai(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Kt.create(e.compositeFilter.filters.map((e=>Ti(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(e):y()}function Ii(e){return ti[e]}function Oi(e){return ni[e]}function Ci(e){return ri[e]}function ki(e){return{fieldPath:e.canonicalString()}}function Ai(e){return V.fromServerFormat(e.fieldPath)}function Pi(e){return e instanceof Ht?function(e){if("=="===e.op){if(kt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NAN"}};if(Ct(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kt(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NAN"}};if(Ct(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof Kt?function(e){const t=e.getFilters().map((e=>Pi(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ci(e.op),filters:t}}}(e):y()}function Ri(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Di(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ni{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:L.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:L.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ot.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mi{constructor(e){this.fe=e}}function ji(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Li(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:di(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ai(e,t.version.toTimestamp()),createTime:ai(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fi(t.version)};else{if(!t.isUnknownDocument())return y();r.unknownDocument={path:n.path.toArray(),version:Fi(t.version)}}return r}function Li(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ui(e){const t=new j(e.seconds,e.nanoseconds);return L.fromTimestamp(t)}function Bi(e,t){const n=(t.baseMutations||[]).map((t=>_i(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>_i(e.fe,t))),i=j.fromMillis(t.localWriteTimeMs);return new kr(t.batchId,i,n,r)}function Vi(e){const t=Ui(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ui(e.lastLimboFreeSnapshotVersion):L.min();let r;var i;return void 0!==e.query.documents?(v(1===(i=e.query).documents.length),r=On(_n(mi(i.documents[0])))):r=function(e){return On(xi(e))}(e.query),new Ni(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ot.fromBase64String(e.resumeToken))}function zi(e,t){const n=Fi(t.snapshotVersion),r=Fi(t.lastLimboFreeSnapshotVersion);let i;i=mn(t.target)?Si(e.fe,t.target):Ei(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fn(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qi(e){const t=xi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kn(t,t.limit,"L"):t}function Wi(e,t){return new Pr(t.largestBatchId,_i(e.fe,t.overlayMutation))}function Gi(e,t){const n=t.path.lastSegment();return[e,be(t.path.popLast()),n]}function Hi(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fi(r.readTime),documentKey:be(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ki{getBundleMetadata(e,t){return Qi(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Ui(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Qi(e).put({bundleId:(n=t).id,createTime:Fi(ui(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Yi(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:qi(t.bundledQuery),readTime:Ui(t.readTime)};var t}))}saveNamedQuery(e,t){return Yi(e).put(function(e){return{name:e.name,readTime:Fi(ui(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Qi(e){return Ke(e,"bundles")}function Yi(e){return Ke(e,"namedQueries")}class Xi{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new Xi(e,n)}getOverlay(e,t){return $i(e).get(Gi(this.userId,t)).next((e=>e?Wi(this.serializer,e):null))}getOverlays(e,t){const n=qn();return re.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Pr(t,i);r.push(this.we(e,o))})),re.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(be(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push($i(e).J("collectionPathOverlayIndex",r))})),re.waitFor(i)}getOverlaysForCollection(e,t,n){const r=qn(),i=be(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return $i(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Wi(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=qn();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $i(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=Wi(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return $i(e).put(function(e,t,n){const[r,i,o]=Gi(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wi(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function $i(e){return Ke(e,"documentOverlays")}class Ji{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ct(e.integerValue));else if("doubleValue"in e){const n=ct(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ye(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ut(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Rt(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):y()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),z.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Zi(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function eo(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Zi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ji.Ve=new Ji;class to{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=eo(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=eo(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class no{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ro{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class io{constructor(){this.je=new to,this.ze=new no(this.je),this.We=new ro(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class oo{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new oo(this.indexId,this.documentKey,this.arrayValue,n)}}function ao(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=so(e.arrayValue,t.arrayValue),0!==n?n:(n=so(e.directionalValue,t.directionalValue),0!==n?n:z.comparator(e.documentKey,t.documentKey)))}function so(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class co{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){v(e.collectionGroup===this.collectionId);const t=W(e);if(void 0!==t&&!this.en(t))return!1;const n=G(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function uo(e){var t,n;if(v(e instanceof Ht||e instanceof Kt),e instanceof Ht){if(e instanceof cn){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ht.create(e.field,"==",t))))||[];return Kt.create(r,"or")}return e}const r=e.filters.map((e=>uo(e)));return Kt.create(r,e.op)}function lo(e){if(0===e.getFilters().length)return[];const t=mo(uo(e));return v(po(t)),ho(t)||fo(t)?[t]:t.getFilters()}function ho(e){return e instanceof Ht}function fo(e){return e instanceof Kt&&Xt(e)}function po(e){return ho(e)||fo(e)||function(e){if(e instanceof Kt&&Yt(e)){for(const t of e.getFilters())if(!ho(t)&&!fo(t))return!1;return!0}return!1}(e)}function mo(e){if(v(e instanceof Ht||e instanceof Kt),e instanceof Ht)return e;if(1===e.filters.length)return mo(e.filters[0]);const t=e.filters.map((e=>mo(e)));let n=Kt.create(t,e.op);return n=vo(n),po(n)?n:(v(n instanceof Kt),v(Qt(n)),v(n.filters.length>1),n.filters.reduce(((e,t)=>go(e,t))))}function go(e,t){let n;return v(e instanceof Ht||e instanceof Kt),v(t instanceof Ht||t instanceof Kt),n=e instanceof Ht?t instanceof Ht?function(e,t){return Kt.create([e,t],"and")}(e,t):yo(e,t):t instanceof Ht?yo(t,e):function(e,t){if(v(e.filters.length>0&&t.filters.length>0),Qt(e)&&Qt(t))return en(e,t.getFilters());const n=Yt(e)?e:t,r=Yt(e)?t:e,i=n.filters.map((e=>go(e,r)));return Kt.create(i,"or")}(e,t),vo(n)}function yo(e,t){if(Qt(t))return en(t,e.getFilters());{const n=t.filters.map((t=>go(e,t)));return Kt.create(n,"or")}}function vo(e){if(v(e instanceof Ht||e instanceof Kt),e instanceof Ht)return e;const t=e.getFilters();if(1===t.length)return vo(t[0]);if($t(e))return e;const n=t.map((e=>vo(e))),r=[];return n.forEach((t=>{t instanceof Ht?r.push(t):t instanceof Kt&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Kt.create(r,e.op)}class bo{constructor(){this.rn=new wo}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(J.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(J.min())}updateCollectionGroup(e,t,n){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class wo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new et(U.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new et(U.comparator)).toArray()}}const _o=new Uint8Array(0);class So{constructor(e,t){this.user=e,this.databaseId=t,this.on=new wo,this.un=new Ln((e=>fn(e)),((e,t)=>pn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:be(r)};return Eo(e).put(i)}return re.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[M(t),""],!1,!0);return Eo(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n}))}addFieldIndex(e,t){const n=To(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Io(e);return i.next((e=>{n.put(Hi(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=To(e),r=Io(e),i=xo(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=xo(e);let r=!0;const i=new Map;return re.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Qn();const r=[];return re.forEach(i,((i,o)=>{var a;f("IndexedDbIndexManager","Using index ".concat((a=i,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(fn(t)));const s=function(e,t){const n=W(t);if(void 0===n)return null;for(const r of gn(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of G(t))for(const t of gn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?yn(e,i.fieldPath,e.startAt):vn(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Bt(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?vn(e,i.fieldPath,e.endAt):yn(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Bt(n,r)}(o,i),h=this.hn(i,o,u),d=this.hn(i,o,l),p=this.ln(i,o,c),m=this.fn(i.indexId,s,h,u.inclusive,d,l.inclusive,p);return re.forEach(m,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return re.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:lo(Kt.create(e.filters,"and")).map((t=>dn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),u=[];for(let l=0;l<s;++l){const s=t?this.dn(t[l/c]):_o,h=this.wn(e,s,n[l%c],r),d=this._n(e,s,i[l%c],o),f=a.map((t=>this.wn(e,s,t,!0)));u.push(...this.createRange(h,d,f))}return u}wn(e,t,n,r){const i=new oo(e,z.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new oo(e,z.empty(),t,n);return r?i.Je():i}an(e,t){const n=new co(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return re.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new et(V.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new io;for(const r of G(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);Ji.Ve._e(e,i)}return n.Qe()}dn(e){const t=new io;return Ji.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new io;return Ji.Ve._e(Tt(this.databaseId,t),n.He(function(e){const t=G(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new io);let i=0;for(const o of G(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&Ot(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);Ji.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new io;n.seed(e.Qe()),Ji.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Ht&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=To(e),r=Io(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return re.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Y(t.sequenceNumber,new J(Ui(t.readTime),new z(Se(t.documentKey)),t.largestBatchId)):Y.empty(),r=e.fields.map((e=>{let[t,n]=e;return new K(V.fromServerFormat(t),n)}));return new q(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:D(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=To(e),i=Io(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>re.forEach(t,(t=>i.put(Hi(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return re.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?re.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),re.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?re.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return xo(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return xo(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=xo(e);let i=new et(ao);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new oo(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new et(ao);const r=this.mn(t,e);if(null==r)return n;const i=W(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Ot(o))for(const i of o.arrayValue.values||[])n=n.add(new oo(t.indexId,e.key,this.dn(i),r))}else n=n.add(new oo(t.indexId,e.key,_o,r));return n}vn(e,t,n,r,i){f("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=nt(o),c=nt(a);for(;s||c;){let e=!1,t=!1;if(s&&c){const r=n(s,c);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(c),c=nt(a)):t?(i(s),s=nt(o)):(s=nt(o),c=nt(a))}}(r,i,ao,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),re.waitFor(o)}Tn(e){let t=1;return Io(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ao(e,t))).filter(((e,t,n)=>!t||0!==ao(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=ao(o,e),i=ao(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,_o,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,_o,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return ao(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Oo)}getMinOffset(e,t){return re.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||y())))).next(Oo)}}function Eo(e){return Ke(e,"collectionParents")}function xo(e){return Ke(e,"indexEntries")}function To(e){return Ke(e,"indexConfiguration")}function Io(e){return Ke(e,"indexState")}function Oo(e){v(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Z(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new J(t.readTime,t.documentKey,n)}const Co={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ao(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const c=r.X({range:a},((e,t,n)=>(s++,n.delete())));o.push(c.next((()=>{v(1===s)})));const u=[];for(const l of n.mutations){const e=Te(t,l.key.path,n.batchId);o.push(i.delete(e)),u.push(l.key)}return re.waitFor(o).next((()=>u))}function Po(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Ro{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){v(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ro(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Mo(e),o=No(e);return o.add({}).next((a=>{v("number"==typeof a);const s=new kr(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>wi(e.fe,t))),i=n.mutations.map((t=>wi(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),u=[];let l=new et(((e,t)=>D(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Te(this.userId,e.key.path,a);l=l.add(e.key.path.popLast()),u.push(o.put(c)),u.push(i.put(t,Ie))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=s.keys()})),re.waitFor(u).next((()=>s))}))}lookupMutationBatch(e,t){return No(e).get(t).next((e=>e?(v(e.userId===this.userId),Bi(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?re.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return No(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(v(t.batchId>=n),i=Bi(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return No(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(e).j("userMutationsIndex",t).next((e=>e.map((e=>Bi(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=xe(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Mo(e).X({range:r},((n,r,o)=>{const[a,s,c]=n,u=Se(s);if(a===this.userId&&t.path.isEqual(u))return No(e).get(c).next((e=>{if(!e)throw y();v(e.userId===this.userId),i.push(Bi(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(D);const r=[];return t.forEach((t=>{const i=xe(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=Mo(e).X({range:o},((e,r,i)=>{const[o,a,s]=e,c=Se(a);o===this.userId&&t.path.isEqual(c)?n=n.add(s):i.done()}));r.push(a)})),re.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=xe(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new et(D);return Mo(e).X({range:o},((e,t,i)=>{const[o,s,c]=e,u=Se(s);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(a=a.add(c)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(No(e).get(t).next((e=>{if(null===e)throw y();v(e.userId===this.userId),n.push(Bi(this.serializer,e))})))})),re.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ao(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),re.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return re.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Mo(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()})).next((()=>{v(0===r.length)}))}))}containsKey(e,t){return Do(e,this.userId,t)}xn(e){return jo(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Do(e,t,n){const r=xe(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Mo(e).X({range:o,Y:!0},((e,n,r)=>{const[o,s,c]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function No(e){return Ke(e,"mutations")}function Mo(e){return Ke(e,"documentMutations")}function jo(e){return Ke(e,"mutationQueues")}class Lo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lo(0)}static Mn(){return new Lo(-1)}}class Fo{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new Lo(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>L.fromTimestamp(new j(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Uo(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(v(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Uo(e).X(((o,a)=>{const s=Vi(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>re.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Uo(e).X(((e,n)=>{const r=Vi(n);t(r)}))}$n(e){return Bo(e).get("targetGlobalKey").next((e=>(v(null!==e),e)))}On(e,t){return Bo(e).put("targetGlobalKey",t)}Fn(e,t){return Uo(e).put(zi(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=fn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Uo(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Vi(n);pn(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Vo(e);return t.forEach((t=>{const o=be(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),re.waitFor(r)}removeMatchingKeys(e,t,n){const r=Vo(e);return re.forEach(t,(t=>{const i=be(t.path);return re.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Vo(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vo(e);let i=Qn();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Se(e[1]),o=new z(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=be(t.path),r=IDBKeyRange.bound([n],[M(n)],!1,!0);let i=0;return Vo(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return Uo(e).get(t).next((e=>e?Vi(e):null))}}function Uo(e){return Ke(e,"targets")}function Bo(e){return Ke(e,"targetGlobal")}function Vo(e){return Ke(e,"targetDocuments")}function zo(e,t){let[n,r]=e,[i,o]=t;const a=D(n,i);return 0===a?D(r,o):a}class qo{constructor(e){this.Ln=e,this.buffer=new et(zo),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();zo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){f("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ce(e)?f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ne(e)}await this.Qn(3e5)}))}}class Go{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return re.resolve(me.ct);const n=new qo(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Co)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Co):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,a,s,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),d()<=o.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(c-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-c)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ho(e,t){return new Go(e,t)}class Ko{constructor(e,t){this.db=e,this.garbageCollector=Ho(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return Qo(e,n)}removeReference(e,t,n){return Qo(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Qo(e,t)}Xn(e,t){return function(e,t){let n=!1;return jo(e).Z((r=>Do(e,r,t).next((e=>(e&&(n=!0),re.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,L.min()),Vo(e).delete([0,be(o.path)]))))}));r.push(t)}})).next((()=>re.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Qo(e,t)}Yn(e,t){const n=Vo(e);let r,i=me.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:c}=n;0===o?(i!==me.ct&&t(new z(Se(r)),i),i=c,r=s):i=me.ct})).next((()=>{i!==me.ct&&t(new z(Se(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qo(e,t){return Vo(e).put(function(e,t){return{targetId:0,path:be(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Yo{constructor(){this.changes=new Ln((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xo{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ea(e).put(n)}removeEntry(e,t,n){return ea(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Li(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Ut.newInvalidDocument(t);return ea(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ta(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Ut.newInvalidDocument(t)};return ea(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ta(t))},((e,r)=>{n={document:this.ts(t,r),size:Po(r)}})).next((()=>n))}getEntries(e,t){let n=Un();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=Un(),r=new $e(z.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Po(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return re.resolve();let r=new et(ra);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(ta(r.first()),ta(r.last())),o=r.getIterator();let a=o.getNext();return ea(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&ra(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(ta(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),Li(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).j(IDBKeyRange.bound(o,a,!0)).next((e=>{let n=Un();for(const i of e){const e=this.ts(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Dn(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Un();const o=na(t,n),a=na(t,J.max());return ea(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ts(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Jo(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Zo(e).get("remoteDocumentGlobalKey").next((e=>(v(!!e),e)))}Zn(e,t){return Zo(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=bi(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=z.fromSegments(t.noDocument.path),r=Ui(t.noDocument.readTime);n=Ut.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return y();{const e=z.fromSegments(t.unknownDocument.path),r=Ui(t.unknownDocument.version);n=Ut.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new j(e[0],e[1]);return L.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(L.min()))return e}return Ut.newInvalidDocument(e)}}function $o(e){return new Xo(e)}class Jo extends Yo{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ln((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new et(((e,t)=>D(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=ji(this.os.serializer,o);r=r.add(i.path.popLast());const c=Po(s);n+=c-a.size,t.push(this.os.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=ji(this.os.serializer,o.convertToNoDocument(L.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),re.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Zo(e){return Ke(e,"remoteDocumentGlobal")}function ea(e){return Ke(e,"remoteDocumentsV14")}function ta(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function na(e,t){const n=t.documentKey.path.toArray();return[e,Li(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ra(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=D(n[o],r[o]),i)return i;return i=D(n.length,r.length),i||(i=D(n[n.length-2],r[r.length-2]),i||D(n[n.length-1],r[r.length-1]))}class ia{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oa{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&br(n.mutation,e,rt.empty(),j.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qn()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn();const r=qn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Vn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=qn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Un();const o=Gn(),a=Gn();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Er)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),br(a.mutation,t,a.mutation.getFieldMask(),j.now())):o.set(t.key,rt.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ia(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Gn();let r=new $e(((e,t)=>e-t)),i=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||rt.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Qn()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,c=r.value,u=Wn();c.forEach((e=>{if(!i.has(e)){const r=yr(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return re.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):re.resolve(qn());let a=-1,s=i;return o.next((t=>re.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?re.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Qn()))).next((e=>({batchId:a,changes:zn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=Vn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Vn();return this.indexManager.getCollectionParents(e,r).next((o=>re.forEach(o,(o=>{const a=function(e,t){return new bn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ut.newInvalidDocument(r)))}));let n=Vn();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&br(o.mutation,i,rt.empty(),j.now()),Dn(t,i)&&(n=n.insert(e,i))})),n}))}}class aa{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ui(n.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:qi(e.bundledQuery),readTime:ui(e.readTime)}}(t)),re.resolve()}}class sa{constructor(){this.overlays=new $e(z.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qn();return re.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),re.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),re.resolve()}getOverlaysForCollection(e,t,n){const r=qn(),i=t.length+1,o=new z(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new $e(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=qn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=qn(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return re.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pr(t,n));let i=this.ls.get(t);void 0===i&&(i=Qn(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class ca{constructor(){this.fs=new et(ua.ds),this.ws=new et(ua._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new ua(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new ua(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new z(new U([])),n=new ua(t,e),r=new ua(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new z(new U([])),n=new ua(t,e),r=new ua(t,e+1);let i=Qn();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ua(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ua{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return z.comparator(e.key,t.key)||D(e.As,t.As)}static _s(e,t){return D(e.As,t.As)||z.comparator(e.key,t.key)}}class la{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new et(ua.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kr(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new ua(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ua(t,0),r=new ua(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(D);return t.forEach((e=>{const t=new ua(e,0),r=new ua(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),re.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;z.isDocumentKey(i)||(i=i.child(""));const o=new ua(new z(i),0);let a=new et(D);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),re.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){v(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return re.forEach(t.mutations,(r=>{const i=new ua(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new ua(t,0),r=this.Rs.firstAfterOrEqual(n);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ha{constructor(e){this.Ds=e,this.docs=new $e(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let n=Un();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ut.newInvalidDocument(e))})),re.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Un();const o=t.path,a=new z(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Z($(a),n)<=0||(r.has(a.key)||Dn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,n,r){y()}Cs(e,t){return re.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new da(this)}getSize(e){return re.resolve(this.size)}}class da extends Yo{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class fa{constructor(e){this.persistence=e,this.xs=new Ln((e=>fn(e)),pn),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ca,this.targetCount=0,this.Ms=Lo.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),re.waitFor(i).next((()=>r))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return re.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),re.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),re.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return re.resolve(n)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class pa{constructor(e,t){this.$s={},this.overlays={},this.Os=new me(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fa(this),this.indexManager=new bo,this.remoteDocumentCache=function(e){return new ha(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Mi(t),this.qs=new aa(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new la(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){f("MemoryPersistence","Starting transaction:",e);const r=new ma(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return re.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class ma extends te{constructor(e){super(),this.currentSequenceNumber=e}}class ga{constructor(e){this.persistence=e,this.Qs=new ca,this.js=null}static zs(e){return new ga(e)}get Ws(){if(this.js)return this.js;throw y()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),re.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,(n=>{const r=z.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,L.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ya{constructor(e,t){this.persistence=e,this.Js=new Ln((e=>be(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ho(this,t)}static zs(e,t){return new ya(e,t)}Us(){}Ks(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}zn(e){const t=this.Jn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}Wn(e,t){return re.forEach(this.Js,((n,r)=>this.Xn(e,n,r).next((e=>e?re.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Cs(e,(r=>this.Xn(e,r,t).next((e=>{e||(n++,i.removeEntry(r,L.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Js.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Js.set(n,e.currentSequenceNumber),re.resolve()}removeReference(e,t,n){return this.Js.set(n,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.Js.set(t,e.currentSequenceNumber),re.resolve()}Ls(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xt(e.data.value)),t}Xn(e,t,n){return re.or([()=>this.persistence.Gs(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Js.get(t);return re.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class va{constructor(e){this.serializer=e}O(e,t,n,r){const i=new ie("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0}),e.createObjectStore("documentMutations")}(e),ba(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=re.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ba(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:L.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return re.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Fe});t.createIndex("collectionPathOverlayIndex",Ue,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Be,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Oe});t.createIndex("documentKeyIndex",Ce),t.createIndex("collectionGroupIndex",ke)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ne}).createIndex("sequenceNumberIndex",Me,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:je}).createIndex("documentKeyIndex",Le,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Po(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>re.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>re.forEach(n,(n=>{v(n.userId===t.userId);const r=Bi(this.serializer,n);return Ao(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new U(n),a=function(e){return[0,be(e)]}(o);r.push(t.get(a).next((n=>n?re.resolve():(n=>t.put({targetId:0,path:be(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>re.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:De});const n=t.store("collectionParents"),r=new wo,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:be(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new U(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const a=Se(r);return i(a.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=Vi(n),i=zi(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(a=n,a.document?new z(U.fromString(a.document.name).popFirst(5)):a.noDocument?z.fromSegments(a.noDocument.path):a.unknownDocument?z.fromSegments(a.unknownDocument.path):y()).path.toArray();var a;const s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>re.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=$o(this.serializer),i=new pa(ga.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Qn();Bi(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),re.forEach(n,((e,n)=>{const o=new u(n),a=Xi.de(this.serializer,o),s=i.getIndexManager(o),c=Ro.de(o,this.serializer,s,i.referenceDelegate);return new oa(r,c,a,s).recalculateAndSaveOverlaysForDocumentKeys(new He(t,me.ct),e).next()}))}))}}function ba(e){e.createObjectStore("targetDocuments",{keyPath:Pe}).createIndex("documentTargetsIndex",Re,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ae,{unique:!0}),e.createObjectStore("targetGlobal")}const wa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _a{constructor(e,t,n,r,i,o,a,s,c,u){let l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=a,this.ri=c,this.oi=u,this.ui=l,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!_a.D())throw new _(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ko(this,r),this.di=t+"main",this.serializer=new Mi(s),this.wi=new oe(this.di,this.ui,new va(this.serializer)),this.Bs=new Fo(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$o(this.serializer),this.qs=new Ki,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _(w.FAILED_PRECONDITION,wa);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new me(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ea(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(ce(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Sa(e).get("owner").next((e=>re.resolve(this.Ri(e))))}Pi(e){return Ea(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ke(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return re.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):Sa(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _(w.FAILED_PRECONDITION,wa);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ea(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&f("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new He(e,me.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Ea(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return Ro.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new So(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Xi.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){f("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?Ge:14===o?We:13===o?qe:12===o?ze:11===o?Ve:void y();var o;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new He(r,this.Os?this.Os.next():me.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw p("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new _(w.FAILED_PRECONDITION,ee);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return Sa(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _(w.FAILED_PRECONDITION,wa)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sa(e).put("owner",t)}static D(){return oe.D()}Ai(e){const t=Sa(e);return t.get("owner").next((e=>this.Ri(e)?(f("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(p("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;a.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return f("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Sa(e){return Ke(e,"owner")}function Ea(e){return Ke(e,"clientMetadata")}function xa(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ta{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Qn(),r=Qn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ta(e,t.fromCache,n,r)}}class Ia{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Sn(t))return re.resolve(null);let n=On(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=kn(t,null,"F"),n=On(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qn(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,kn(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Sn(t)||r.isEqual(L.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(d()<=o.LogLevel.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rn(t)),this.Wi(e,a,t,X(r,-1)))}))}ji(e,t){let n=new et(Mn(e));return t.forEach(((t,r)=>{Dn(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return d()<=o.LogLevel.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Rn(t)),this.Ui.getDocumentsMatchingQuery(e,t,J.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Oa{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new $e(D),this.Yi=new Ln((e=>fn(e)),pn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oa(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Ca(e,t,n,r){return new Oa(e,t,n,r)}async function ka(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Qn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Aa(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Pa(e,t,n){let r=Qn(),i=Qn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Un();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(L.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Ra(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Da(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,re.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Ni(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Na(e,t,n){const r=b(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ce(e))throw e;f("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Ma(e,t,n){const r=b(e);let i=L.min(),o=Qn();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=b(e),i=r.Yi.get(n);return void 0!==i?re.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,On(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:L.min(),n?o:Qn()))).next((e=>(Fa(r,Nn(t),e),{documents:e,ir:o})))))}function ja(e,t){const n=b(e),r=b(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function La(e,t){const n=b(e),r=n.Xi.get(t)||L.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,X(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Fa(n,t,e),e)))}function Fa(e,t,n){let r=e.Xi.get(t)||L.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function Ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn();const r=await Da(e,On(qi(t.bundledQuery))),i=b(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=ui(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken(ot.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function Ba(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Va(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function za(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class qa{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new _(r.error.code,r.error.message))),o?new qa(e,t,r.state,i):(p("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wa{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new _(n.error.code,n.error.message))),i?new Wa(e,n.state,r):(p("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ga{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Xn();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=ve(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Ga(e,i):(p("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Ha{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ha(t.clientId,t.onlineState):(p("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Ka{constructor(){this.activeTargetIds=Xn()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qa{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new $e(D),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=Ba(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ka),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(Ba(this.persistenceKey,n));if(e){const t=Ga.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(za(this.persistenceKey,e));if(n){const r=Wa.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(za(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t}setItem(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(f("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=me.ct;if(null!=e)try{const n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==me.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new qa(this.currentUser,e,t,n),i=Va(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=Va(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=za(this.persistenceKey,e),i=new Wa(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return Ga.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qa.ar(new u(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return Wa.ar(r,t)}br(e){return Ha.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);f("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(o,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Xn();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ya{constructor(){this.Hr=new Ka,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ka,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xa{Yr(e){}shutdown(){}}class $a{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ja=null;function Za(){return null===Ja?Ja=268435456+Math.round(2147483648*Math.random()):Ja++,"0x"+Ja.toString(16)}const es={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ts{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ns="WebChannelConnection";class rs extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Za(),a=this.To(e,t);f("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(f("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw m("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=es[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Za();return new Promise(((o,a)=>{const c=new s.XhrIo;c.setWithCredentials(!0),c.listenOnce(s.EventType.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case s.ErrorCode.NO_ERROR:const t=c.getResponseJson();f(ns,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case s.ErrorCode.TIMEOUT:f(ns,"RPC '".concat(e,"' ").concat(i," timed out")),a(new _(w.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:const n=c.getStatus();if(f(ns,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",c.getResponseText()),n>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(t)>=0?t:w.UNKNOWN}(t.status);a(new _(e,t.message))}else a(new _(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _(w.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f(ns,"RPC '".concat(e,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);f(ns,"RPC '".concat(e,"' ").concat(i," sending request:"),r),c.send(t,"POST",u,n,15)}))}Ro(e,t,n){const r=Za(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s.createWebChannelTransport(),a=s.getStatEventTarget(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new s.FetchXmlHttpFactory({})),this.Eo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const l=i.join("");f(ns,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),c);const h=o.createWebChannel(l,c);let d=!1,p=!1;const g=new ts({ro:t=>{p?f(ns,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(f(ns,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),h.open(),d=!0),f(ns,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),h.send(t))},oo:()=>h.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(h,s.WebChannel.EventType.OPEN,(()=>{p||f(ns,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),y(h,s.WebChannel.EventType.CLOSE,(()=>{p||(p=!0,f(ns,"RPC '".concat(e,"' stream ").concat(r," transport closed")),g.wo())})),y(h,s.WebChannel.EventType.ERROR,(t=>{p||(p=!0,m(ns,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),g.wo(new _(w.UNAVAILABLE,"The operation could not be completed")))})),y(h,s.WebChannel.EventType.MESSAGE,(t=>{var n;if(!p){const i=t.data[0];v(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){f(ns,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Nr[e];if(void 0!==t)return Lr(t)}(t),i=a.message;void 0===n&&(n=w.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),p=!0,g.wo(new _(n,i)),h.close()}else f(ns,"RPC '".concat(e,"' stream ").concat(r," received:"),i),g._o(i)}})),y(a,s.Event.STAT_EVENT,(t=>{t.stat===s.Stat.PROXY?f(ns,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===s.Stat.NOPROXY&&f(ns,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{g.fo()}),0),g}}function is(){return"undefined"!=typeof window?window:null}function os(){return"undefined"!=typeof document?document:null}function as(e){return new ii(e,!0)}class ss{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&f("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cs{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ss(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new _(w.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return f("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class us extends cs{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(v(void 0===t||"string"==typeof t),ot.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),ot.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?w.UNKNOWN:Lr(e.code);return new _(t,e.message||"")}(a);n=new Xr(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fi(e,r.document.name),o=ui(r.document.updateTime),a=r.document.createTime?ui(r.document.createTime):L.min(),s=new Lt({mapValue:{fields:r.document.fields}}),c=Ut.newFoundDocument(i,o,a,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Qr(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fi(e,r.document),o=r.readTime?ui(r.readTime):L.min(),a=Ut.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Qr([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fi(e,r.document),o=r.removedTargetIds||[];n=new Qr([],o,i,null)}else{if(!("filter"in t))return y();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Dr(r,i),a=e.targetId;n=new Yr(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return L.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?L.min():t.readTime?ui(t.readTime):L.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=gi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mn(r)?{documents:Si(e,r)}:{query:Ei(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=si(e,t.resumeToken);const r=oi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(L.min())>0){n.readTime=ai(e,t.snapshotVersion.toTimestamp());const r=oi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=gi(this.serializer),t.removeTarget=e,this.Wo(t)}}class ls extends cs{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(v(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ui(e.updateTime):ui(t);return n.isEqual(L.min())&&(n=ui(t)),new fr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ui(e.commitTime);return this.listener.cu(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gi(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>wi(this.serializer,e)))};this.Wo(t)}}class hs extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new _(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _(w.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _(w.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class ds{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(p(t),this.mu=!1):f("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class fs{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Ss(this)&&(f("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.vu.add(4),await ms(t),t.bu.set("Unknown"),t.vu.delete(4),await ps(t)}(this))}))})),this.bu=new ds(n,r)}}async function ps(e){if(Ss(e))for(const t of e.Ru)await t(!0)}async function ms(e){for(const t of e.Ru)await t(!1)}function gs(e,t){const n=b(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),_s(n)?ws(n):Bs(n).Ko()&&vs(n,t))}function ys(e,t){const n=b(e),r=Bs(n);n.Au.delete(t),r.Ko()&&bs(n,t),0===n.Au.size&&(r.Ko()?r.jo():Ss(n)&&n.bu.set("Unknown"))}function vs(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(L.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bs(e).su(t)}function bs(e,t){e.Vu.qt(t),Bs(e).iu(t)}function ws(e){e.Vu=new Jr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Bs(e).start(),e.bu.gu()}function _s(e){return Ss(e)&&!Bs(e).Uo()&&e.Au.size>0}function Ss(e){return 0===b(e).vu.size}function Es(e){e.Vu=void 0}async function xs(e){e.Au.forEach(((t,n)=>{vs(e,t)}))}async function Ts(e,t){Es(e),_s(e)?(e.bu.Iu(t),ws(e)):e.bu.set("Unknown")}async function Is(e,t,n){if(e.bu.set("Online"),t instanceof Xr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Os(e,n)}else if(t instanceof Qr?e.Vu.Ht(t):t instanceof Yr?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(L.min()))try{const t=await Aa(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ot.EMPTY_BYTE_STRING,r.snapshotVersion)),bs(e,t);const i=new Ni(r.target,t,n,r.sequenceNumber);vs(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){f("RemoteStore","Failed to raise snapshot:",t),await Os(e,t)}}async function Os(e,t,n){if(!ce(t))throw t;e.vu.add(1),await ms(e),e.bu.set("Offline"),n||(n=()=>Aa(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{f("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await ps(e)}))}function Cs(e,t){return t().catch((n=>Os(e,n,t)))}async function ks(e){const t=b(e),n=Vs(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;As(t);)try{const e=await Ra(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Ps(t,e)}catch(e){await Os(t,e)}Rs(t)&&Ds(t)}function As(e){return Ss(e)&&e.Eu.length<10}function Ps(e,t){e.Eu.push(t);const n=Vs(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Rs(e){return Ss(e)&&!Vs(e).Uo()&&e.Eu.length>0}function Ds(e){Vs(e).start()}async function Ns(e){Vs(e).hu()}async function Ms(e){const t=Vs(e);for(const n of e.Eu)t.uu(n.mutations)}async function js(e,t,n){const r=e.Eu.shift(),i=Ar.from(r,t,n);await Cs(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ks(e)}async function Ls(e,t){t&&Vs(e).ou&&await async function(e,t){if(jr(n=t.code)&&n!==w.ABORTED){const n=e.Eu.shift();Vs(e).Qo(),await Cs(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ks(e)}var n}(e,t),Rs(e)&&Ds(e)}async function Fs(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.vu.add(3),await ms(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await ps(n)}async function Us(e,t){const n=b(e);t?(n.vu.delete(2),await ps(n)):t||(n.vu.add(2),await ms(n),n.bu.set("Unknown"))}function Bs(e){return e.Su||(e.Su=function(e,t,n){const r=b(e);return r.fu(),new us(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:xs.bind(null,e),ao:Ts.bind(null,e),nu:Is.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),_s(e)?ws(e):e.bu.set("Unknown")):(await e.Su.stop(),Es(e))}))),e.Su}function Vs(e){return e.Du||(e.Du=function(e,t,n){const r=b(e);return r.fu(),new ls(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Ns.bind(null,e),ao:Ls.bind(null,e),au:Ms.bind(null,e),cu:js.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await ks(e)):(await e.Du.stop(),e.Eu.length>0&&(f("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class zs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new zs(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qs(e,t){if(p("AsyncQueue","".concat(t,": ").concat(e)),ce(e))return new _(w.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ws{constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=Vn(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ws))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ws;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gs{constructor(){this.Cu=new $e(z.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):y():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hs{constructor(e,t,n,r,i,o,a,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Hs(e,t,Ws.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&An(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ks{constructor(){this.Nu=void 0,this.listeners=[]}}class Qs{constructor(){this.queries=new Ln((e=>Pn(e)),An),this.onlineState="Unknown",this.ku=new Set}}async function Ys(e,t){const n=b(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ks),i)try{o.Nu=await n.onListen(r)}catch(e){const n=qs(e,"Initialization of query '".concat(Rn(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Zs(n)}async function Xs(e,t){const n=b(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function $s(e,t){const n=b(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Zs(n)}function Js(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Zs(e){e.ku.forEach((e=>{e.next()}))}class ec{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hs(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class tc{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class nc{constructor(e){this.serializer=e}rr(e){return fi(this.serializer,e)}ur(e){return e.metadata.exists?bi(this.serializer,e.document,!1):Ut.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ui(e)}}class rc{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ic(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=U.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new nc(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Qn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=b(e);let o=Qn(),a=Un();for(const u of n){const e=t.rr(u.metadata.name);u.document&&(o=o.add(e));const n=t.ur(u);n.setReadTime(t.cr(u.metadata.readTime)),a=a.insert(e,n)}const s=i.Zi.newChangeBuffer({trackRemovals:!0}),c=await Da(i,function(e){return On(_n(U.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Pa(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Bs.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new nc(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await Ua(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function ic(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class oc{constructor(e){this.key=e}}class ac{constructor(e){this.key=e}}class sc{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qn(),this.mutatedKeys=Qn(),this.tc=Mn(e),this.ec=new Ws(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Gs,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Dn(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.rc(u,l)||(n.track({type:2,doc:l}),f=!0,(s&&this.tc(l,s)>0||c&&this.tc(l,c)<0)&&(a=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(s||c)&&(a=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new Hs(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Gs,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qn(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new ac(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new oc(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Qn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Hs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class uc{constructor(e){this.key=e,this.fc=!1}}class lc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ln((e=>Pn(e)),An),this._c=new Map,this.mc=new Set,this.gc=new $e(z.comparator),this.yc=new Map,this.Ic=new ca,this.Tc={},this.Ec=new Map,this.Ac=Lo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function hc(e,t){const n=Lc(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await Da(n.localStore,On(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await dc(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&gs(n.remoteStore,e)}return i}async function dc(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Ma(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Ec(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await Ma(e.localStore,t,!0),a=new sc(t,o.ir),s=a.sc(o.documents),c=Kr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,c);Ec(e,n,u.cc);const l=new cc(t,n,a);return e.wc.set(t,l),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function fc(e,t){const n=b(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!An(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Na(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),ys(n.remoteStore,r.targetId),_c(n,r.targetId)})).catch(ne)):(_c(n,r.targetId),await Na(n.localStore,r.targetId,!0))}async function pc(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const c=i.get(s);if(!c)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(ot.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&a.push(n.Bs.updateTargetData(e,u))}));let s=Un(),c=Qn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Pa(e,o,t.documentUpdates).next((e=>{s=e.nr,c=e.sr}))),!r.isEqual(L.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return re.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?v(r.fc):e.removedDocuments.size>0&&(v(r.fc),r.fc=!1))})),await Ic(n,e,t)}catch(e){await ne(e)}}function mc(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Zs(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gc(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new $e(z.comparator);e=e.insert(o,Ut.newNoDocument(o,L.min()));const n=Qn().add(o),i=new Hr(L.min(),new Map,new $e(D),e,n);await pc(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Tc(r)}else await Na(r.localStore,t,!1).then((()=>_c(r,t,n))).catch(ne)}async function yc(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=re.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);v(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);wc(n,r,null),bc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,e)}catch(e){await ne(e)}}async function vc(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(v(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);wc(r,t,n),bc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ic(r,e)}catch(n){await ne(n)}}function bc(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function wc(e,t,n){const r=b(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function _c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Sc(e,t)}))}function Sc(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(ys(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Tc(e))}function Ec(e,t,n){for(const r of n)r instanceof oc?(e.Ic.addReference(r.key,t),xc(e,r)):r instanceof ac?(f("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Sc(e,r.key)):y()}function xc(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(f("SyncEngine","New document in limbo: "+n),e.mc.add(r),Tc(e))}function Tc(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new z(U.fromString(t)),r=e.Ac.next();e.yc.set(r,new uc(n)),e.gc=e.gc.insert(n,r),gs(e.remoteStore,new Ni(On(_n(n.path)),r,"TargetPurposeLimboResolution",me.ct))}}async function Ic(e,t,n){const r=b(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ta.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>re.forEach(t,(t=>re.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>re.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ce(e))throw e;f("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Oc(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){f("SyncEngine","User change. New user:",t.toKey());const e=await ka(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new _(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ic(n,e.er)}}function Cc(e,t){const n=b(e),r=n.yc.get(t);if(r&&r.fc)return Qn().add(r.key);{let e=Qn();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function kc(e,t){const n=b(e),r=await Ma(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&Ec(n,t.targetId,i.cc),i}async function Ac(e,t){const n=b(e);return La(n.localStore,t).then((e=>Ic(n,e)))}async function Pc(e,t,n,r){const i=b(e),o=await function(e,t){const n=b(e),r=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):re.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await ks(i.remoteStore):"acknowledged"===n||"rejected"===n?(wc(i,t,r||null),bc(i,t),function(e,t){b(b(e).mutationQueue).Cn(t)}(i.localStore,t)):y(),await Ic(i,o)):f("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Rc(e,t,n){const r=b(e),i=[],o=[];for(const a of t){let e;const t=r._c.get(a);if(t&&0!==t.length){e=await Da(r.localStore,On(t[0]));for(const e of t){const t=r.wc.get(e),n=await kc(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await ja(r.localStore,a);e=await Da(r.localStore,t),await dc(r,Dc(t),a,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function Dc(e){return wn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Nc(e){const t=b(e);return b(b(t.localStore).persistence).$i()}async function Mc(e,t,n,r){const i=b(e);if(i.vc)return void f("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await La(i.localStore,Nn(o[0])),r=Hr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ot.EMPTY_BYTE_STRING);await Ic(i,e,r);break}case"rejected":await Na(i.localStore,t,!0),_c(i,t,r);break;default:y()}}async function jc(e,t,n){const r=Lc(e);if(r.vc){for(const e of t){if(r._c.has(e)){f("SyncEngine","Adding an already active target "+e);continue}const t=await ja(r.localStore,e),n=await Da(r.localStore,t);await dc(r,Dc(t),n.targetId,!1,n.resumeToken),gs(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await Na(r.localStore,e,!1).then((()=>{ys(r.remoteStore,e),_c(r,e)})).catch(ne)}}function Lc(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gc.bind(null,t),t.dc.nu=$s.bind(null,t.eventManager),t.dc.Pc=Js.bind(null,t.eventManager),t}function Fc(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vc.bind(null,t),t}class Uc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=as(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ca(this.persistence,new Ia,e.initialUser,this.serializer)}createPersistence(e){return new pa(ga.zs,this.serializer)}createSharedClientState(e){return new Ya}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bc extends Uc{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){v(this.persistence.referenceDelegate instanceof ya);const n=this.persistence.referenceDelegate.garbageCollector;return new Wo(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new pa((e=>ya.zs(e,t)),this.serializer)}}class Vc extends Uc{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await Fc(this.Vc.syncEngine),await ks(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ca(this.persistence,new Ia,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Wo(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new pe(t,this.persistence);return new fe(e.asyncQueue,n)}createPersistence(e){const t=xa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new _a(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,is(),os(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ya}}class zc extends Vc{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof Qa&&(this.sharedClientState.syncEngine={jr:Pc.bind(null,t),zr:Mc.bind(null,t),Wr:jc.bind(null,t),$i:Nc.bind(null,t),Qr:Ac.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=b(e);if(Lc(n),Fc(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Rc(n,e.toArray());n.vc=!0,await Us(n.remoteStore,!0);for(const r of t)gs(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(_c(n,i),Na(n.localStore,i,!0)))),ys(n.remoteStore,i)})),await t,await Rc(n,e),function(e){const t=b(e);t.yc.forEach(((e,n)=>{ys(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new $e(z.comparator)}(n),n.vc=!1,await Us(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=is();if(!Qa.D(t))throw new _(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=xa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qa(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class qc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oc.bind(null,this.syncEngine),await Us(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qs}createDatastore(e){const t=as(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new rs(r));var r;return function(e,t,n,r){return new hs(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>mc(this.syncEngine,e,0),o=$a.D()?new $a:new Xa,new fs(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new lc(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=b(e);f("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await ms(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function Wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Gc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):p("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Hc{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new S,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new tc(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Kc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=b(e),r=gi(n.serializer)+"/documents",i={documents:t.map((e=>di(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){v(!!t.found),t.found.name,t.found.updateTime;const n=fi(e,t.found.name),r=ui(t.found.updateTime),i=t.found.createTime?ui(t.found.createTime):L.min(),o=new Lt({mapValue:{fields:t.found.fields}});return Ut.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);const n=fi(e,t.missing),r=ui(t.readTime);return Ut.newNoDocument(n,r)}(e,t):y()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());v(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Or(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=z.fromPath(t);this.mutations.push(new Cr(n,this.precondition(n)))})),await async function(e,t){const n=b(e),r=gi(n.serializer)+"/documents",i={writes:t.map((e=>wi(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=L.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(L.min())?pr.exists(!1):pr.updateTime(t):pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(L.min()))throw new _(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(t)}return pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qc{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new ss(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new Kc(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!ge(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jr(t)}return!1}}class Yc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=u.UNAUTHENTICATED,this.clientId=R.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{f("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(f("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qs(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xc(e,t){e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ka(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function $c(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Zc(e);f("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Fs(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fs(t.remoteStore,n))),e._onlineComponents=t}function Jc(e){return"FirebaseError"===e.name?e.code===w.FAILED_PRECONDITION||e.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Zc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){f("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Jc(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await Xc(e,new Uc)}}else f("FirestoreClient","Using default OfflineComponentProvider"),await Xc(e,new Uc);return e._offlineComponents}async function eu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(f("FirestoreClient","Using user provided OnlineComponentProvider"),await $c(e,e._uninitializedComponentsProvider._online)):(f("FirestoreClient","Using default OnlineComponentProvider"),await $c(e,new qc))),e._onlineComponents}function tu(e){return Zc(e).then((e=>e.persistence))}function nu(e){return Zc(e).then((e=>e.localStore))}function ru(e){return eu(e).then((e=>e.remoteStore))}function iu(e){return eu(e).then((e=>e.syncEngine))}function ou(e){return eu(e).then((e=>e.datastore))}async function au(e){const t=await eu(e),n=t.eventManager;return n.onListen=hc.bind(null,t.syncEngine),n.onUnlisten=fc.bind(null,t.syncEngine),n}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gc({next:o=>{t.enqueueAndForget((()=>Xs(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new _(w.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new _(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new ec(_n(n.path),o,{includeMetadataChanges:!0,Ku:!0});return Ys(e,a)}(await au(e),e.asyncQueue,t,n,r))),r.promise}function cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gc({next:n=>{t.enqueueAndForget((()=>Xs(e,a))),n.fromCache&&"server"===r.source?i.reject(new _(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ec(n,o,{includeMetadataChanges:!0,Ku:!0});return Ys(e,a)}(await au(e),e.asyncQueue,t,n,r))),r.promise}function uu(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Br().encode(e):e,function(e,t){return new Hc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wc(e,t);if(e instanceof ArrayBuffer)return Wc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,as(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=b(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=b(e),r=ui(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(ic(r));const i=new rc(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const a=await i.complete();return await Ic(e,a.Ju,void 0),await function(e,t){const n=b(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return m("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await iu(e),i,r)}))}function lu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hu=new Map;function du(e,t,n){if(!n)throw new _(w.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fu(e,t,n,r){if(!0===t&&!0===r)throw new _(w.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pu(e){if(!z.isDocumentKey(e))throw new _(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mu(e){if(z.isDocumentKey(e))throw new _(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":y()}function yu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gu(e);throw new _(w.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function vu(e,t){if(t<=0)throw new _(w.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class bu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class wu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new x;switch(e.type){case"firstParty":return new C(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hu.get(e);t&&(f("ComponentProvider","Removing Datastore"),hu.delete(e),t.terminate())}(this),Promise.resolve()}}function _u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=yu(e,wu))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=u.MOCK_USER;else{t=a.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new _(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new u(o)}e._authCredentials=new T(new E(t,n))}}class Su{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Su(this.firestore,e,this._key)}}class Eu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Eu(this.firestore,e,this._query)}}class xu extends Eu{constructor(e,t,n){super(e,t,_n(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Su(this.firestore,null,new z(e))}withConverter(e){return new xu(this.firestore,e,this._path)}}function Tu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=a.getModularInstance(e),1===arguments.length&&(t=R.A()),du("doc","path",t),e instanceof wu){const n=U.fromString(t,...r);return pu(n),new Su(e,null,new z(n))}{if(!(e instanceof Su||e instanceof xu))throw new _(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(U.fromString(t,...r));return pu(n),new Su(e.firestore,e instanceof xu?e.converter:null,new z(n))}}function Iu(e,t){return e=a.getModularInstance(e),t=a.getModularInstance(t),e instanceof Eu&&t instanceof Eu&&e.firestore===t.firestore&&An(e._query,t._query)&&e.converter===t.converter}class Ou{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ss(this,"async_queue_retry"),this.Xc=()=>{const e=os();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=os();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=os();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new S;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ce(e))throw e;f("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw p("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=zs.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&y()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Cu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class ku{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Au extends wu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ou,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ru(this),this._firestoreClient.terminate()}}function Pu(e){return e._firestoreClient||Ru(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ru(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ft(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lu(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Yc(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Du(e,t,n){const r=new S;return e.asyncQueue.enqueue((async()=>{try{await Xc(e,n),await $c(e,t),r.resolve()}catch(e){const n=e;if(!Jc(n))throw n;m("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Nu(e){if(e._initialized||e._terminated)throw new _(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class ju{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(ot.fromBase64String(e))}catch(e){throw new _(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Lu(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new V(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uu{constructor(e){this._methodName=e}}class Bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return D(this._lat,e._lat)||D(this._long,e._long)}}const Vu=/^__.*__$/;class zu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Er(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sr(e,this.data,t,this.fieldTransforms)}}class qu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Er(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class Gu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Wu(this.ca)&&Vu.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||as(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gu({ca:e,methodName:t,ga:n,path:V.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(e){const t=e._freezeSettings(),n=as(e._databaseId);return new Hu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qu(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);sl("Data must be an object, but it was:",a,r);const s=ol(r,a);let c,u;if(o.merge)c=new rt(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=cl(t,r,n);if(!a.contains(i))throw new _(w.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));dl(e,i)||e.push(i)}c=new rt(e),u=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=a.fieldTransforms;return new zu(new Lt(s),c,u)}class Yu extends Uu{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function Xu(e,t,n){return new Gu({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $u extends Uu{_toFieldTransform(e){return new dr(e.path,new ir)}isEqual(e){return e instanceof $u}}class Ju extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Xu(this,e,!0),n=this.pa.map((e=>il(e,t))),r=new or(n);return new dr(e.path,r)}isEqual(e){return this===e}}class Zu extends Uu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Xu(this,e,!0),n=this.pa.map((e=>il(e,t))),r=new sr(n);return new dr(e.path,r)}isEqual(e){return this===e}}class el extends Uu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ur(e.serializer,Zn(e.serializer,this.Ia));return new dr(e.path,t)}isEqual(e){return this===e}}function tl(e,t,n,r){const i=e.ya(1,t,n);sl("Data must be an object, but it was:",i,r);const o=[],s=Lt.empty();Ye(r,((e,r)=>{const c=ll(t,e,n);r=a.getModularInstance(r);const u=i.da(c);if(r instanceof Yu)o.push(c);else{const e=il(r,u);null!=e&&(o.push(c),s.set(c,e))}}));const c=new rt(o);return new qu(s,c,i.fieldTransforms)}function nl(e,t,n,r,i,o){const s=e.ya(1,t,n),c=[cl(t,r,n)],u=[i];if(o.length%2!=0)throw new _(w.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<o.length;a+=2)c.push(cl(t,o[a])),u.push(o[a+1]);const l=[],h=Lt.empty();for(let f=c.length-1;f>=0;--f)if(!dl(l,c[f])){const e=c[f];let t=u[f];t=a.getModularInstance(t);const n=s.da(e);if(t instanceof Yu)l.push(e);else{const r=il(t,n);null!=r&&(l.push(e),h.set(e,r))}}const d=new rt(l);return new qu(h,d,s.fieldTransforms)}function rl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return il(n,e.ya(r?4:3,t))}function il(e,t){if(al(e=a.getModularInstance(e)))return sl("Unsupported field value:",t,e),ol(e,t);if(e instanceof Uu)return function(e,t){if(!Wu(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=il(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=a.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=j.fromDate(e);return{timestampValue:ai(t.serializer,n)}}if(e instanceof j){const n=new j(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ai(t.serializer,n)}}if(e instanceof Bu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lu)return{bytesValue:si(t.serializer,e._byteString)};if(e instanceof Su){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:li(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(gu(e)))}(e,t)}function ol(e,t){const n={};return Xe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ye(e,((e,r)=>{const i=il(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function al(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof j||e instanceof Bu||e instanceof Lu||e instanceof Su||e instanceof Uu)}function sl(e,t,n){if(!al(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gu(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function cl(e,t,n){if((t=a.getModularInstance(t))instanceof Fu)return t._internalPath;if("string"==typeof t)return ll(e,t);throw hl("Field path arguments must be of type string or ",e,!1,void 0,n)}const ul=new RegExp("[~\\*/\\[\\]]");function ll(e,t,n){if(t.search(ul)>=0)throw hl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Fu(...t.split("."))._internalPath}catch(r){throw hl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hl(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(i)),c+=")"),new _(w.INVALID_ARGUMENT,s+e+c)}function dl(e,t){return e.some((e=>e.isEqual(t)))}class fl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Su(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ml("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pl extends fl{data(){return super.data()}}function ml(e,t){return"string"==typeof t?ll(e,t):t instanceof Fu?t._internalPath:t._delegate._internalPath}function gl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yl{}class vl extends yl{}class bl extends vl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new bl(e,t,n)}_apply(e){const t=this._parse(e);return Cl(e._query,t),new Eu(e.firestore,e.converter,Cn(e._query,t))}_parse(e){const t=Ku(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new _(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ol(a,o);const t=[];for(const n of a)t.push(Il(r,e,n));s={arrayValue:{values:t}}}else s=Il(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ol(a,o),s=rl(n,"where",a,"in"===o||"not-in"===o);return Ht.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class wl extends yl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wl(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Kt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Cl(n,i),n=Cn(n,i)}(e._query,t),new Eu(e.firestore,e.converter,Cn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _l extends vl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _l(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new _(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new qt(t,n);return function(e,t){if(null===En(e)){const n=xn(e);null!==n&&kl(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Eu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new bn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Sl extends vl{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Sl(e,t,n)}_apply(e){return new Eu(e.firestore,e.converter,kn(e._query,this._limit,this._limitType))}}class El extends vl{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new El(e,t,n)}_apply(e){const t=Tl(e,this.type,this._docOrFields,this._inclusive);return new Eu(e.firestore,e.converter,function(e,t){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class xl extends vl{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new xl(e,t,n)}_apply(e){const t=Tl(e,this.type,this._docOrFields,this._inclusive);return new Eu(e.firestore,e.converter,function(e,t){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Tl(e,t,n,r){if(n[0]=a.getModularInstance(n[0]),n[0]instanceof fl)return function(e,t,n,r,i){if(!r)throw new _(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of In(e))if(a.field.isKeyField())o.push(Tt(t,r.key));else{const e=r.data.field(a.field);if(lt(e))throw new _(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new _(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Bt(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Ku(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new _(w.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let c=0;c<i.length;c++){const o=i[c];if(a[c].field.isKeyField()){if("string"!=typeof o)throw new _(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Tn(e)&&-1!==o.indexOf("/"))throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(U.fromString(o));if(!z.isDocumentKey(n))throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new z(n);s.push(Tt(t,i))}else{const e=rl(n,r,o);s.push(e)}}return new Bt(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Il(e,t,n){if("string"==typeof(n=a.getModularInstance(n))){if(""===n)throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tn(t)&&-1!==n.indexOf("/"))throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(U.fromString(n));if(!z.isDocumentKey(r))throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Tt(e,new z(r))}if(n instanceof Su)return Tt(e,n._key);throw new _(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gu(n),"."))}function Ol(e,t){if(!Array.isArray(e)||0===e.length)throw new _(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Cl(e,t){if(t.isInequality()){const n=xn(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new _(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=En(e);null!==i&&kl(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _(w.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _(w.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function kl(e,t,n){if(!n.isEqual(t))throw new _(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}function Al(e,t){if(!(t instanceof bl||t instanceof wl))throw new _(w.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Pl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ut(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ye(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Bu(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ht(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dt(e));default:return null}}convertTimestamp(e){const t=st(e);return new j(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=U.fromString(e);v(Di(n));const r=new pt(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||p("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Rl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Dl extends Pl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Su(this.firestore,null,t)}}function Nl(){return new Mu("count")}class Ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jl extends fl{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ml("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ll extends jl{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Fl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ml(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ll(this._firestore,this._userDataWriter,n.key,n,new Ml(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ll(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ml(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ll(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ml(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ul(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ul(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class Bl extends Pl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Su(this.firestore,null,t)}}function Vl(e,t){return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Fc(e);try{const e=await function(e,t){const n=b(e),r=j.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qn());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Un(),c=Qn();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=wr(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Er(e.key,t,Ft(t.value.mapValue),pr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:zn(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new $e(D)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ic(r,e.changes),await ks(r.remoteStore)}catch(e){const t=qs(e,"Failed to persist write");n.reject(t)}}(await iu(e),t,n))),n.promise}(Pu(e),t)}function zl(e,t,n){const r=n.docs.get(t._key),i=new Bl(e);return new jl(e,i,t._key,r,new Ml(n.hasPendingWrites,n.fromCache),t.converter)}function ql(e,t){const n=yu(e.firestore,Au),r=Pu(n),i=function(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r));return n}(t,((e,t)=>new Rr(t,e._aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new S;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await ou(e);r.resolve(async function(e,t,n){var r;const i=b(e),{request:o,du:a}=function(e,t,n){const r=Ei(e,t),i={},o=[];let a=0;return n.forEach((e=>{const t="aggregate_"+a++;i[t]=e.alias,"count"===e.yt?o.push({alias:t,count:{}}):"avg"===e.yt?o.push({alias:t,avg:{field:ki(e.fieldPath)}}):"sum"===e.yt&&o.push({alias:t,sum:{field:ki(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:r.structuredQuery},parent:r.parent},du:i}}(i.serializer,On(t),n),s=o.parent;i.connection.po||delete o.parent;const c=(await i.vo("RunAggregationQuery",s,o,1)).filter((e=>!!e.result));v(1===c.length);const u=null===(r=c[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[a[t]]=u[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Bl(e);return new ju(t,r,n)}(n,e,t)))}class Wl{constructor(e){this.kind="memory",this._onlineComponentProvider=new qc,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Uc}toJSON(){return{kind:this.kind}}}class Gl{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=Xl(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Hl{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Uc}toJSON(){return{kind:this.kind}}}class Kl{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Bc(e)}toJSON(){return{kind:this.kind}}}class Ql{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new qc,this._offlineComponentProvider=new Vc(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class Yl{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new qc,this._offlineComponentProvider=new zc(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function Xl(e){return new Ql(null==e?void 0:e.forceOwnership)}const $l={maxAttempts:5};class Jl{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,t,n){this._verifyNotCommitted();const r=Zl(e,this._firestore),i=Rl(r.converter,t,n),o=Qu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,pr.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Zl(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];return i="string"==typeof(t=a.getModularInstance(t))||t instanceof Fu?nl(this._dataReader,"WriteBatch.update",r._key,t,n,s):tl(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zl(e,this._firestore);return this._mutations=this._mutations.concat(new Or(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zl(e,t){if((e=a.getModularInstance(e)).firestore!==t)throw new _(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class eh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ku(e)}get(e){const t=Zl(e,this._firestore),n=new Dl(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return y();const r=e[0];if(r.isFoundDocument())return new fl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new fl(this._firestore,n,t._key,null,t.converter);throw y()}))}set(e,t,n){const r=Zl(e,this._firestore),i=Rl(r.converter,t,n),o=Qu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Zl(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];return i="string"==typeof(t=a.getModularInstance(t))||t instanceof Fu?nl(this._dataReader,"Transaction.update",r._key,t,n,s):tl(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Zl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zl(e,this._firestore),n=new Bl(this._firestore);return super.get(e).then((e=>new jl(this._firestore,n,t._key,e._document,new Ml(!1,!1),t.converter)))}}function th(e,t){if("string"!=typeof e[t])throw new _(w.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){l=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Au(new I(e.getProvider("auth-internal")),new A(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pt(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(c,"3.13.0",e),r.registerVersion(c,"3.13.0","cjs2017")}(),t.AbstractUserDataWriter=Pl,t.AggregateField=Mu,t.AggregateQuerySnapshot=ju,t.Bytes=Lu,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=xu,t.DocumentReference=Su,t.DocumentSnapshot=jl,t.FieldPath=Fu,t.FieldValue=Uu,t.Firestore=Au,t.FirestoreError=_,t.GeoPoint=Bu,t.LoadBundleTask=ku,t.Query=Eu,t.QueryCompositeFilterConstraint=wl,t.QueryConstraint=vl,t.QueryDocumentSnapshot=Ll,t.QueryEndAtConstraint=xl,t.QueryFieldFilterConstraint=bl,t.QueryLimitConstraint=Sl,t.QueryOrderByConstraint=_l,t.QuerySnapshot=Fl,t.QueryStartAtConstraint=El,t.SnapshotMetadata=Ml,t.Timestamp=j,t.Transaction=eh,t.WriteBatch=Jl,t._DatabaseId=pt,t._DocumentKey=z,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new k(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=x,t._FieldPath=V,t._TestingHooks=Fr,t._cast=yu,t._debugAssert=function(e,t){e||y()},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=fu,t.addDoc=function(e,t){const n=yu(e.firestore,Au),r=Tu(e),i=Rl(e.converter,t);return Vl(n,[Qu(Ku(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pr.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof Mu&&t instanceof Mu&&e._aggregateType===t._aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return Iu(e.query,t.query)&&a.deepEqual(e.data(),t.data())},t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Al("and",e))),wl._create("and",t)},t.arrayRemove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zu("arrayRemove",t)},t.arrayUnion=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ju("arrayUnion",t)},t.average=function(e){return new Mu("avg",cl("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new _(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new S;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!oe.D())return Promise.resolve();const t=e+"main";await oe.delete(t)}(xa(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=a.getModularInstance(e),du("collection","path",t),e instanceof wu){const n=U.fromString(t,...r);return mu(n),new xu(e,null,n)}{if(!(e instanceof Su||e instanceof xu))throw new _(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(U.fromString(t,...r));return mu(n),new xu(e.firestore,null,n)}},t.collectionGroup=function(e,t){if(e=yu(e,wu),du("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _(w.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Eu(e,null,function(e){return new bn(U.emptyPath(),e)}(t))},t.connectFirestoreEmulator=_u,t.count=Nl,t.deleteDoc=function(e){return Vl(yu(e.firestore,Au),[new Or(e._key,pr.none())])},t.deleteField=function(){return new Yu("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await tu(e),n=await ru(e);return t.setNetworkEnabled(!1),async function(e){const t=b(e);t.vu.add(0),await ms(t),t.bu.set("Offline")}(n)}))}(Pu(e=yu(e,Au)))},t.doc=Tu,t.documentId=function(){return new Fu("__name__")},t.enableIndexedDbPersistence=function(e,t){Nu(e=yu(e,Au));const n=Pu(e);if(n._uninitializedComponentsProvider)throw new _(w.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new qc;return Du(n,i,new Vc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))},t.enableMultiTabIndexedDbPersistence=function(e){Nu(e=yu(e,Au));const t=Pu(e);if(t._uninitializedComponentsProvider)throw new _(w.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new qc;return Du(t,r,new zc(r,n.cacheSizeBytes))},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await tu(e),n=await ru(e);return t.setNetworkEnabled(!0),function(e){const t=b(e);return t.vu.delete(0),ps(t)}(n)}))}(Pu(e=yu(e,Au)))},t.endAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xl._create("endAt",t,!0)},t.endBefore=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xl._create("endBefore",t,!1)},t.ensureFirestoreConfigured=Pu,t.executeWrite=Vl,t.getAggregateFromServer=ql,t.getCountFromServer=function(e){return ql(e,{count:Nl()})},t.getDoc=function(e){e=yu(e,Su);const t=yu(e.firestore,Au);return su(Pu(t),e._key).then((n=>zl(t,e,n)))},t.getDocFromCache=function(e){e=yu(e,Su);const t=yu(e.firestore,Au),n=Pu(t),r=new Bl(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=b(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new _(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=qs(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await nu(e),t,n))),n.promise}(n,e._key).then((n=>new jl(t,r,e._key,n,new Ml(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=yu(e,Su);const t=yu(e.firestore,Au);return su(Pu(t),e._key,{source:"server"}).then((n=>zl(t,e,n)))},t.getDocs=function(e){e=yu(e,Eu);const t=yu(e.firestore,Au),n=Pu(t),r=new Bl(t);return gl(e._query),cu(n,e._query).then((n=>new Fl(t,r,e,n)))},t.getDocsFromCache=function(e){e=yu(e,Eu);const t=yu(e.firestore,Au),n=Pu(t),r=new Bl(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Ma(e,t,!0),i=new sc(t,r.ir),o=i.sc(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=qs(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await nu(e),t,n))),n.promise}(n,e._query).then((n=>new Fl(t,r,e,n)))},t.getDocsFromServer=function(e){e=yu(e,Eu);const t=yu(e.firestore,Au),n=Pu(t),r=new Bl(t);return cu(n,e._query,{source:"server"}).then((n=>new Fl(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||"(default)",o=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const e=a.getDefaultEmulatorHostnameAndPort("firestore");e&&_u(o,...e)}return o},t.increment=function(e){return new el("increment",e)},t.initializeFirestore=function(e,t,n){n||(n="(default)");const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(a.deepEqual(r,t))return e;throw new _(w.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new _(w.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return vu("limit",e),Sl._create("limit",e,"F")},t.limitToLast=function(e){return vu("limitToLast",e),Sl._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=Pu(e=yu(e,Au)),r=new ku;return uu(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new Hl},t.memoryLocalCache=function(e){return new Wl(e)},t.memoryLruGarbageCollector=function(e){return new Kl(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=b(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await nu(e),t)))}(Pu(e=yu(e,Au)),t).then((t=>t?new Eu(e,null,t.query):null))},t.onSnapshot=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=a.getModularInstance(e);let c={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Cu(n[u])||(c=n[u],u++);const l={includeMetadataChanges:c.includeMetadataChanges};if(Cu(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[u+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let h,d,f;if(e instanceof Su)d=yu(e.firestore,Au),f=_n(e._key.path),h={next:t=>{n[u]&&n[u](zl(d,e,t))},error:n[u+1],complete:n[u+2]};else{const t=yu(e,Eu);d=yu(t.firestore,Au),f=t._query;const r=new Bl(d);h={next:e=>{n[u]&&n[u](new Fl(d,r,t,e))},error:n[u+1],complete:n[u+2]},gl(e._query)}return function(e,t,n,r){const i=new Gc(r),o=new ec(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ys(await au(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Xs(await au(e),o)))}}(Pu(d),f,l,h)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new Gc(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).ku.add(t),t.next()}(await au(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).ku.delete(t)}(await au(e),n)))}}(Pu(e=yu(e,Au)),Cu(t)?t:{next:t})},t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Al("or",e))),wl._create("or",t)},t.orderBy=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ml("orderBy",e);return _l._create(n,t)},t.persistentLocalCache=function(e){return new Gl(e)},t.persistentMultipleTabManager=function(){return new Yl},t.persistentSingleTabManager=Xl,t.query=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof yl&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof wl)).length,n=e.filter((e=>e instanceof bl)).length;if(t>1||t>0&&n>0)throw new _(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e},t.queryEqual=Iu,t.refEqual=function(e,t){return e=a.getModularInstance(e),t=a.getModularInstance(t),(e instanceof Su||e instanceof xu)&&(t instanceof Su||t instanceof xu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=yu(e,Au);const r=Object.assign(Object.assign({},$l),n);return function(e){if(e.maxAttempts<1)throw new _(w.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new S;return e.asyncQueue.enqueueAndForget((async()=>{const i=await ou(e);new Qc(e.asyncQueue,i,n,t,r).run()})),r.promise}(Pu(e),(n=>t(new eh(e,n))),r)},t.serverTimestamp=function(){return new $u("serverTimestamp")},t.setDoc=function(e,t,n){e=yu(e,Su);const r=yu(e.firestore,Au),i=Rl(e.converter,t,n);return Vl(r,[Qu(Ku(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pr.none())])},t.setIndexConfiguration=function(e,t){var n;const r=Pu(e=yu(e,Au));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new _(w.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=th(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=ll("setIndexConfiguration",th(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new K(e,2)):"ASCENDING"===n.order?t.push(new K(e,0)):"DESCENDING"===n.order&&t.push(new K(e,1))}n.push(new q(q.UNKNOWN_ID,e,t,Y.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=b(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,a=t.length;let s=0,c=0;for(;s<a&&c<o;){const o=n(e[c],t[s]);o<0?i(e[c++]):o>0?r(t[s++]):(s++,c++)}for(;s<a;)r(t[s++]);for(;c<o;)i(e[c++])}(n,t,H,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>re.waitFor(i)))))}(await nu(e),t)))}(r,i)},t.setLogLevel=function(e){h.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof jl&&t instanceof jl?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Fl&&t instanceof Fl&&e._firestore===t._firestore&&Iu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return El._create("startAfter",t,!1)},t.startAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return El._create("startAt",t,!0)},t.sum=function(e){return new Mu("sum",cl("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n){e=yu(e,Su);const r=yu(e.firestore,Au),i=Ku(r);let o;for(var s=arguments.length,c=new Array(s>3?s-3:0),u=3;u<s;u++)c[u-3]=arguments[u];return o="string"==typeof(t=a.getModularInstance(t))||t instanceof Fu?nl(i,"updateDoc",e._key,t,n,c):tl(i,"updateDoc",e._key,t),Vl(r,[o.toMutation(e._key,pr.exists(!0))])},t.waitForPendingWrites=function(e){return function(e){const t=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=b(e);Ss(n.remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=qs(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await iu(e),t))),t.promise}(Pu(e=yu(e,Au)))},t.where=function(e,t,n){const r=t,i=ml("where",e);return bl._create(i,r,n)},t.writeBatch=function(e){return Pu(e=yu(e,Au)),new Jl(e,(t=>Vl(e,t)))}},6155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(5971),a=[];t.LogLevel=void 0,(i=t.LogLevel||(t.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var s={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},c=t.LogLevel.INFO,u=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[a].apply(console,o.__spreadArray(["[".concat(i,"]  ").concat(e.name,":")],n,!1))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,o.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,o.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,o.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,o.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,o.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,o.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,o.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,o.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,o.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,o.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=h,t.setLogLevel=function(e){a.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=s[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");r>=(null!==i&&void 0!==i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:s,args:o,type:n.name})}},i=0,o=a;i<o.length;i++){r(o[i])}}},9164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,u=t>>2,l=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new c;const u=t<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=a(e);return s.encodeByteArray(t,!0)},l=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(_,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new b(n,o,t)}}const _=/\{\$([^}]+)}/g;function S(e){return JSON.parse(e)}const E=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=S(h(o[0])||""),n=S(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function x(e){return null!==e&&"object"===typeof e}class T{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function I(){}function O(e,t){return"".concat(e," failed: ").concat(t," argument ")}const C=144e5;t.CONSTANTS=r,t.DecodeBase64StringError=c,t.Deferred=g,t.ErrorFactory=w,t.FirebaseError=b,t.MAX_VALUE_MILLIS=C,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let l=0;l<16;l++)n[l]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let l=0;l<16;l++)n[l]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let l=16;l<80;l++){const e=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let l=0;l<80;l++){l<40?l<20?(r=c^a&(s^c),i=1518500249):(r=a^s^c,i=1859775393):l<60?(r=a&s|c&(a|s),i=2400959708):(r=a^s^c,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[l]&4294967295;u=c,c=s,s=4294967295&(a<<30|a>>>2),a=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)},t.assert=i,t.assertionError=o,t.async=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Promise.resolve(!0).then((()=>{e(...r)})).catch((e=>{t&&t(e)}))}},t.base64=s,t.base64Decode=h,t.base64Encode=u,t.base64urlEncodeWithoutPadding=l,t.calculateBackoffMillis=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(C,n+r)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(o)),""].join(".")},t.createSubscribe=function(e,t){const n=new T(e,t);return n.subscribe.bind(n)},t.decode=E,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const o of r){if(!i.includes(o))return!1;const r=t[o],a=n[o];if(x(r)&&x(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(const o of i)if(!r.includes(o))return!1;return!0},t.deepExtend=d,t.errorPrefix=O,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=m,t.getDefaultEmulatorHostnameAndPort=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t["_".concat(e)]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=E(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isBrowserExtension=function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"===typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=E(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=E(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){const t=E(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=S,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):"".concat(e)},t.promiseWithTimeout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;const n=new g;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate.");o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(O(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(O(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(O(e,"namespace")+"must be a valid firebase namespace.")}},8073:(e,t,n)=>{(function(){var t;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:r(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}var o="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s,c=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function u(e,t){if(t)e:{var n=c;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&a(n,e,{configurable:!0,writable:!0,value:t})}}if("function"==typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{var l;e:{var h={};try{h.__proto__={a:!0},l=h.a;break e}catch(cn){}l=!1}s=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=s;function f(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function p(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}u("Symbol",(function(e){function t(e,t){this.g=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),u("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=c[t[n]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&a(i.prototype,e,{configurable:!0,writable:!0,value:function(){return f(r(this))}})}return e})),u("Promise",(function(e){function t(e){this.g=0,this.i=void 0,this.h=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=c.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.B),reject:e(this.l)}},t.prototype.B=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.D(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.m(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.g)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.g);this.g=e,this.i=t,2===this.g&&this.C(),this.u()},t.prototype.C=function(){var e=this;o((function(){if(e.v()){var t=c.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.v=function(){if(this.o)return!1;var e=c.CustomEvent,t=c.Event,n=c.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=c.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.u=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)a.h(this.h[e]);this.h=null}};var a=new n;return t.prototype.D=function(e){var t=this.j();e.la(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.la(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.la=function(e,t){function n(){switch(r.g){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.g)}}var r=this;null==this.h?a.h(n):this.h.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=i(e),a=o.next();!a.done;a=o.next())r(a.value).la(t,n)}))},t.all=function(e){var n=i(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).la(i(a.length-1),t),o=n.next()}while(!o.done)}))},t})),u("Array.prototype.values",(function(e){return e||function(){return p(this,(function(e,t){return t}))}})),u("Array.prototype.keys",(function(e){return e||function(){return p(this,(function(e){return e}))}})),u("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=i(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function o(e){if(!m(e,c)){var t=new n;a(e,c,{value:t})}}function s(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&o(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var c="$jscomp_hidden_"+Math.random();s("freeze"),s("preventExtensions"),s("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(o(e),!m(e,c))throw Error("WeakMap key fail: "+e);return e[c][this.g]=t,this},t.prototype.get=function(e){return r(e)&&m(e,c)?e[c][this.g]:void 0},t.prototype.has=function(e){return r(e)&&m(e,c)&&m(e[c],this.g)},t.prototype.delete=function(e){return!!(r(e)&&m(e,c)&&m(e[c],this.g))&&delete e[c][this.g]},t})),u("Map",(function(e){function t(){var e={};return e.V=e.next=e.head=e}function n(e,t){var n=e.g;return f((function(){if(n){for(;n.head!=e.g;)n=n.V;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++s,a.set(t,n)):n="p_"+t;var r=e.h[n];if(r&&m(e.h,n))for(e=0;e<r.length;e++){var i=r[e];if(t!==t&&i.key!==i.key||t===i.key)return{id:n,list:r,index:e,K:i}}return{id:n,list:r,index:-1,K:void 0}}function o(e){if(this.h={},this.g=t(),this.size=0,e){e=i(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&"s"==o.value[1]&&!((o=r.next()).done||4!=o.value[0].x||"t"!=o.value[1]||!r.next().done)}catch(a){return!1}}())return e;var a=new WeakMap;o.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.K?n.K.value=t:(n.K={next:this.g,V:this.g.V,head:this.g,key:e,value:t},n.list.push(n.K),this.g.V.next=n.K,this.g.V=n.K,this.size++),this},o.prototype.delete=function(e){return!(!(e=r(this,e)).K||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.K.V.next=e.K.next,e.K.next.V=e.K.V,e.K.head=null,this.size--,!0)},o.prototype.clear=function(){this.h={},this.g=this.g.V=t(),this.size=0},o.prototype.has=function(e){return!!r(this,e).K},o.prototype.get=function(e){return(e=r(this,e).K)&&e.value},o.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},o.prototype.keys=function(){return n(this,(function(e){return e.key}))},o.prototype.values=function(){return n(this,(function(e){return e.value}))},o.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},o.prototype[Symbol.iterator]=o.prototype.entries;var s=0;return o})),u("Array.prototype.find",(function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var o=n[i];if(e.call(t,o,i,n)){e=o;break e}}e=void 0}return e}})),u("Array.prototype.entries",(function(e){return e||function(){return p(this,(function(e,t){return[e,t]}))}})),u("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var o=0;!(i=e.next()).done;)r.push(t.call(n,i.value,o++))}else for(i=e.length,o=0;o<i;o++)r.push(t.call(n,e[o],o));return r}})),u("Set",(function(e){function t(e){if(this.g=new Map,e){e=i(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&o.value[1]==t&&(!(o=r.next()).done&&o.value[0]!=t&&4==o.value[0].x&&o.value[1]==o.value[0]&&r.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)}));var g=g||{},y=this||self;function v(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function w(e){return Object.prototype.hasOwnProperty.call(e,_)&&e[_]||(e[_]=++S)}var _="closure_uid_"+(1e9*Math.random()>>>0),S=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function x(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:x).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function O(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.dc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function C(){0!=k&&(A[w(this)]=this),this.s=this.s,this.o=this.o}var k=0,A={};C.prototype.s=!1,C.prototype.va=function(){if(!this.s&&(this.s=!0,this.O(),0!=k)){var e=w(this);if(0!=k&&this.o&&0<this.o.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete A[e]}},C.prototype.O=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var P=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function R(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function D(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(v(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{y.addEventListener("test",(function(){}),t),y.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function j(e){return/^[\s\xa0]*$/.test(e)}function L(){var e=y.navigator;return e&&(e=e.userAgent)?e:""}function F(e){return-1!=L().indexOf(e)}function U(e){return U[" "](e),e}U[" "]=function(){};var B,V,z=F("Opera"),q=F("Trident")||F("MSIE"),W=F("Edge"),G=W||q,H=F("Gecko")&&!(-1!=L().toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),K=-1!=L().toLowerCase().indexOf("webkit")&&!F("Edge");function Q(){var e=y.document;return e?e.documentMode:void 0}e:{var Y="",X=function(){var e=L();return H?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):K?/WebKit\/(\S+)/.exec(e):z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(Y=X?X[1]:""),q){var $=Q();if(null!=$&&$>parseFloat(Y)){B=String($);break e}}B=Y}if(y.document&&q){var J=Q();V=J||(parseInt(B,10)||void 0)}else V=void 0;var Z=V;function ee(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(H){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:te[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ee.Z.h.call(this)}}O(ee,N);var te={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.oa=i,this.key=++re,this.ha=this.ka=!1}function oe(e){e.ha=!0,e.listener=null,e.proxy=null,e.src=null,e.oa=null}function ae(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function se(e){var t,n={};for(t in e)n[t]=e[t];return n}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ce.length;o++)n=ce[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function le(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=P(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ha&&o.listener==t&&o.capture==!!n&&o.oa==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=de(e,t,r,i);return-1<a?(t=e[a],n||(t.ka=!1)):((t=new ie(t,this.src,o,!!r,i)).ka=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ne]?e.P(t,n,b(r)?!!r.capture:!!r,i):ge(e,t,n,!1,r,i)}function ge(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=Se(e);if(s||(e[fe]=s=new le(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=_e;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=xe(n),e&&e[ne]?e.R(t,n,b(r)?!!r.capture:!!r,i):ge(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=xe(n),e&&e[ne]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=de(o=e.g[t],n,r,i))&&(oe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=de(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ha){var t=e.src;if(t&&t[ne])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(he(n,e),0==n.h&&(n.src=null,t[fe]=null)):oe(e)}}}function we(e){return e in pe?pe[e]:pe[e]="on"+e}function _e(e,t){if(e.ha)e=!0;else{t=new ee(t,this);var n=e.listener,r=e.oa||e.src;e.ka&&be(e),e=n.call(r,t)}return e}function Se(e){return(e=e[fe])instanceof le?e:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"===typeof e?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Te(){C.call(this),this.i=new le(this),this.T=this,this.J=null}function Ie(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.T,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;ue(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Oe(a,r,!0,t)&&i}if(i=Oe(a=t.g=e,r,!0,t)&&i,i=Oe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Oe(a=t.g=n[o],r,!1,t)&&i}function Oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ha&&a.capture==n){var s=a.listener,c=a.oa||a.src;a.ka&&he(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}O(Te,C),Te.prototype[ne]=!0,Te.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},Te.prototype.O=function(){if(Te.Z.O.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.J=null},Te.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.R=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ce=y.JSON.stringify;function ke(e,t){this.i=e,this.j=t,this.h=0,this.g=null}function Ae(){this.h=this.g=null}function Pe(){var e=Fe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}ke.prototype.get=function(){if(0<this.h){this.h--;var e=this.g;this.g=e.next,e.next=null}else e=this.i();return e},Ae.prototype.add=function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n};var Re=new ke((function(){return new De}),(function(e){return e.reset()}));function De(){this.next=this.g=this.h=null}function Ne(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Me(e){y.setTimeout((function(){throw e}),0)}De.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},De.prototype.reset=function(){this.next=this.g=this.h=null};var je,Le=!1,Fe=new Ae;function Ue(e,t){je||function(){var e=y.Promise.resolve(void 0);je=function(){e.then(Be)}}(),Le||(je(),Le=!0),Fe.add(e,t)}function Be(){for(var e;e=Pe();){try{e.h.call(e.g)}catch(n){Me(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Ve(e,t){Te.call(this),this.h=e||1,this.g=t||y,this.j=T(this.tb,this),this.l=Date.now()}function ze(e){e.ia=!1,e.U&&(e.g.clearTimeout(e.U),e.U=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:y.setTimeout(e,t||0)}function We(e,t,n){C.call(this),this.m=null!=n?e.bind(n):e,this.j=t,this.h=null,this.i=!1,this.g=null}if(O(Ve,Te),(t=Ve.prototype).ia=!1,t.U=null,t.tb=function(){if(this.ia){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.U=this.g.setTimeout(this.j,this.h-e):(this.U&&(this.g.clearTimeout(this.U),this.U=null),Ie(this,"tick"),this.ia&&(ze(this),this.start()))}},t.start=function(){this.ia=!0,this.U||(this.U=this.g.setTimeout(this.j,this.h),this.l=Date.now())},t.O=function(){Ve.Z.O.call(this),ze(this),delete this.g},We.prototype=o(C.prototype),We.prototype.constructor=We,d)d(We,C);else for(var Ge in C)if("prototype"!=Ge)if(Object.defineProperties){var He=Object.getOwnPropertyDescriptor(C,Ge);He&&Object.defineProperty(We,Ge,He)}else We[Ge]=C[Ge];function Ke(e){e.g=qe((function(){e.g=null,e.i&&(e.i=!1,Ke(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function Qe(e){C.call(this),this.h=e,this.g={}}We.Z=C.prototype,We.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ke(this)},We.prototype.O=function(){C.prototype.O.call(this),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},O(Qe,C);var Ye=[];function Xe(e,t,n,r){Array.isArray(n)||(n&&(Ye[0]=n.toString()),n=Ye);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function $e(e){ae(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function Je(){this.g=!0}function Ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ce(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Qe.prototype.O=function(){Qe.Z.O.call(this),$e(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.Ha=function(){this.g=!1},Je.prototype.info=function(){};var et={},tt=null;function nt(){return tt=tt||new Te}function rt(e){N.call(this,et.Wa,e)}function it(e){var t=nt();Ie(t,new rt(t,e))}function ot(e,t){N.call(this,et.STAT_EVENT,e),this.stat=t}function at(e){var t=nt();Ie(t,new ot(t,e))}function st(e,t){N.call(this,et.Xa,e),this.size=t}function ct(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return y.setTimeout((function(){e()}),t)}et.Wa="serverreachability",O(rt,N),et.STAT_EVENT="statevent",O(ot,N),et.Xa="timingevent",O(st,N);var ut={NO_ERROR:0,ub:1,Hb:2,Gb:3,Bb:4,Fb:5,Ib:6,Ta:7,TIMEOUT:8,Lb:9},lt={zb:"complete",Vb:"success",Ua:"error",Ta:"abort",Nb:"ready",Ob:"readystatechange",TIMEOUT:"timeout",Jb:"incrementaldata",Mb:"progress",Cb:"downloadprogress",cc:"uploadprogress"};function ht(){}function dt(e){return e.h||(e.h=e.i())}function ft(){}ht.prototype.h=null;var pt,mt={OPEN:"a",yb:"b",Ua:"c",Kb:"d"};function gt(){N.call(this,"d")}function yt(){N.call(this,"c")}function vt(){}function bt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.Y=r||1,this.W=new Qe(this),this.R=_t,e=G?125:void 0,this.X=new Ve(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.M=this.G=this.aa=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.ea=-1,this.J=!1,this.P=0,this.N=null,this.da=this.L=this.ca=this.T=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}O(gt,N),O(yt,N),O(vt,ht),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},pt=new vt;var _t=45e3,St={},Et={};function xt(e,t,n){e.M=1,e.v=qt(Ft(t)),e.s=n,e.T=!0,Tt(e,null)}function Tt(e,t){e.G=Date.now(),kt(e),e.A=Ft(e.v);var n=e.A,r=e.Y;Array.isArray(r)||(r=[String(r)]),nn(n.i,"t",r),e.C=0,n=e.l.J,e.h=new wt,e.g=or(e.l,n?t:null,!e.s),0<e.P&&(e.N=new We(T(e.Sa,e,e.g),e.P)),Xe(e.W,e.g,"readystatechange",e.qb),t=e.I?se(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ja(e.A,e.u,e.s,t)):(e.u="GET",e.g.ja(e.A,e.u,null,t)),it(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.Y,e.s)}function It(e){return!!e.g&&("GET"==e.u&&2!=e.M&&e.l.Ka)}function Ot(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Ct(e,n))==Et){4==t&&(e.o=4,at(14),i=!1),Ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==St){e.o=4,at(15),Ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ze(e.j,e.m,r,null),Nt(e,r)}It(e)&&r!=Et&&r!=St&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,at(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.da&&(e.da=!0,(t=e.l).g==e&&t.ea&&!t.N&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$n(t),t.N=!0,at(11))):(Ze(e.j,e.m,n,"[Invalid Chunked Response]"),Dt(e),Rt(e))}function Ct(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Et:(n=Number(t.substring(n,r)),isNaN(n)?St:(r+=1)+n>t.length?Et:(t=t.slice(r,r+n),e.C=r+n,t))}function kt(e){e.aa=Date.now()+e.R,At(e,e.R)}function At(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ct(T(e.ob,e),t)}function Pt(e){e.B&&(y.clearTimeout(e.B),e.B=null)}function Rt(e){0==e.l.H||e.J||er(e.l,e)}function Dt(e){Pt(e);var t=e.N;t&&"function"==typeof t.va&&t.va(),e.N=null,ze(e.X),$e(e.W),e.g&&(t=e.g,e.g=null,t.abort(),t.va())}function Nt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||dn(n.i,e)))if(!e.L&&dn(n.i,e)&&3==n.H){try{var r=n.Ma.g.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zn(n),qn(n)}Xn(n),at(18)}}else n.Ia=i[1],0<n.Ia-n.X&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ct(T(n.lb,n),6e3));if(1>=hn(n.i)&&n.ra){try{n.ra()}catch(g){}n.ra=void 0}}else nr(n,11)}else if((e.L||n.g==e)&&Zn(n),!j(t))for(i=n.Ma.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.X=o[0],o=o[1],2==n.H)if("c"==o[0]){n.L=o[1],n.sa=o[2];var a=o[3];null!=a&&(n.ua=a,n.l.info("VER="+n.ua));var s=o[4];null!=s&&(n.Ja=s,n.l.info("SVER="+n.Ja));var c=o[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.M=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Ga=d,zt(r.I,r.D,d))}}n.H=3,n.h&&n.h.Ea(),n.ea&&(n.T=Date.now()-e.G,n.l.info("Handshake RTT: "+n.T+"ms"));var f=e;if((r=n).za=ir(r,r.J?r.sa:null,r.aa),f.L){pn(r.i,f);var p=f,m=r.M;m&&p.setTimeout(m),p.B&&(Pt(p),kt(p)),r.g=f}else Yn(r);0<n.j.length&&Gn(n)}else"stop"!=o[0]&&"close"!=o[0]||nr(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?nr(n,7):zn(n):"noop"!=o[0]&&n.h&&n.h.Da(o),n.A=0)}it(4)}catch(g){}}function Mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(v(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.wa&&"function"==typeof e.wa)return e.wa();if(!e.ba||"function"!=typeof e.ba){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(v(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.ba&&"function"==typeof e.ba)return e.ba();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(v(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(t=bt.prototype).setTimeout=function(e){this.R=e},t.qb=function(e){e=e.target;var t=this.N;t&&3==jn(e)?t.l():this.Sa(e)},t.Sa=function(e){try{if(e==this.g)e:{var t=jn(this.g),n=this.g.La(),r=this.g.fa();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ma()||Ln(this.g)))){this.J||4!=t||7==n||it(8==n||0>=r?3:2),Pt(this);var i=this.g.fa();this.ea=i;t:if(It(this)){var o=Ln(this.g);e="";var a=o.length,s=4==jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Dt(this),Rt(this);var c="";break t}this.h.i=new y.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ma();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.Y,t,i),this.i){if(this.ca&&!this.L){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,at(12),Dt(this),Rt(this);break e}Ze(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nt(this,i)}this.T?(Ot(this,t,c),G&&this.i&&3==t&&(Xe(this.W,this.X,"tick",this.pb),this.X.start())):(Ze(this.j,this.m,c,null),Nt(this,c)),4==t&&Dt(this),this.i&&!this.J&&(4==t?er(this.l,this):(this.i=!1,kt(this)))}else(function(e){var t={};e=(e.g&&2<=jn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!j(e[n])){var r=Ne(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var o=t[i]||[];t[i]=o,o.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==i&&0<c.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),Dt(this),Rt(this)}}}catch(d){}},t.pb=function(){if(this.g){var e=jn(this.g),t=this.g.ma();this.C<t.length&&(Pt(this),Ot(this,e,t),this.i&&4!=e&&kt(this))}},t.cancel=function(){this.J=!0,Dt(this)},t.ob=function(){this.B=null;var e=Date.now();0<=e-this.aa?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.M&&(it(3),at(17)),Dt(this),this.o=2,Rt(this)):At(this,this.aa-e)};var jt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lt(e){var t;this.g=this.s=this.j="",this.o=null,this.m=this.h="",this.l=!1,e instanceof Lt?(this.l=e.l,Ut(this,e.j),this.s=e.s,this.g=e.g,Bt(this,e.o),this.h=e.h,Vt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(jt))?(this.l=!1,Ut(this,t[1]||"",!0),this.s=Wt(t[2]||""),this.g=Wt(t[3]||"",!0),Bt(this,t[4]),this.h=Wt(t[5]||"",!0),Vt(this,t[6]||"",!0),this.m=Wt(t[7]||"")):(this.l=!1,this.i=new Jt(null,this.l))}function Ft(e){return new Lt(e)}function Ut(e,t,n){e.j=n?Wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.o=t}else e.o=null}function Vt(e,t,n){t instanceof Jt?(e.i=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))}),e)),e.j=t}(e.i,e.l)):(n||(t=Gt(t,Xt)),e.i=new Jt(t,e.l))}function zt(e,t,n){e.i.set(t,n)}function qt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,Kt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.o)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Yt:Qt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Gt(n,$t)),e.join("")},Lt.prototype.resolve=function(e){var t=Ft(this),n=!!e.j;n?Ut(t,e.j):n=!!e.s,n?t.s=e.s:n=!!e.g,n?t.g=e.g:n=null!=e.o;var r=e.h;if(n)Bt(t,e.o);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?Vt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};var Kt=/[#\/\?@]/g,Qt=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,$t=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function en(e,t){Zt(e),t=on(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tn(e,t){return Zt(e),t=on(e,t),e.g.has(t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(on(e,t),R(n)),e.h+=n.length)}function rn(e){var t=new Jt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function on(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function an(e,t){this.g=e,this.map=t}function sn(e){this.l=e||un,y.PerformanceNavigationTiming?e=0<(e=y.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(y.g&&y.g.Na&&y.g.Na()&&y.g.Na().ic),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(t=Jt.prototype).add=function(e,t){Zt(this),this.i=null,e=on(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){Zt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.wa=function(){Zt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.ba=function(e){Zt(this);var t=[];if("string"===typeof e)tn(this,e)&&(t=t.concat(this.g.get(on(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return Zt(this),this.i=null,tn(this,e=on(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.ba(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.ba(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var cn,un=10;function ln(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hn(e){return e.h?1:e.g?e.g.size:0}function dn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){for(var t=e.i,n=(e=i(e.g.values())).next();!n.done;n=e.next())t=t.concat(n.value.D);return t}return R(e.i)}function gn(){}function yn(){this.g=new gn}function vn(e,t,n){var r=n||"";try{Mt(e,(function(e,n){var i=e;b(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function wn(e){this.l=e.jc||null,this.j=e.rb||!1}function _n(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(var e=i(this.g.values()),t=e.next();!t.done;t=e.next())t.value.cancel();this.g.clear()}},gn.prototype.stringify=function(e){return y.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return y.JSON.parse(e,void 0)},O(wn,ht),wn.prototype.g=function(){return new _n(this.l,this.j)},wn.prototype.i=(cn={},function(){return cn}),O(_n,Te);var Sn=0;function En(e){e.j.read().then(e.$a.bind(e)).catch(e.na.bind(e))}function xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tn(e)}function Tn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(t=_n.prototype).open=function(e,t){if(this.readyState!=Sn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tn(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||y).fetch(new Request(this.B,t)).then(this.cb.bind(this),this.na.bind(this))},t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xn(this)),this.readyState=Sn},t.cb=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.ab.bind(this),this.na.bind(this));else if("undefined"!==typeof y.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else e.text().then(this.bb.bind(this),this.na.bind(this))},t.$a=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xn(this):Tn(this),3==this.readyState&&En(this)}},t.bb=function(e){this.g&&(this.response=this.responseText=e,xn(this))},t.ab=function(e){this.g&&(this.response=e,xn(this))},t.na=function(){this.g&&xn(this)},t.setRequestHeader=function(e,t){this.v.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var In=y.JSON.parse;function On(e){Te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.D=!1,this.B=0,this.A=null,this.L=Cn,this.M=this.N=!1}O(On,Te);var Cn="",kn=/^https?$/i,An=["POST","PUT"];function Pn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Nn(e)}function Rn(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof g&&(!e.C[1]||4!=jn(e)||2!=e.fa()))if(e.v&&4==jn(e))qe(e.Oa,0,e);else if(Ie(e,"readystatechange"),4==jn(e)){e.h=!1;try{var t,n=e.fa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.I).match(jt)[1]||null;!o&&y.self&&y.self.location&&(o=y.self.location.protocol.slice(0,-1)),i=!kn.test(o?o.toLowerCase():"")}t=i}if(t)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var a=2<jn(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.fa()+"]",Rn(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.g){Mn(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Ie(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mn(e){e.g&&e.M&&(e.g.ontimeout=null),e.A&&(y.clearTimeout(e.A),e.A=null)}function jn(e){return e.g?e.g.readyState:0}function Ln(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.L){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fn(e){var t="";return ae(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fn(n),"string"===typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):zt(e,t,n))}function Bn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vn(e){this.Ja=0,this.j=[],this.l=new Je,this.sa=this.za=this.I=this.aa=this.g=this.Ga=this.D=this.qa=this.o=this.W=this.s=null,this.ib=this.Y=0,this.gb=Bn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.ca=!0,this.Ia=this.X=-1,this.da=this.A=this.C=0,this.eb=Bn("baseRetryDelayMs",5e3,e),this.kb=Bn("retryDelaySeedMs",1e4,e),this.hb=Bn("forwardChannelMaxRetries",2,e),this.Aa=Bn("forwardChannelRequestTimeoutMs",2e4,e),this.ya=e&&e.xmlHttpFactory||void 0,this.Ka=e&&e.hc||!1,this.M=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.L="",this.i=new sn(e&&e.concurrentRequestLimit),this.Ma=new yn,this.R=e&&e.fastHandshake||!1,this.P=e&&e.encodeInitMessageHeaders||!1,this.R&&this.P&&(this.P=!1),this.fb=e&&e.ec||!1,e&&e.Ha&&this.l.Ha(),e&&e.forceLongPolling&&(this.ca=!1),this.ea=!this.R&&this.ca&&e&&e.detectBufferingProxy||!1,this.ta=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ta=e.longPollingTimeout),this.ra=void 0,this.T=0,this.N=!1,this.pa=this.B=null}function zn(e){if(Wn(e),3==e.H){var t=e.Y++,n=Ft(e.I);if(zt(n,"SID",e.L),zt(n,"RID",t),zt(n,"TYPE","terminate"),Kn(e,n),(t=new bt(e,e.l,t)).M=2,t.v=qt(Ft(n)),n=!1,y.navigator&&y.navigator.sendBeacon)try{n=y.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&y.Image&&((new Image).src=t.v,n=!0),n||(t.g=or(t.l,null),t.g.ja(t.v)),t.G=Date.now(),kt(t)}rr(e)}function qn(e){e.g&&($n(e),e.g.cancel(),e.g=null)}function Wn(e){qn(e),e.u&&(y.clearTimeout(e.u),e.u=null),Zn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&y.clearTimeout(e.m),e.m=null)}function Gn(e){ln(e.i)||e.m||(e.m=!0,Ue(e.Qa,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.Y++;var r=Ft(e.I);zt(r,"SID",e.L),zt(r,"RID",n),zt(r,"AID",e.X),Kn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new bt(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.D.concat(e.j)),t=Qn(e,n,1e3),n.setTimeout(Math.round(.5*e.Aa)+Math.round(.5*e.Aa*Math.random())),fn(e.i,n),xt(n,r,t)}function Kn(e,t){e.qa&&ae(e.qa,(function(e,n){zt(t,n,e)})),e.h&&Mt({},(function(e,n){zt(t,n,e)}))}function Qn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?T(e.h.Ya,e.h,e):null;e:for(var i=e.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].g,l=i[c].map;if(0>(u-=o))o=Math.max(0,i[c].g-100),s=!1;else try{vn(l,a,"req"+u+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.j.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.da=1,Ue(e.Pa,e),e.A=0)}function Xn(e){return!(e.g||e.u||3<=e.A)&&(e.da++,e.u=ct(T(e.Pa,e),tr(e,e.A)),e.A++,!0)}function $n(e){null!=e.B&&(y.clearTimeout(e.B),e.B=null)}function Jn(e){e.g=new bt(e,e.l,"rpc",e.da),null===e.o&&(e.g.I=e.s),e.g.P=0;var t=Ft(e.za);zt(t,"RID","rpc"),zt(t,"SID",e.L),zt(t,"AID",e.X),zt(t,"CI",e.G?"0":"1"),!e.G&&e.ta&&zt(t,"TO",e.ta),zt(t,"TYPE","xmlhttp"),Kn(e,t),e.o&&e.s&&Un(t,e.o,e.s),e.M&&e.g.setTimeout(e.M);var n=e.g;e=e.sa,n.M=1,n.v=qt(Ft(t)),n.s=null,n.T=!0,Tt(n,e)}function Zn(e){null!=e.v&&(y.clearTimeout(e.v),e.v=null)}function er(e,t){var n=null;if(e.g==t){Zn(e),$n(e),e.g=null;var r=2}else{if(!dn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ie(r=nt(),new st(r,n,t,i)),Gn(e)}else Yn(e);else if(3==(i=t.o)||0==i&&0<t.ea||!(1==r&&function(e,t){return!(hn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.D.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.gb?0:e.hb))&&(e.m=ct(T(e.Qa,e,t),tr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nr(e,5);break;case 4:nr(e,10);break;case 3:nr(e,6);break;default:nr(e,2)}}function tr(e,t){var n=e.eb+Math.floor(Math.random()*e.kb);return e.isActive()||(n*=2),n*t}function nr(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=T(e.sb,e);n||(n=new Lt("//www.google.com/images/cleardot.gif"),y.location&&"http"==y.location.protocol||Ut(n,"https"),qt(n)),function(e,t){var n=new Je;if(y.Image){var r=new Image;r.onload=I(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=I(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=I(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=I(bn,n,r,"TestLoadImage: timeout",!1,t),y.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else at(2);e.H=0,e.h&&e.h.Ca(t),rr(e),Wn(e)}function rr(e){if(e.H=0,e.pa=[],e.h){var t=mn(e.i);0==t.length&&0==e.j.length||(D(e.pa,t),D(e.pa,e.j),e.i.i.length=0,R(e.j),e.j.length=0),e.h.Ba()}}function ir(e,t,n){var r=n instanceof Lt?Ft(n):new Lt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Bt(r,r.o);else{var i=y.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Lt(null);r&&Ut(o,r),t&&(o.g=t),i&&Bt(o,i),n&&(o.h=n),r=o}return n=e.D,t=e.Ga,n&&t&&zt(r,n,t),zt(r,"VER",e.ua),Kn(e,r),r}function or(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ka&&!e.ya?new On(new wn({rb:!0})):new On(e.ya)).Ra(e.J),t}function ar(){}function sr(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function cr(e,t){Te.call(this),this.g=new Vn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Fa&&(e?e["X-WebChannel-Client-Profile"]=t.Fa:e={"X-WebChannel-Client-Profile":t.Fa}),this.g.W=e,(e=t&&t.fc)&&!j(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!j(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function ur(e){gt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lr(){yt.call(this),this.status=1}function hr(e){this.g=e}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function pr(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(t=On.prototype).Ra=function(e){this.N=e},t.ja=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pt.g(),this.C=this.u?dt(this.u):dt(pt),this.g.onreadystatechange=T(this.Oa,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Pn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(var a=(o=i(r.keys())).next();!a.done;a=o.next())a=a.value,n.set(a,r.get(a))}for(r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),o=y.FormData&&e instanceof y.FormData,!(0<=P(An,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r=(t=i(n)).next();!r.done;r=t.next())r=(n=i(r.value)).next().value,n=n.next().value,this.g.setRequestHeader(r,n);this.L&&(this.g.responseType=this.L),"withCredentials"in this.g&&this.g.withCredentials!==this.N&&(this.g.withCredentials=this.N);try{Mn(this),0<this.B&&((this.M=function(e){return q&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=T(this.xa,this)):this.A=qe(this.xa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Pn(this,s)}},t.xa=function(){"undefined"!=typeof g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Nn(this))},t.O=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),On.Z.O.call(this)},t.Oa=function(){this.s||(this.G||this.v||this.l?Dn(this):this.nb())},t.nb=function(){Dn(this)},t.isActive=function(){return!!this.g},t.fa=function(){try{return 2<jn(this)?this.g.status:-1}catch(cn){return-1}},t.ma=function(){try{return this.g?this.g.responseText:""}catch(cn){return""}},t.Za=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),In(t)}},t.La=function(){return this.m},t.Va=function(){return"string"===typeof this.j?this.j:String(this.j)},(t=Vn.prototype).ua=8,t.H=1,t.Qa=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.Y=Math.floor(1e5*Math.random()),e=this.Y++;var t,n=new bt(this,this.l,e),r=this.s;if(this.W&&(r?ue(r=se(r),this.W):r=this.W),null!==this.o||this.P||(n.I=r,r=null),this.R)e:{for(var i=t=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.j.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Qn(this,n,t),zt(i=Ft(this.I),"RID",e),zt(i,"CVER",22),this.D&&zt(i,"X-HTTP-Session-Id",this.D),Kn(this,i),r&&(this.P?t="headers="+encodeURIComponent(String(Fn(r)))+"&"+t:this.o&&Un(i,this.o,r)),fn(this.i,n),this.fb&&zt(i,"TYPE","init"),this.R?(zt(i,"$req",t),zt(i,"SID","null"),n.ca=!0,xt(n,i,null)):xt(n,i,t),this.H=2}}else 3==this.H&&(e?Hn(this,e):0==this.j.length||ln(this.i)||Hn(this))},t.Pa=function(){if(this.u=null,Jn(this),this.ea&&!(this.N||null==this.g||0>=this.T)){var e=2*this.T;this.l.info("BP detection timer enabled: "+e),this.B=ct(T(this.mb,this),e)}},t.mb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.N=!0,at(10),qn(this),Jn(this))},t.lb=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),at(19))},t.sb=function(e){e?(this.l.info("Successfully pinged google.com"),at(2)):(this.l.info("Failed to ping google.com"),at(1))},t.isActive=function(){return!!this.h&&this.h.isActive(this)},(t=ar.prototype).Ea=function(){},t.Da=function(){},t.Ca=function(){},t.Ba=function(){},t.isActive=function(){return!0},t.Ya=function(){},sr.prototype.g=function(e,t){return new cr(e,t)},O(cr,Te),cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;at(0),e.aa=t,e.qa=n||{},e.G=e.ca,e.I=ir(e,null,e.aa),Gn(e)},cr.prototype.close=function(){zn(this.g)},cr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ce(e),e=n);t.j.push(new an(t.ib++,e)),3==t.H&&Gn(t)},cr.prototype.O=function(){this.g.h=null,delete this.j,zn(this.g),delete this.g,cr.Z.O.call(this)},O(ur,gt),O(lr,yt),O(hr,ar),hr.prototype.Ea=function(){Ie(this.g,"a")},hr.prototype.Da=function(e){Ie(this.g,new ur(e))},hr.prototype.Ca=function(e){Ie(this.g,new lr(e))},hr.prototype.Ba=function(){Ie(this.g,"b")},O(dr,(function(){this.blockSize=-1})),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)fr(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){fr(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){fr(this,r),i=0;break}}this.h=i,this.i+=t},dr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var mr={};function gr(e){return-128<=e&&128>e?function(e,t){var n=mr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new pr([0|e],0>e?-1:0)})):new pr([0|e],0>e?-1:0)}function yr(e){if(isNaN(e)||!isFinite(e))return br;if(0>e)return xr(yr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=vr;return new pr(t,0)}var vr=4294967296,br=gr(0),wr=gr(1),_r=gr(16777216);function Sr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Er(e){return-1==e.h}function xr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pr(n,~e.h).add(wr)}function Tr(e,t){return e.add(xr(t))}function Ir(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Or(e,t){this.g=e,this.h=t}function Cr(e,t){if(Sr(t))throw Error("division by zero");if(Sr(e))return new Or(br,br);if(Er(e))return t=Cr(xr(e),t),new Or(xr(t.g),xr(t.h));if(Er(t))return t=Cr(e,xr(t)),new Or(xr(t.g),t.h);if(30<e.g.length){if(Er(e)||Er(t))throw Error("slowDivide_ only works with positive integers.");for(var n=wr,r=t;0>=r.$(e);)n=kr(n),r=kr(r);var i=Ar(n,1),o=Ar(r,1);for(r=Ar(r,2),n=Ar(n,2);!Sr(r);){var a=o.add(r);0>=a.$(e)&&(i=i.add(n),o=a),r=Ar(r,1),n=Ar(n,1)}return t=Tr(e,i.S(t)),new Or(i,t)}for(i=br;0<=e.$(t);){for(n=Math.max(1,Math.floor(e.ga()/t.ga())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=yr(n)).S(t);Er(a)||0<a.$(e);)a=(o=yr(n-=r)).S(t);Sr(o)&&(o=wr),i=i.add(o),e=Tr(e,a)}return new Or(i,e)}function kr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.F(r)<<1|e.F(r-1)>>>31;return new pr(n,e.h)}function Ar(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.F(o+n)>>>t|e.F(o+n+1)<<32-t:e.F(o+n);return new pr(i,e.h)}(t=pr.prototype).ga=function(){if(Er(this))return-xr(this).ga();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.F(n);e+=(0<=r?r:vr+r)*t,t*=vr}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Sr(this))return"0";if(Er(this))return"-"+xr(this).toString(e);for(var t=yr(Math.pow(e,6)),n=this,r="";;){var i=Cr(n,t).g,o=((0<(n=Tr(n,i.S(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Sr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},t.F=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.$=function(e){return Er(e=Tr(this,e))?-1:Sr(e)?0:1},t.abs=function(){return Er(this)?xr(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.F(i))+(65535&e.F(i)),a=(o>>>16)+(this.F(i)>>>16)+(e.F(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new pr(n,-2147483648&n[n.length-1]?-1:0)},t.S=function(e){if(Sr(this)||Sr(e))return br;if(Er(this))return Er(e)?xr(this).S(xr(e)):xr(xr(this).S(e));if(Er(e))return xr(this.S(xr(e)));if(0>this.$(_r)&&0>e.$(_r))return yr(this.ga()*e.ga());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.F(r)>>>16,a=65535&this.F(r),s=e.F(i)>>>16,c=65535&e.F(i);n[2*r+2*i]+=a*c,Ir(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Ir(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Ir(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Ir(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pr(n,0)},t.jb=function(e){return Cr(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)&e.F(r);return new pr(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)|e.F(r);return new pr(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)^e.F(r);return new pr(n,this.h^e.h)},sr.prototype.createWebChannel=sr.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,lt.COMPLETE="complete",ft.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Te.prototype.listen=Te.prototype.P,On.prototype.listenOnce=On.prototype.R,On.prototype.getLastError=On.prototype.Va,On.prototype.getLastErrorCode=On.prototype.La,On.prototype.getStatus=On.prototype.fa,On.prototype.getResponseJson=On.prototype.Za,On.prototype.getResponseText=On.prototype.ma,On.prototype.send=On.prototype.ja,On.prototype.setWithCredentials=On.prototype.Ra,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,pr.prototype.add=pr.prototype.add,pr.prototype.multiply=pr.prototype.S,pr.prototype.modulo=pr.prototype.jb,pr.prototype.compare=pr.prototype.$,pr.prototype.toNumber=pr.prototype.ga,pr.prototype.toString=pr.prototype.toString,pr.prototype.getBits=pr.prototype.F,pr.fromNumber=yr,pr.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return xr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=yr(Math.pow(n,8)),i=br,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=yr(Math.pow(n,a)),i=i.S(a).add(yr(s))):i=(i=i.S(r)).add(yr(s))}return i},e.exports.createWebChannelTransport=function(){return new sr},e.exports.getStatEventTarget=function(){return nt()},e.exports.ErrorCode=ut,e.exports.EventType=lt,e.exports.Event=et,e.exports.Stat={Ab:0,Db:1,Eb:2,Xb:3,bc:4,Zb:5,$b:6,Yb:7,Wb:8,ac:9,PROXY:10,NOPROXY:11,Ub:12,Qb:13,Rb:14,Pb:15,Sb:16,Tb:17,wb:18,vb:19,xb:20},e.exports.FetchXmlHttpFactory=wn,e.exports.WebChannel=ft,e.exports.XhrIo=On,e.exports.Md5=dr,e.exports.Integer=pr}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},4234:function(e,t,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c=!0,u="[DecimalError] ",l=u+"Invalid argument: ",h=u+"Exponent out of range: ",d=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=7,y=9007199254740991,v=d(y/g),b={};function w(e,t){var n,r,i,o,a,s,u,l,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),c?A(t,d):t;if(u=e.d,l=t.d,a=e.e,i=t.e,u=u.slice(),o=a-i){for(o<0?(r=u,o=-o,s=l.length):(r=l,i=a,s=u.length),o>(s=(a=Math.ceil(d/g))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=u.length)-(o=l.length)<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++i),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=i,c?A(t,d):t}function _(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function S(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",(n=g-r.length)&&(o+=O(n)),o+=r;a=e[t],(n=g-(r=a+"").length)&&(o+=O(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*g;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(e){return E(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return A(E(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return T(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(c=!1,t=E(C(n,a),C(e,a),a),c=!0,A(t,i))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):w(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(c=!1,t=E(n,e,0,1).times(e),c=!0,n.minus(t)):A(new r(n),i)},b.naturalExponential=b.exp=function(){return x(this)},b.naturalLogarithm=b.ln=function(){return C(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w(t,e):P(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=T(i)+1,n=(r=i.d.length-1)*g+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},b.squareRoot=b.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(u+"NaN")}for(e=T(s),c=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=S(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(E(s,o,a+2)).times(.5),S(o.d).slice(0,a)===(t=S(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(A(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return c=!0,A(r,n)},b.times=b.mul=function(e){var t,n,r,i,o,a,s,u,l,h=this,d=h.constructor,f=h.d,p=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,(u=f.length)<(l=p.length)&&(o=f,f=p,p=o,a=u,u=l,l=a),o=[],r=a=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)s=o[i]+p[r]*f[i-r-1]+t,o[i--]=s%m|0,t=s/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,c?A(e,d.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(_(e,0,a),void 0===t?t=r.rounding:_(t,0,8),A(n,e+T(n)+1,t))},b.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=R(r,!0):(_(e,0,a),void 0===t?t=i.rounding:_(t,0,8),n=R(r=A(new i(r),e+1,t),!0,e+1)),n},b.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?R(i):(_(e,0,a),void 0===t?t=o.rounding:_(t,0,8),n=R((r=A(new o(i),e+T(i)+1,t)).abs(),!1,e+T(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return A(new t(e),T(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,n,r,i,a,s,l=this,h=l.constructor,f=+(e=new h(e));if(!e.s)return new h(o);if(!(l=new h(l)).s){if(e.s<1)throw Error(u+"Infinity");return l}if(l.eq(o))return l;if(r=h.precision,e.eq(o))return A(l,r);if(s=(t=e.e)>=(n=e.d.length-1),a=l.s,s){if((n=f<0?-f:f)<=y){for(i=new h(o),t=Math.ceil(r/g+4),c=!1;n%2&&D((i=i.times(l)).d,t),0!==(n=d(n/2));)D((l=l.times(l)).d,t);return c=!0,e.s<0?new h(o).div(i):A(i,r)}}else if(a<0)throw Error(u+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,c=!1,i=e.times(C(l,r+12)),c=!0,(i=x(i)).s=a,i},b.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=R(i,(n=T(i))<=o.toExpNeg||n>=o.toExpPos):(_(e,1,a),void 0===t?t=o.rounding:_(t,0,8),r=R(i=A(new o(i),e,t),e<=(n=T(i))||n<=o.toExpNeg,e)),r},b.toSignificantDigits=b.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(_(e,1,a),void 0===t?t=n.rounding:_(t,0,8)),A(new n(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=T(e),n=e.constructor;return R(e,t<=n.toExpNeg||t>=n.toExpPos)};var E=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,l,h,d,f,p,y,v,b,w,_,S,E,x,I,O,C,k=r.constructor,P=r.s==i.s?1:-1,R=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(u+"Division by zero");for(c=r.e-i.e,O=D.length,x=R.length,y=(p=new k(P)).d=[],l=0;D[l]==(R[l]||0);)++l;if(D[l]>(R[l]||0)&&--c,(_=null==o?o=k.precision:a?o+(T(r)-T(i))+1:o)<0)return new k(0);if(_=_/g+2|0,l=0,1==O)for(h=0,D=D[0],_++;(l<x||h)&&_--;l++)S=h*m+(R[l]||0),y[l]=S/D|0,h=S%D|0;else{for((h=m/(D[0]+1)|0)>1&&(D=e(D,h),R=e(R,h),O=D.length,x=R.length),E=O,b=(v=R.slice(0,O)).length;b<O;)v[b++]=0;(C=D.slice()).unshift(0),I=D[0],D[1]>=m/2&&++I;do{h=0,(s=t(D,v,O,b))<0?(w=v[0],O!=b&&(w=w*m+(v[1]||0)),(h=w/I|0)>1?(h>=m&&(h=m-1),1==(s=t(d=e(D,h),v,f=d.length,b=v.length))&&(h--,n(d,O<f?C:D,f))):(0==h&&(s=h=1),d=D.slice()),(f=d.length)<b&&d.unshift(0),n(v,d,b),-1==s&&(s=t(D,v,O,b=v.length))<1&&(h++,n(v,O<b?C:D,b)),b=v.length):0===s&&(h++,v=[0]),y[l++]=h,s&&v[0]?v[b++]=R[E]||0:(v=[R[E]],b=1)}while((E++<x||void 0!==v[0])&&_--)}return y[0]||y.shift(),p.e=c,A(p,a?o+T(p)+1:o)}}();function x(e,t){var n,r,i,a,s,u=0,l=0,d=e.constructor,p=d.precision;if(T(e)>16)throw Error(h+T(e));if(!e.s)return new d(o);for(null==t?(c=!1,s=p):s=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(f(2,l))/Math.LN10*2+5|0,n=r=i=new d(o),d.precision=s;;){if(r=A(r.times(e),s),n=n.times(++u),S((a=i.plus(E(r,n,s))).d).slice(0,s)===S(i.d).slice(0,s)){for(;l--;)i=A(i.times(i),s);return d.precision=p,null==t?(c=!0,A(i,p)):i}i=a}}function T(e){for(var t=e.e*g,n=e.d[0];n>=10;n/=10)t++;return t}function I(e,t,n){if(t>e.LN10.sd())throw c=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function O(e){for(var t="";e--;)t+="0";return t}function C(e,t){var n,r,i,a,s,l,h,d,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(c=!1,d=v):d=t,m.eq(10))return null==t&&(c=!0),I(y,d);if(d+=10,y.precision=d,r=(n=S(g)).charAt(0),a=T(m),!(Math.abs(a)<15e14))return h=I(y,d+2,v).times(a+""),m=C(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==t?(c=!0,A(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=S((m=m.times(e)).d)).charAt(0),p++;for(a=T(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),l=s=m=E(m.minus(o),m.plus(o),d),f=A(m.times(m),d),i=3;;){if(s=A(s.times(f),d),S((h=l.plus(E(s,new y(i),d))).d).slice(0,d)===S(l.d).slice(0,d))return l=l.times(2),0!==a&&(l=l.plus(I(y,d+2,v).times(a+""))),l=E(l,new y(p),d),y.precision=v,null==t?(c=!0,A(l,v)):l;l=h,i+=2}}function k(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/g),e.d=[],r=(n+1)%g,n<0&&(r+=g),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=g;r<i;)e.d.push(+t.slice(r,r+=g));t=t.slice(r),r=g-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),c&&(e.e>v||e.e<-v))throw Error(h+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,i,o,a,s,u,l,p,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=g,i=t,l=y[p=0];else{if((p=Math.ceil((r+1)/g))>=(o=y.length))return e;for(l=o=y[p],a=1;o>=10;o/=10)a++;i=(r%=g)-g+a}if(void 0!==n&&(s=l/(o=f(10,a-i-1))%10|0,u=t<0||void 0!==y[p+1]||l%o,u=n<4?(s||u)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||u||6==n&&(r>0?i>0?l/f(10,a-i):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(o=T(e),y.length=1,t=t-o-1,y[0]=f(10,(g-t%g)%g),e.e=d(-t/g)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,o=1,p--):(y.length=p+1,o=f(10,g-r),y[p]=i>0?(l/f(10,a-i)%f(10,i)|0)*o:0),u)for(;;){if(0==p){(y[0]+=o)==m&&(y[0]=1,++e.e);break}if(y[p]+=o,y[p]!=m)break;y[p--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(c&&(e.e>v||e.e<-v))throw Error(h+T(e));return e}function P(e,t){var n,r,i,o,a,s,u,l,h,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),c?A(t,p):t;if(u=e.d,d=t.d,r=t.e,l=e.e,u=u.slice(),a=l-r){for((h=a<0)?(n=u,a=-a,s=d.length):(n=d,r=l,s=u.length),a>(i=Math.max(Math.ceil(p/g),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=u.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}a=0}for(h&&(n=u,u=d,d=n,t.s=-t.s),s=u.length,i=d.length-s;i>0;--i)u[s++]=0;for(i=d.length;i>a;){if(u[--i]<d[i]){for(o=i;o&&0===u[--o];)u[o]=m-1;--u[o],u[i]+=m}u[i]-=d[i]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,c?A(t,p):t):new f(0)}function R(e,t,n){var r,i=T(e),o=S(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+O(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+O(-i-1)+o,n&&(r=n-a)>0&&(o+=O(r))):i>=a?(o+=O(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+O(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=O(r))),e.s<0?"-"+o:o}function D(e,t){if(e.length>t)return e.length=t,!0}function N(e){if(!e||"object"!==typeof e)throw Error(u+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(l+e);k(t,e)}if(o.prototype=b,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=N,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(s),s.default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},7143:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},6005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5054);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},2110:(e,t,n)=>{"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=c(t),m=c(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=d(n,y);try{u(t,y,v)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_},8309:(e,t,n)=>{"use strict";e.exports=n(746)},908:(e,t,n)=>{var r=n(8136)(n(7009),"DataView");e.exports=r},9676:(e,t,n)=>{var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},2492:(e,t,n)=>{var r=n(5763),i=n(8807);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},8384:(e,t,n)=>{var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},5598:(e,t,n)=>{var r=n(5763),i=n(8807);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},5797:(e,t,n)=>{var r=n(8136)(n(7009),"Map");e.exports=r},8059:(e,t,n)=>{var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8319:(e,t,n)=>{var r=n(8136)(n(7009),"Promise");e.exports=r},3924:(e,t,n)=>{var r=n(8136)(n(7009),"Set");e.exports=r},692:(e,t,n)=>{var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:(e,t,n)=>{var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),c=n(5077);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},7197:(e,t,n)=>{var r=n(7009).Symbol;e.exports=r},6219:(e,t,n)=>{var r=n(7009).Uint8Array;e.exports=r},7091:(e,t,n)=>{var r=n(8136)(n(7009),"WeakMap");e.exports=r},3665:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1211:e=>{e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},4550:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},8573:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},4903:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},9055:(e,t,n)=>{var r=n(4842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2683:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7538:(e,t,n)=>{var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),c=n(9102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&a(e),d=!n&&!l&&!h&&c(e),f=n||l||h||d,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},8950:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:e=>{e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},7897:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},405:(e,t,n)=>{var r=n(9586)("length");e.exports=r},4622:e=>{e.exports=function(e){return e.split("")}},8002:(e,t,n)=>{var r=n(2526),i=n(9231);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},8463:(e,t,n)=>{var r=n(2526),i=n(9231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7112:(e,t,n)=>{var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8430:(e,t,n)=>{var r=n(7927);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},1855:(e,t,n)=>{var r=n(4503),i=n(2742);e.exports=function(e,t){return e&&r(t,i(t),e)}},5076:(e,t,n)=>{var r=n(4503),i=n(3961);e.exports=function(e,t){return e&&r(t,i(t),e)}},2526:(e,t,n)=>{var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1905:(e,t,n)=>{var r=n(2854),i=n(4550),o=n(8463),a=n(1855),s=n(5076),c=n(4523),u=n(291),l=n(2455),h=n(7636),d=n(8248),f=n(5341),p=n(8383),m=n(9243),g=n(9759),y=n(548),v=n(3629),b=n(5174),w=n(103),_=n(8092),S=n(6995),E=n(2742),x=n(3961),T="[object Arguments]",I="[object Function]",O="[object Object]",C={};C[T]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[O]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[I]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,k,A,P,R){var D,N=1&n,M=2&n,j=4&n;if(k&&(D=P?k(t,A,P,R):k(t)),void 0!==D)return D;if(!_(t))return t;var L=v(t);if(L){if(D=m(t),!N)return u(t,D)}else{var F=p(t),U=F==I||"[object GeneratorFunction]"==F;if(b(t))return c(t,N);if(F==O||F==T||U&&!P){if(D=M||U?{}:y(t),!N)return M?h(t,s(D,t)):l(t,a(D,t))}else{if(!C[F])return P?t:{};D=g(t,F,N)}}R||(R=new r);var B=R.get(t);if(B)return B;R.set(t,D),S(t)?t.forEach((function(r){D.add(e(r,n,k,r,t,R))})):w(t)&&t.forEach((function(r,i){D.set(i,e(r,n,k,i,t,R))}));var V=L?void 0:(j?M?f:d:M?x:E)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(D,i,e(r,n,k,i,t,R))})),D}},5763:(e,t,n)=>{var r=n(8092),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1468:(e,t,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(8950),s=n(6194),c=n(75);e.exports=function(e,t,n,u){var l=-1,h=i,d=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=a(t,s(n))),u?(h=o,d=!1):t.length>=200&&(h=c,d=!1,t=new r(t));e:for(;++l<f;){var g=e[l],y=null==n?g:n(g);if(g=u||0!==g?g:0,d&&y===y){for(var v=m;v--;)if(t[v]===y)continue e;p.push(g)}else h(t,y,u)||p.push(g)}return p}},7927:(e,t,n)=>{var r=n(5358),i=n(7056)(r);e.exports=i},9863:(e,t,n)=>{var r=n(7927);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},3079:(e,t,n)=>{var r=n(152);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===c?s===s&&!r(s):n(s,c)))var c=s,u=a}return u}},7523:(e,t,n)=>{var r=n(7927);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2045:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5182:(e,t,n)=>{var r=n(1705),i=n(3529);e.exports=function e(t,n,o,a,s){var c=-1,u=t.length;for(o||(o=i),s||(s=[]);++c<u;){var l=t[c];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},5099:(e,t,n)=>{var r=n(372)();e.exports=r},5358:(e,t,n)=>{var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:(e,t,n)=>{var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1986:(e,t,n)=>{var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:(e,t,n)=>{var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},1954:e=>{e.exports=function(e,t){return e>t}},7852:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},4842:(e,t,n)=>{var r=n(2045),i=n(505),o=n(7167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:(e,t,n)=>{var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:(e,t,n)=>{var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),c=n(3629),u=n(5174),l=n(9102),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=c(e),b=c(t),w=v?d:s(e),_=b?d:s(t),S=(w=w==h?f:w)==f,E=(_=_==h?f:_)==f,x=w==_;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var T=S&&p.call(e,"__wrapped__"),I=E&&p.call(t,"__wrapped__");if(T||I){var O=T?e.value():e,C=I?t.value():t;return y||(y=new r),g(O,C,n,m,y)}}return!!x&&(y||(y=new r),a(e,t,n,m,g,y))}},3085:(e,t,n)=>{var r=n(8383),i=n(3141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},8856:(e,t,n)=>{var r=n(2854),i=n(1848);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],h=e[l],d=u[1];if(c&&u[2]){if(void 0===h&&!(l in e))return!1}else{var f=new r;if(o)var p=o(h,d,l,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},505:e=>{e.exports=function(e){return e!==e}},6703:(e,t,n)=>{var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8680:(e,t,n)=>{var r=n(8383),i=n(3141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},8870:(e,t,n)=>{var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},6025:(e,t,n)=>{var r=n(7080),i=n(4322),o=n(2100),a=n(3629),s=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},3654:(e,t,n)=>{var r=n(2936),i=n(5964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:(e,t,n)=>{var r=n(8092),i=n(2936),o=n(4221),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},8807:e=>{e.exports=function(){}},2580:e=>{e.exports=function(e,t){return e<t}},3849:(e,t,n)=>{var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},7080:(e,t,n)=>{var r=n(8856),i=n(9091),o=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:(e,t,n)=>{var r=n(1848),i=n(6181),o=n(5658),a=n(5823),s=n(5072),c=n(284),u=n(9793);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},4173:(e,t,n)=>{var r=n(2854),i=n(8002),o=n(5099),a=n(9216),s=n(8092),c=n(3961),u=n(5906);e.exports=function e(t,n,l,h,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),s(o))a(t,n,c,l,e,h,d);else{var f=h?h(u(t,c),o,c+"",t,n,d):void 0;void 0===f&&(f=o),i(t,c,f)}}),c)}},9216:(e,t,n)=>{var r=n(8002),i=n(4523),o=n(613),a=n(291),s=n(548),c=n(4963),u=n(3629),l=n(6279),h=n(5174),d=n(4786),f=n(8092),p=n(3977),m=n(9102),g=n(5906),y=n(6576);e.exports=function(e,t,n,v,b,w,_){var S=g(e,n),E=g(t,n),x=_.get(E);if(x)r(e,n,x);else{var T=w?w(S,E,n+"",e,t,_):void 0,I=void 0===T;if(I){var O=u(E),C=!O&&h(E),k=!O&&!C&&m(E);T=E,O||C||k?u(S)?T=S:l(S)?T=a(S):C?(I=!1,T=i(E,!0)):k?(I=!1,T=o(E,!0)):T=[]:p(E)||c(E)?(T=S,c(S)?T=y(S):f(S)&&!d(S)||(T=s(E))):I=!1}I&&(_.set(E,T),b(T,E,v,w,_),_.delete(E)),r(e,n,T)}}},3226:(e,t,n)=>{var r=n(8950),i=n(8667),o=n(6025),a=n(3849),s=n(9179),c=n(6194),u=n(9883),l=n(2100),h=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,c(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return u(e,t,n)}))}},4980:(e,t,n)=>{var r=n(2591),i=n(5658);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2591:(e,t,n)=>{var r=n(8667),i=n(379),o=n(3082);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],l=r(e,u);n(l,u)&&i(c,o(u,e),l)}return c}},9586:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:(e,t,n)=>{var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},7125:(e,t,n)=>{var r=n(6555),i=n(6800),o=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,a=n-1;n--;){var s=t[n];if(n==a||s!==c){var c=s;i(s)?o.call(e,s,1):r(e,s)}}return e}},7255:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},750:e=>{e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},8794:(e,t,n)=>{var r=n(2100),i=n(4262),o=n(9156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},379:(e,t,n)=>{var r=n(8463),i=n(3082),o=n(6800),a=n(8092),s=n(9793);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,l=(t=i(t,e)).length,h=l-1,d=e;null!=d&&++u<l;){var f=s(t[u]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(u!=h){var m=d[f];void 0===(p=c?c(m,f,d):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(d,f,p),d=d[f]}return e}},7026:(e,t,n)=>{var r=n(2100),i=n(1921),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},7532:(e,t,n)=>{var r=n(1547),i=n(8528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2646:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},9204:(e,t,n)=>{var r=n(7927);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},9179:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},6478:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:(e,t,n)=>{var r=n(7197),i=n(8950),o=n(3629),a=n(152),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:(e,t,n)=>{var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:e=>{e.exports=function(e){return function(t){return e(t)}}},9602:(e,t,n)=>{var r=n(692),i=n(9055),o=n(2683),a=n(75),s=n(7730),c=n(2230);e.exports=function(e,t,n){var u=-1,l=i,h=e.length,d=!0,f=[],p=f;if(n)d=!1,l=o;else if(h>=200){var m=t?null:s(e);if(m)return c(m);d=!1,l=a,p=new r}else p=t?[]:f;e:for(;++u<h;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else l(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},6555:(e,t,n)=>{var r=n(3082),i=n(5727),o=n(8978),a=n(9793);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},75:e=>{e.exports=function(e,t){return e.has(t)}},3410:(e,t,n)=>{var r=n(2100);e.exports=function(e){return"function"==typeof e?e:r}},3082:(e,t,n)=>{var r=n(3629),i=n(5823),o=n(170),a=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},9813:(e,t,n)=>{var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},6330:(e,t,n)=>{var r=n(4842);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},7215:(e,t,n)=>{var r=n(4842);e.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}},7010:(e,t,n)=>{var r=n(6219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4523:(e,t,n)=>{e=n.nmd(e);var r=n(7009),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},1022:(e,t,n)=>{var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},8503:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},4720:(e,t,n)=>{var r=n(7197),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},613:(e,t,n)=>{var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8558:(e,t,n)=>{var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,c=null===t,u=t===t,l=r(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!u)return-1}return 0}},9883:(e,t,n)=>{var r=n(8558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=c?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},6557:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),h=Array(u+l),d=!i;++c<u;)h[c]=n[c];for(;++o<s;)(d||o<a)&&(h[r[o]]=e[o]);for(;l--;)h[c++]=e[o++];return h}},449:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,h=t(a-c,0),d=Array(h+l),f=!i;++o<h;)d[o]=e[o];for(var p=o;++u<l;)d[p+u]=n[u];for(;++s<c;)(f||o<a)&&(d[p+r[s]]=e[o++]);return d}},291:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4503:(e,t,n)=>{var r=n(8463),i=n(2526);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?i(n,u,l):r(n,u,l)}return n}},2455:(e,t,n)=>{var r=n(4503),i=n(5918);e.exports=function(e,t){return r(e,i(e),t)}},7636:(e,t,n)=>{var r=n(4503),i=n(8487);e.exports=function(e,t){return r(e,i(e),t)}},5525:(e,t,n)=>{var r=n(7009)["__core-js_shared__"];e.exports=r},4498:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},4629:(e,t,n)=>{var r=n(1211),i=n(8430),o=n(6025),a=n(3629);e.exports=function(e,t){return function(n,s){var c=a(n)?r:i,u=t?t():{};return c(n,e,o(s,2),u)}}},9934:(e,t,n)=>{var r=n(8794),i=n(3195);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},7056:(e,t,n)=>{var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},372:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},5006:(e,t,n)=>{var r=n(777),i=n(7009);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){return(this&&this!==i&&this instanceof t?a:e).apply(o?n:this,arguments)}}},322:(e,t,n)=>{var r=n(9813),i=n(7302),o=n(7580),a=n(3518);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},777:(e,t,n)=>{var r=n(5763),i=n(8092);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},3884:(e,t,n)=>{var r=n(3665),i=n(777),o=n(997),a=n(5607),s=n(3885),c=n(2784),u=n(7009);e.exports=function(e,t,n){var l=i(e);return function i(){for(var h=arguments.length,d=Array(h),f=h,p=s(i);f--;)d[f]=arguments[f];var m=h<3&&d[0]!==p&&d[h-1]!==p?[]:c(d,p);return(h-=m.length)<n?a(e,t,o,i.placeholder,void 0,d,m,void 0,void 0,n-h):r(this&&this!==u&&this instanceof i?l:e,this,d)}}},5481:(e,t,n)=>{var r=n(6025),i=n(1473),o=n(2742);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[c?t[u]:u]:void 0}}},8026:(e,t,n)=>{var r=n(5598),i=n(7038),o=n(2192),a=n(9560),s=n(3629),c=n(8156);e.exports=function(e){return i((function(t){var n=t.length,i=n,u=r.prototype.thru;for(e&&t.reverse();i--;){var l=t[i];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!h&&"wrapper"==a(l))var h=new r([],!0)}for(i=h?i:n;++i<n;){l=t[i];var d=a(l),f="wrapper"==d?o(l):void 0;h=f&&c(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?h[a(f[0])].apply(h,f[3]):1==l.length&&c(l)?h[d]():h.thru(l)}return function(){var e=arguments,r=e[0];if(h&&1==e.length&&s(r))return h.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}},997:(e,t,n)=>{var r=n(6557),i=n(449),o=n(4498),a=n(777),s=n(5607),c=n(3885),u=n(4794),l=n(2784),h=n(7009);e.exports=function e(t,n,d,f,p,m,g,y,v,b){var w=128&n,_=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function I(){for(var O=arguments.length,C=Array(O),k=O;k--;)C[k]=arguments[k];if(E)var A=c(I),P=o(C,A);if(f&&(C=r(C,f,p,E)),m&&(C=i(C,m,g,E)),O-=P,E&&O<b){var R=l(C,A);return s(t,n,e,I.placeholder,d,C,R,y,v,b-O)}var D=_?d:this,N=S?D[t]:t;return O=C.length,y?C=u(C,y):x&&O>1&&C.reverse(),w&&v<O&&(C.length=v),this&&this!==h&&this instanceof I&&(N=T||a(N)),N.apply(D,C)}}},3346:(e,t,n)=>{var r=n(3665),i=n(777),o=n(7009);e.exports=function(e,t,n,a){var s=1&t,c=i(e);return function t(){for(var i=-1,u=arguments.length,l=-1,h=a.length,d=Array(h+u),f=this&&this!==o&&this instanceof t?c:e;++l<h;)d[l]=a[l];for(;u--;)d[l++]=arguments[++i];return r(f,s?n:this,d)}}},6381:(e,t,n)=>{var r=n(7255),i=n(3195),o=n(1495);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},5607:(e,t,n)=>{var r=n(8156),i=n(6226),o=n(4603);e.exports=function(e,t,n,a,s,c,u,l,h,d){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var p=[e,t,s,f?c:void 0,f?u:void 0,f?void 0:c,f?void 0:u,l,h,d],m=n.apply(void 0,p);return r(e)&&i(m,p),m.placeholder=a,o(m,e,t)}},7730:(e,t,n)=>{var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},1121:(e,t,n)=>{var r=n(7026),i=n(5006),o=n(3884),a=n(997),s=n(3346),c=n(2192),u=n(7935),l=n(6226),h=n(4603),d=n(9753),f=Math.max;e.exports=function(e,t,n,p,m,g,y,v){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var w=p?p.length:0;if(w||(t&=-97,p=m=void 0),y=void 0===y?y:f(d(y),0),v=void 0===v?v:d(v),w-=m?m.length:0,64&t){var _=p,S=m;p=m=void 0}var E=b?void 0:c(e),x=[e,t,n,p,m,_,S,g,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],p=x[3],m=x[4],!(v=x[9]=void 0===x[9]?b?0:e.length:f(x[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?o(e,t,v):32!=t&&33!=t||m.length?a.apply(void 0,x):s(e,t,n,p);else var T=i(e,t,n);return h((E?r:l)(T,x),e,t)}},7493:(e,t,n)=>{var r=n(4173),i=n(8092);e.exports=function e(t,n,o,a,s,c){return i(t)&&i(n)&&(c.set(n,t),r(t,n,void 0,e,c),c.delete(n)),t}},6013:(e,t,n)=>{var r=n(3977);e.exports=function(e){return r(e)?void 0:e}},8528:(e,t,n)=>{var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:(e,t,n)=>{var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var d=c.get(e),f=c.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var b=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,c)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},2206:(e,t,n)=>{var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),c=n(2230),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=c),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=a(f(e),f(t),r,u,h,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:(e,t,n)=>{var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var h=l;h--;){var d=u[h];if(!(c?d in t:i.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++h<l;){var y=e[d=u[h]],v=t[d];if(o)var b=c?o(v,y,d,t,e,s):o(y,v,d,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},7038:(e,t,n)=>{var r=n(5506),i=n(4262),o=n(9156);e.exports=function(e){return o(i(e,void 0,r),e+"")}},1032:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:(e,t,n)=>{var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},5341:(e,t,n)=>{var r=n(1986),i=n(8487),o=n(3961);e.exports=function(e){return r(e,o,i)}},2192:(e,t,n)=>{var r=n(1921),i=n(9694),o=r?function(e){return r.get(e)}:i;e.exports=o},9560:(e,t,n)=>{var r=n(583),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},3885:e=>{e.exports=function(e){return e.placeholder}},2799:(e,t,n)=>{var r=n(9518);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:(e,t,n)=>{var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},8136:(e,t,n)=>{var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1137:(e,t,n)=>{var r=n(2709)(Object.getPrototypeOf,Object);e.exports=r},1587:(e,t,n)=>{var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:(e,t,n)=>{var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8487:(e,t,n)=>{var r=n(1705),i=n(1137),o=n(5918),a=n(8174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},8383:(e,t,n)=>{var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),c=n(9066),u=n(7907),l="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),g=u(i),y=u(o),v=u(a),b=u(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=f)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case g:return l;case y:return h;case v:return d;case b:return f}return t}),e.exports=w},40:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2812:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},6417:(e,t,n)=>{var r=n(3082),i=n(4963),o=n(3629),a=n(6800),s=n(4635),c=n(9793);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,h=!1;++u<l;){var d=c(t[u]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++u!=l?h:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},7302:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},5403:(e,t,n)=>{var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:(e,t,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:(e,t,n)=>{var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:(e,t,n)=>{var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9243:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},9759:(e,t,n)=>{var r=n(7010),i=n(1022),o=n(8503),a=n(4720),s=n(613);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},548:(e,t,n)=>{var r=n(5763),i=n(1137),o=n(2936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},7795:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},3529:(e,t,n)=>{var r=n(7197),i=n(4963),o=n(3629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},6800:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:(e,t,n)=>{var r=n(9231),i=n(1473),o=n(6800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5823:(e,t,n)=>{var r=n(3629),i=n(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},9518:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},8156:(e,t,n)=>{var r=n(2492),i=n(2192),o=n(9560),a=n(2857);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},257:(e,t,n)=>{var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:(e,t,n)=>{var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:e=>{e.exports=function(){this.__data__=[],this.size=0}},8699:(e,t,n)=>{var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:(e,t,n)=>{var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:(e,t,n)=>{var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:(e,t,n)=>{var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:(e,t,n)=>{var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:(e,t,n)=>{var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:(e,t,n)=>{var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:(e,t,n)=>{var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:(e,t,n)=>{var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:(e,t,n)=>{var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},7935:(e,t,n)=>{var r=n(6557),i=n(449),o=n(2784),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,h=l<131,d=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!h&&!d)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var f=t[3];if(f){var p=e[3];e[3]=p?r(p,f,t[4]):f,e[4]=p?o(e[3],a):t[4]}return(f=t[5])&&(p=e[5],e[5]=p?i(p,f,t[6]):f,e[6]=p?o(e[5],a):t[6]),(f=t[7])&&(e[7]=f),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},1921:(e,t,n)=>{var r=n(7091),i=r&&new r;e.exports=i},9620:(e,t,n)=>{var r=n(8136)(Object,"create");e.exports=r},5964:(e,t,n)=>{var r=n(2709)(Object.keys,Object);e.exports=r},4221:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},9494:(e,t,n)=>{e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4262:(e,t,n)=>{var r=n(3665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},8978:(e,t,n)=>{var r=n(8667),i=n(2646);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},583:e=>{e.exports={}},4794:(e,t,n)=>{var r=n(291),i=n(6800),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var c=t[a];e[a]=i(c,n)?s[c]:void 0}return e}},2784:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[o++]=r)}return a}},7009:(e,t,n)=>{var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5906:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},5774:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:e=>{e.exports=function(e){return this.__data__.has(e)}},6226:(e,t,n)=>{var r=n(7026),i=n(3197)(r);e.exports=i},2230:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9156:(e,t,n)=>{var r=n(7532),i=n(3197)(r);e.exports=i},4603:(e,t,n)=>{var r=n(2812),i=n(7795),o=n(9156),a=n(2806);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},3197:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},511:(e,t,n)=>{var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:e=>{e.exports=function(e){return this.__data__.get(e)}},8832:e=>{e.exports=function(e){return this.__data__.has(e)}},5077:(e,t,n)=>{var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7167:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4651:(e,t,n)=>{var r=n(405),i=n(7302),o=n(3007);e.exports=function(e){return i(e)?o(e):r(e)}},7580:(e,t,n)=>{var r=n(4622),i=n(7302),o=n(2129);e.exports=function(e){return i(e)?o(e):r(e)}},170:(e,t,n)=>{var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},9793:(e,t,n)=>{var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3007:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+u+c+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+l,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},2129:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+u+c+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+l,"g");e.exports=function(e){return e.match(d)||[]}},2806:(e,t,n)=>{var r=n(4550),i=n(9055),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},8878:(e,t,n)=>{var r=n(2492),i=n(5598),o=n(291);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},9991:(e,t,n)=>{var r=n(1121);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5687:(e,t,n)=>{var r=n(8463),i=n(4503),o=n(9934),a=n(1473),s=n(2936),c=n(2742),u=Object.prototype.hasOwnProperty,l=o((function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=l},6189:(e,t,n)=>{var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},3992:(e,t,n)=>{var r=n(2646),i=n(3195),o=n(9753),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:s(o(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var u=0,l=0,h=Array(a(c/t));u<c;)h[l++]=r(e,u,u+=t);return h}},8787:(e,t,n)=>{var r=n(1905);e.exports=function(e){return r(e,4)}},8121:(e,t,n)=>{var r=n(1905);e.exports=function(e){return r(e,5)}},1547:e=>{e.exports=function(e){return function(){return e}}},5129:(e,t,n)=>{var r=n(1121);function i(e,t,n){var o=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},4003:(e,t,n)=>{var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,h,d,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=u;return c=u=void 0,p=t,h=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=l}function w(){var e=i();if(b(e))return _(e);d=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,l-(e-p)):n}(e))}function _(e){return d=void 0,y&&c?v(e):(c=u=void 0,h)}function S(){var e=i(),n=b(e);if(c=arguments,u=this,f=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(w,t),m?v(e):h}(f);if(g)return clearTimeout(d),d=setTimeout(w,t),v(f)}return void 0===d&&(d=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=f=u=d=void 0},S.flush=function(){return void 0===d?h:_(i())},S}},4521:(e,t,n)=>{var r=n(3665),i=n(8794),o=n(7493),a=n(2617),s=i((function(e){return e.push(void 0,o),r(a,void 0,e)}));e.exports=s},2902:(e,t,n)=>{var r=n(1468),i=n(5182),o=n(8794),a=n(6279),s=n(5727),c=o((function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]}));e.exports=c},9231:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},2730:(e,t,n)=>{var r=n(8573),i=n(9863),o=n(6025),a=n(3629),s=n(3195);e.exports=function(e,t,n){var c=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),c(e,o(t,3))}},86:(e,t,n)=>{var r=n(4903),i=n(7523),o=n(6025),a=n(3629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},1996:(e,t,n)=>{var r=n(5481)(n(1475));e.exports=r},1475:(e,t,n)=>{var r=n(2045),i=n(6025),o=n(9753),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}},5008:(e,t,n)=>{var r=n(5182),i=n(2034);e.exports=function(e,t){return r(i(e,t),1)}},5506:(e,t,n)=>{var r=n(5182);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},6829:(e,t,n)=>{var r=n(8026)();e.exports=r},6514:(e,t,n)=>{var r=n(4550),i=n(7927),o=n(3410),a=n(3629);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},4717:(e,t,n)=>{var r=n(767),i=n(8485),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,u,l){var h="function"==typeof n,d=n===Object(n);if(d&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var f={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},p=h?u:i,m="curry"in l&&l.curry,g="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,v=h?u.runInContext():void 0,b=h?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},w=b.ary,_=b.assign,S=b.clone,E=b.curry,x=b.forEach,T=b.isArray,I=b.isError,O=b.isFunction,C=b.isWeakMap,k=b.keys,A=b.rearg,P=b.toInteger,R=b.toPath,D=k(r.aryMethod),N={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return f.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!O(n))return e(n,Object(t));var r=[];return x(k(t),(function(e){O(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];O(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function M(e,t){if(f.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return B(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(A(a(e,n),t),n)}))}(t,n);var i=!h&&r.iterateeAry[e];if(i)return function(e,t){return B(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,i)}return t}function j(e,t,n){if(f.fixed&&(g||!r.skipFixed[e])){var i=r.methodSpread[e],a=i&&i.start;return void 0===a?w(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=r&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function L(e,t,n){return f.rearg&&n>1&&(y||!r.skipRearg[e])?A(t,r.methodRearg[e]||r.aryRearg[n]):t}function F(e,t){for(var n=-1,r=(t=R(t)).length,i=r-1,o=S(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||O(c)||I(c)||C(c)||(a[s]=S(n==i?c:Object(c))),a=a[s]}return o}function U(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=l;return function(t){var r=h?v:b,s=h?v[o]:n,c=_(_({},a),t);return e(r,i,s,c)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=f.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function V(e,t,n){var i,o=r.aliasToReal[e]||e,a=t,u=N[o];return u?a=u(t):f.immutable&&(r.mutate.array[o]?a=c(t,s):r.mutate.object[o]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(a=c(t,F))),x(D,(function(e){return x(r.aryMethod[e],(function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?j(o,L(o,a,e),e):L(o,j(o,a,e),e),i=function(e,t,n){return m||f.curry&&n>1?E(t,n):t}(0,i=M(o,i),e),!1}})),!i})),i||(i=a),i==t&&(i=m?E(i,1):function(){return t.apply(this,arguments)}),i.convert=U(o,t),i.placeholder=t.placeholder=n,i}if(!d)return V(n,u,p);var z=u,q=[];return x(D,(function(e){x(r.aryMethod[e],(function(e){var t=z[r.remap[e]||e];t&&q.push([e,V(e,t,z)])}))})),x(k(z),(function(e){var t=z[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=U(e,t),q.push([e,t])}})),x(q,(function(e){z[e[0]]=e[1]})),z.convert=function(e){return z.runInContext.convert(e)(void 0)},z.placeholder=z,x(k(z),(function(e){x(r.realToAlias[e]||[],(function(t){z[t]=z[e]}))})),z}},767:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},2635:(e,t,n)=>{e.exports={ary:n(9991),assign:n(1855),clone:n(8787),curry:n(5129),forEach:n(4550),isArray:n(3629),isError:n(3908),isFunction:n(4786),isWeakMap:n(5183),iteratee:n(8608),keys:n(3654),rearg:n(1968),toInteger:n(9753),toPath:n(168)}},5625:(e,t,n)=>{var r=n(1294)("assign",n(5687));r.placeholder=n(8485),e.exports=r},1294:(e,t,n)=>{var r=n(4717),i=n(2635);e.exports=function(e,t,n){return r(i,e,t,n)}},8137:(e,t,n)=>{var r=n(1294)("merge",n(9286));r.placeholder=n(8485),e.exports=r},8485:e=>{e.exports={}},2633:(e,t,n)=>{var r=n(1294)("setWith",n(3078));r.placeholder=n(8485),e.exports=r},6267:(e,t,n)=>{var r=n(1294)("unset",n(3986));r.placeholder=n(8485),e.exports=r},6181:(e,t,n)=>{var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},8444:(e,t,n)=>{var r=n(2526),i=n(4629),o=Object.prototype.hasOwnProperty,a=i((function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=a},7805:(e,t,n)=>{var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:(e,t,n)=>{var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:e=>{e.exports=function(e){return e}},4963:(e,t,n)=>{var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3629:e=>{var t=Array.isArray;e.exports=t},1473:(e,t,n)=>{var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6279:(e,t,n)=>{var r=n(1473),i=n(3141);e.exports=function(e){return i(e)&&r(e)}},5127:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},5174:(e,t,n)=>{e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},6364:(e,t,n)=>{var r=n(3654),i=n(8383),o=n(4963),a=n(3629),s=n(1473),c=n(5174),u=n(2936),l=n(9102),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},8111:(e,t,n)=>{var r=n(1848);e.exports=function(e,t){return r(e,t)}},3908:(e,t,n)=>{var r=n(9066),i=n(3141),o=n(3977);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},4786:(e,t,n)=>{var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},103:(e,t,n)=>{var r=n(3085),i=n(6194),o=n(9494),a=o&&o.isMap,s=a?i(a):r;e.exports=s},7061:(e,t,n)=>{var r=n(8856),i=n(9091);e.exports=function(e,t){return e===t||r(e,t,i(t))}},2066:(e,t,n)=>{var r=n(298);e.exports=function(e){return r(e)&&e!=+e}},5633:e=>{e.exports=function(e){return null==e}},298:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3977:(e,t,n)=>{var r=n(9066),i=n(1137),o=n(3141),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},6995:(e,t,n)=>{var r=n(8680),i=n(6194),o=n(9494),a=o&&o.isSet,s=a?i(a):r;e.exports=s},6769:(e,t,n)=>{var r=n(9066),i=n(3629),o=n(3141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},152:(e,t,n)=>{var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:(e,t,n)=>{var r=n(8870),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2530:e=>{e.exports=function(e){return void 0===e}},5183:(e,t,n)=>{var r=n(8383),i=n(3141);e.exports=function(e){return i(e)&&"[object WeakMap]"==r(e)}},8608:(e,t,n)=>{var r=n(1905),i=n(6025);e.exports=function(e){return i("function"==typeof e?e:r(e,1))}},6075:(e,t,n)=>{var r=n(2526),i=n(4629)((function(e,t,n){r(e,n,t)}));e.exports=i},2742:(e,t,n)=>{var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},3961:(e,t,n)=>{var r=n(7538),i=n(8664),o=n(1473);e.exports=function(e){return o(e)?r(e,!0):i(e)}},5727:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2034:(e,t,n)=>{var r=n(8950),i=n(6025),o=n(3849),a=n(3629);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},7702:(e,t,n)=>{var r=n(2526),i=n(5358),o=n(6025);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},9627:(e,t,n)=>{var r=n(3079),i=n(1954),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},9151:(e,t,n)=>{var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},9286:(e,t,n)=>{var r=n(4173),i=n(9934)((function(e,t,n){r(e,t,n)}));e.exports=i},2617:(e,t,n)=>{var r=n(4173),i=n(9934)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},6452:(e,t,n)=>{var r=n(3079),i=n(2580),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6754:e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},9694:e=>{e.exports=function(){}},72:(e,t,n)=>{var r=n(7009);e.exports=function(){return r.Date.now()}},4242:(e,t,n)=>{var r=n(8950),i=n(1905),o=n(6555),a=n(3082),s=n(4503),c=n(6013),u=n(7038),l=n(5341),h=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,l(e),n),u&&(n=i(n,7,c));for(var h=t.length;h--;)o(n,t[h]);return n}));e.exports=h},4417:(e,t,n)=>{var r=n(6025),i=n(6754),o=n(7790);e.exports=function(e,t){return o(e,i(r(t)))}},5812:(e,t,n)=>{var r=n(3226),i=n(3629);e.exports=function(e,t,n,o){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},1982:(e,t,n)=>{var r=n(8794),i=n(1121),o=n(3885),a=n(2784),s=r((function(e,t){var n=a(t,o(s));return i(e,64,void 0,t,n)}));s.placeholder={},e.exports=s},6460:(e,t,n)=>{var r=n(4980),i=n(7038)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},7790:(e,t,n)=>{var r=n(8950),i=n(6025),o=n(2591),a=n(5341);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},38:(e,t,n)=>{var r=n(9586),i=n(4084),o=n(5823),a=n(9793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},6222:(e,t,n)=>{var r=n(6381)();e.exports=r},1968:(e,t,n)=>{var r=n(1121),i=n(7038),o=i((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=o},5080:(e,t,n)=>{var r=n(2095),i=n(7927),o=n(6025),a=n(750),s=n(3629);e.exports=function(e,t,n){var c=s(e)?r:a,u=arguments.length<3;return c(e,o(t,4),n,u,i)}},4397:(e,t,n)=>{var r=n(4903),i=n(7523),o=n(6025),a=n(3629),s=n(6754);e.exports=function(e,t){return(a(e)?r:i)(e,s(o(t,3)))}},5004:(e,t,n)=>{var r=n(6025),i=n(7125);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,a=[],s=e.length;for(t=r(t,3);++o<s;){var c=e[o];t(c,o,e)&&(n.push(c),a.push(o))}return i(e,a),n}},5256:(e,t,n)=>{var r=n(3518);e.exports=function(){var e=arguments,t=r(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},4485:(e,t,n)=>{var r=n(379);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},3078:(e,t,n)=>{var r=n(379);e.exports=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:r(e,t,n,i)}},9467:(e,t,n)=>{var r=n(3654),i=n(8383),o=n(1473),a=n(6769),s=n(4651);e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},4064:(e,t,n)=>{var r=n(7897),i=n(6025),o=n(9204),a=n(3629),s=n(3195);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},4286:(e,t,n)=>{var r=n(5182),i=n(3226),o=n(8794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},8174:e=>{e.exports=function(){return[]}},9488:e=>{e.exports=function(){return!1}},8409:(e,t,n)=>{var r=n(2646),i=n(9753);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:i(t),r(e,0,t<0?0:t)):[]}},5396:(e,t,n)=>{var r=n(2646),i=n(9753);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,(t=o-t)<0?0:t,o)):[]}},3038:(e,t,n)=>{var r=n(4003),i=n(8092);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},1495:(e,t,n)=>{var r=n(2582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:(e,t,n)=>{var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:(e,t,n)=>{var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},168:(e,t,n)=>{var r=n(8950),i=n(291),o=n(3629),a=n(152),s=n(170),c=n(9793),u=n(3518);e.exports=function(e){return o(e)?r(e,c):a(e)?[e]:i(s(u(e)))}},6576:(e,t,n)=>{var r=n(4503),i=n(3961);e.exports=function(e){return r(e,i(e))}},3518:(e,t,n)=>{var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},3464:(e,t,n)=>{var r=n(2446),i=n(821),o=n(9813),a=n(6330),s=n(7215),c=n(7580),u=n(3518);e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return i(e);if(!e||!(t=r(t)))return e;var l=c(e),h=c(t),d=s(l,h),f=a(l,h)+1;return o(l,d,f).join("")}},5553:(e,t,n)=>{var r=n(2446),i=n(9813),o=n(7215),a=n(7580),s=n(3518),c=/^\s+/;e.exports=function(e,t,n){if((e=s(e))&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=r(t)))return e;var u=a(e),l=o(u,a(t));return i(u,l).join("")}},7701:(e,t,n)=>{var r=n(5182),i=n(6025),o=n(8794),a=n(9602),s=n(6279),c=n(5727),u=o((function(e){var t=c(e);return s(t)&&(t=void 0),a(r(e,1,s,!0),i(t,2))}));e.exports=u},6339:(e,t,n)=>{var r=n(6025),i=n(9602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},3986:(e,t,n)=>{var r=n(6555);e.exports=function(e,t){return null==e||r(e,t)}},8006:(e,t,n)=>{var r=n(4903),i=n(8950),o=n(9586),a=n(6478),s=n(6279),c=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=r(e,(function(e){if(s(e))return t=c(e.length,t),!0})),a(t,(function(t){return i(e,o(t))}))}},2085:(e,t,n)=>{var r=n(322)("toUpperCase");e.exports=r},2857:(e,t,n)=>{var r=n(2492),i=n(5598),o=n(8807),a=n(3629),s=n(3141),c=n(8878),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return c(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},4480:(e,t,n)=>{var r=n(8794)(n(8006));e.exports=r},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var j,L=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,xe=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ie(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Oe(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function ke(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==xe)&&(ke(),Oe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(le){De=!1}function Me(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var je=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){je=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,c){je=!1,Le=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,xt,Tt,It=!1,Ot=[],Ct=null,kt=null,At=null,Pt=new Map,Rt=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==kt&&Ft(kt)&&(kt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ot.length){Vt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==kt&&Vt(kt,e),null!==At&&Vt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return kt=jt(kt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,jt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,jt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),hn=L({},un,{view:0,detail:0}),dn=on(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},hn,{relatedTarget:0})),yn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return xn}var In=L({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(In),Cn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),Dn=[9,13,27,32],Nn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var jn=l&&"TextEvent"in window&&!Mn,Ln=l&&(!Nn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},xr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=Tr("animationend"),Or=Tr("animationiteration"),Cr=Tr("animationstart"),kr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),c(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Nr=Pr[Dr];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Or,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Ve.apply(this,arguments),je){if(!je)throw Error(o(198));var l=Le;je=!1,Le=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=c}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=On;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case Ir:case Or:case Cr:c=yn;break;case kr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var l=0!==(4&t),h=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&l.push(Gr(p,m,f)))),h)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?s:wi(c),f=null==u?s:wi(u),(s=new l(m,p+"leave",c,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((l=new l(d,p+"enter",u,n,i)).target=f,l.relatedTarget=h,m=l),h=m,c&&u)e:{for(d=u,p=0,f=l=c;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)l=Kr(l),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==c&&Qr(a,s,c,l,!1),null!==u&&null!==h&&Qr(a,h,u,l,!0)}if("select"===(c=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Xn;else if(Wn(s))if($n)g=ar;else{g=ir;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Re(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Re(n,o))&&a.unshift(Gr(n,c,s)):i||null!=(c=Re(n,o))&&a.push(Gr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function xi(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ii(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Oi={},Ci=xi(Oi),ki=xi(!1),Ai=Oi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(ki),Ti(Ci)}function Ni(e,t,n){if(Ci.current!==Oi)throw Error(o(168));Ii(Ci,t),Ii(ki,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ai=Ci.current,Ii(Ci,e),Ii(ki,ki.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(ki),Ti(Ci),Ii(Ci,e)):Ti(ki),Ii(ki,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Ki=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Ki[Qi++]=Xi,Ki[Qi++]=$i,Ki[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=xi(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function Eo(e){var t=vo.current;Ti(vo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Oo=null;function Co(e){null===Oo?Oo=[e]:Oo.push(e)}function ko(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(a=0,l=u=c=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=f,c=h):l=l.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=No(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ru(t,e,i,r),jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=No(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ru(t,e,i,r),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=No(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(ru(t,e,r,n),jo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Wo(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ri(t)?Ai:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ri(t)?Ai:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=ju(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Uu(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=ju(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,s,c){for(var u=null,l=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===l?u=y:l.sibling=y,l=y,h=g}if(m===s.length)return n(i,h),io&&Ji(i,m),u;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],c))&&(o=a(h,o,m),null===l?u=h:l.sibling=h,l=h);return io&&Ji(i,m),u}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?u=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function g(i,s,c,u){var l=M(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var h=l=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===h?l=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),l;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,u))&&(s=a(v,s,g),null===h?l=v:h.sibling=v,h=v);return io&&Ji(i,g),l}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),l}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,l=o;null!==l;){if(l.key===u){if((u=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&Yo(u)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Ko(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=ju(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Mu(a.type,a.key,a.props,null,r.mode,c)).ref=Ko(r,o,a),c.return=r,r=c)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(a,r.mode,c)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),c)}if(te(a))return m(r,o,a,c);if(M(a))return g(r,o,a,c);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fu(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var $o=Xo(!0),Jo=Xo(!1),Zo={},ea=xi(Zo),ta=xi(Zo),na=xi(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ii(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ca=xi(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,wa=0,_a=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,da.current=us,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==wa;return wa=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Oa(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Oa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,u=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=d,s=r):u=u.next=d,ma.lanes|=h,Lc|=h}l=l.next}while(null!==l&&l!==a);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Lc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Oa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Ra(e,t){var n=ma,r=Oa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Na.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&La(e)}function Ma(e,t,n){return n((function(){ja(t)&&La(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ao(e,1);null!==t&&ru(t,e,1,-1)}function Fa(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Oa().memoizedState}function Va(e,t,n,r){var i=Ia();ma.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Oa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ma.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function Ga(e,t){return za(4,2,e,t)}function Ha(e,t){return za(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ka.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Lc|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return Oa().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ko(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Co(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=ko(e,t,i,r))&&(ru(n,e,r,i=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:Io,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Fa,useDebugValue:Ya,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ac)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Ac.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:$a,useReducer:ka,useRef:Ba,useState:function(){return ka(Ca)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Oa(),ga.memoizedState,e)},useTransition:function(){return[ka(Ca)[0],Oa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},us={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:$a,useReducer:Aa,useRef:Ba,useState:function(){return Aa(Ca)},useDebugValue:Ya,useDeferredValue:function(e){var t=Oa();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ca)[0],Oa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=No(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Hc=r),ds(0,t)},n}function ms(e,t,n){(n=No(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=No(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=xa(e,t,n,r,o,i),n=Ta(),null===e||ws?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Nu(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Os(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Nc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Nc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Nc,Dc),Dc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Nc,Dc),Dc|=r;return _s(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Ri(n)?Ai:Ci.current;return o=Pi(t,o),To(t,i),n=xa(e,t,n,r,o,i),r=Ta(),null===e||ws?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var o=!0;ji(t)}else o=!1;if(To(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Io(u):u=Pi(t,u=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Go(t,a,r,u),Po=!1;var d=t.memoizedState;a.state=d,Fo(t,r,a,i),c=t.memoizedState,s!==r||d!==c||ki.current||Po?("function"===typeof l&&(Vo(t,n,l,r),c=t.memoizedState),(s=Po||qo(t,n,s,r,d,c,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yo(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Io(c):c=Pi(t,c=Ri(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==c)&&Go(t,a,r,c),Po=!1,d=t.memoizedState,a.state=d,Fo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||ki.current||Po?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(u=Po||qo(t,n,u,r,d,p,c)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,Ds,Ns,Ms,js={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ca,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Lu(c,i,0,null),e=ju(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=js,e):Us(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(a=ju(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=js,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Bs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Ac)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),ru(r,e,i,-1))}return gu(),Bs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=Xi,Ki[Qi++]=$i,Ki[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Nu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nu(r,s):(s=ju(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Nu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ti(ki),Ti(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ds(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var c in ve(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,c))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ti(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Mc&&(Mc=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return Eo(t.type._context),Ks(t),null;case 19:if(Ti(ca),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Hs(a,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ua(e))){for(t.flags|=128,Hs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>qc&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Ks(t),null}else 2*$e()-a.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ca.current,Ii(ca,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(ki),Ti(Ci),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ca),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Ur("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!$s&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fc(e,t,n),$s=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(o(160));pc(a,s,i),hc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Tu(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Tu(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&$(i,a),be(c,s);var l=be(c,a);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,l)}switch(c){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Tu(e,e.return,g)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tu(e,e.return,g)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=$e())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||h,gc(t,e),$s=l):gc(t,e),vc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(d=Zs=h;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Sc(d);continue}}null!==p?(p.return=f,Zs=p):Sc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",s))}catch(g){Tu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),vc(e),4&r&&mc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uc(e,cc(e),a);break;default:throw Error(o(161))}}catch(s){Tu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Zs=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||$s;s=Xs;var u=$s;if(Xs=a,($s=c)&&!u)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Ec(i):null!==c?(c.return=a,Zs=c):Ec(i);for(;null!==o;)Zs=o,wc(o,t,n),o=o.sibling;Zs=i,Xs=s,$s=u}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_c(e)}}function _c(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}$s||512&t.flags&&oc(t)}catch(f){Tu(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Sc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Ec(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Tu(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tu(t,i,c)}}var o=t.return;try{oc(t)}catch(c){Tu(t,o,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){Tu(t,a,c)}}}catch(c){Tu(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var xc,Tc=Math.ceil,Ic=w.ReactCurrentDispatcher,Oc=w.ReactCurrentOwner,Cc=w.ReactCurrentBatchConfig,kc=0,Ac=null,Pc=null,Rc=0,Dc=0,Nc=xi(0),Mc=0,jc=null,Lc=0,Fc=0,Uc=0,Bc=null,Vc=null,zc=0,qc=1/0,Wc=null,Gc=!1,Hc=null,Kc=null,Qc=!1,Yc=null,Xc=0,$c=0,Jc=null,Zc=-1,eu=0;function tu(){return 0!==(6&kc)?$e():-1!==Zc?Zc:Zc=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&kc)&&0!==Rc?Rc&-Rc:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<$c)throw $c=0,Jc=null,Error(o(185));yt(e,n,r),0!==(2&kc)&&e===Ac||(e===Ac&&(0===(2&kc)&&(Fc|=n),4===Mc&&cu(e,Rc)),iu(e,r),1===n&&0===kc&&0===(1&t.mode)&&(qc=$e()+500,Ui&&zi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Ac?Rc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uu.bind(null,e)):Vi(uu.bind(null,e)),ai((function(){0===(6&kc)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zc=-1,eu=0,0!==(6&kc))throw Error(o(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=kc;kc|=2;var a=mu();for(Ac===e&&Rc===t||(Wc=null,qc=$e()+500,fu(e,t));;)try{bu();break}catch(c){pu(e,c)}So(),Ic.current=a,kc=i,null!==Pc?t=0:(Ac=null,Rc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=jc,fu(e,0),cu(e,r),iu(e,$e()),n;if(6===t)cu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(a=pt(e))&&(r=a,t=au(e,a))),1===t))throw n=jc,fu(e,0),cu(e,r),iu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Vc,Wc);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(t=zc+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Vc,Wc),t);break}Su(e,Vc,Wc);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Vc,Wc),r);break}Su(e,Vc,Wc);break;default:throw Error(o(329))}}}return iu(e,$e()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Vc,Vc=n,null!==t&&su(t)),e}function su(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function cu(e,t){for(t&=~Uc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&kc))throw Error(o(327));Eu();var t=dt(e,0);if(0===(1&t))return iu(e,$e()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=jc,fu(e,0),cu(e,t),iu(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Vc,Wc),iu(e,$e()),null}function lu(e,t){var n=kc;kc|=1;try{return e(t)}finally{0===(kc=n)&&(qc=$e()+500,Ui&&zi())}}function hu(e){null!==Yc&&0===Yc.tag&&0===(6&kc)&&Eu();var t=kc;kc|=1;var n=Cc.transition,r=bt;try{if(Cc.transition=null,bt=1,e)return e()}finally{bt=r,Cc.transition=n,0===(6&(kc=t))&&zi()}}function du(){Dc=Nc.current,Ti(Nc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ti(ki),Ti(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ca);break;case 10:Eo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ac=e,Pc=e=Nu(e.current,null),Rc=Dc=t,Mc=0,jc=null,Uc=Fc=Lc=0,Vc=Bc=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Oo=null}return e}function pu(e,t){for(;;){var n=Pc;try{if(So(),da.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,ba=!1,wa=0,Oc.current=null,null===n||null===n.return){Mc=1,jc=t,Pc=null;break}e:{var a=e,s=n.return,c=n,u=t;if(t=Rc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,vs(p,s,c,0,t),1&p.mode&&gs(a,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(a,l,t),gu();break e}u=Error(o(426))}else if(io&&1&c.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,c,0,t),mo(ls(u,c));break e}}a=u=ls(u,c),4!==Mc&&(Mc=2),null===Bc?Bc=[a]:Bc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ps(0,u,t));break e;case 1:c=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ms(a,c,t));break e}}a=a.return}while(null!==a)}_u(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function mu(){var e=Ic.current;return Ic.current=as,null===e?as:e}function gu(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Ac||0===(268435455&Lc)&&0===(268435455&Fc)||cu(Ac,Rc)}function yu(e,t){var n=kc;kc|=2;var r=mu();for(Ac===e&&Rc===t||(Wc=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(So(),kc=n,Ic.current=r,null!==Pc)throw Error(o(261));return Ac=null,Rc=0,Mc}function vu(){for(;null!==Pc;)wu(Pc)}function bu(){for(;null!==Pc&&!Ye();)wu(Pc)}function wu(e){var t=xc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?_u(e):Pc=t,Oc.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Dc)))return void(Pc=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Mc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Mc&&(Mc=5)}function Su(e,t,n){var r=bt,i=Cc.transition;try{Cc.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==Yc);if(0!==(6&kc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ac&&(Pc=Ac=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Au(tt,(function(){return Eu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cc.transition,Cc.transition=null;var s=bt;bt=1;var c=kc;kc|=4,Oc.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,c=-1,u=-1,l=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=s+i),d!==a||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++l===i&&(c=s),f===a&&++h===r&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Tu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nc,nc=!1}(e,n),yc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Xe(),kc=c,bt=s,Cc.transition=a}else e.current=n;if(Qc&&(Qc=!1,Yc=e,Xc=i),a=e.pendingLanes,0===a&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=Hc,Hc=null,e;0!==(1&Xc)&&0!==e.tag&&Eu(),a=e.pendingLanes,0!==(1&a)?e===Jc?$c++:($c=0,Jc=e):$c=0,zi()}(e,t,n,r)}finally{Cc.transition=i,bt=r}return null}function Eu(){if(null!==Yc){var e=wt(Xc),t=Cc.transition,n=bt;try{if(Cc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Xc=0,0!==(6&kc))throw Error(o(331));var i=kc;for(kc|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:rc(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zs=d;else for(;null!==Zs;){var f=(h=Zs).sibling,p=h.return;if(ac(h),h===l){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zs=v;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(S){Tu(c,c.return,S)}if(c===s){Zs=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Zs=_;break e}Zs=c.return}}if(kc=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cc.transition=t}}return!1}function xu(e,t,n){e=Mo(e,t=ps(0,t=ls(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Mo(t,e=ms(t,e=ls(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Rc&n)===n&&(4===Mc||3===Mc&&(130023424&Rc)===Rc&&500>$e()-zc?fu(e,0):Uc|=n),iu(e,t)}function Ou(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tu();null!==(e=Ao(e,t))&&(yt(e,t,n),iu(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ou(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ou(e,n)}function Au(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return ju(n.children,i,a,t);case x:s=8,i|=8;break;case T:return(e=Ru(12,n,t,2|i)).elementType=T,e.lanes=a,e;case k:return(e=Ru(13,n,t,i)).elementType=k,e.lanes=a,e;case A:return(e=Ru(19,n,t,i)).elementType=A,e.lanes=a,e;case D:return Lu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case O:s=9;break e;case C:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ju(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,o,a,s,c){return e=new Bu(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function zu(e){if(!e)return Oi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function qu(e,t,n,r,i,o,a,s,c){return(e=Vu(n,r,!0,e,0,o,0,s,c)).context=zu(null),n=e.current,(o=No(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,o=tu(),a=nu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=No(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(ru(e,i,a,o),jo(e,i,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}xc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(ca,1&ca.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ii(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);To(t,n),i=xa(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ii(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=No(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),xo(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Io(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,To(t,n),Wo(t,r,i),Ho(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gu(a);o.call(e)}}var a=qu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gu(c);s.call(e)}}var c=Vu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[pi]=c.current,zr(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,c,n,r)})),c}(n,t,e,i,r);return Gu(a)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),iu(t,$e()),0===(6&kc)&&(qc=$e()+500,zi()))}break;case 13:hu((function(){var t=Ao(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ku(e,1)}},St=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)ru(t,e,134217728,tu());Ku(e,134217728)}},Et=function(e){if(13===e.tag){var t=nu(e),n=Ao(e,t);if(null!==n)ru(n,e,t,tu());Ku(e,t)}},xt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lu,ke=hu;var tl={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,Oe,lu]},nl={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){var s,c,u,l=t(e),h=t(a);if(l&&h){if((c=e.length)!=a.length)return!1;for(s=c;0!==s--;)if(!o(e[s],a[s]))return!1;return!0}if(l!=h)return!1;var d=e instanceof Date,f=a instanceof Date;if(d!=f)return!1;if(d&&f)return e.getTime()==a.getTime();var p=e instanceof RegExp,m=a instanceof RegExp;if(p!=m)return!1;if(p&&m)return e.toString()==a.toString();var g=n(e);if((c=g.length)!==n(a).length)return!1;for(s=c;0!==s--;)if(!r.call(a,g[s]))return!1;if(i&&e instanceof Element&&a instanceof Element)return e===a;for(s=c;0!==s--;)if(("_owner"!==(u=g[s])||!e.$$typeof)&&!o(e[u],a[u]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},1372:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case m:case p:case c:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:(e,t,n)=>{"use strict";n(1372)},3688:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var c=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},8010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(2791).createContext)(null);t.default=r,e.exports=t.default},5748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2791)),i=c(n(2007)),o=c(n(8150)),a=c(n(8010)),s=c(n(9606));function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.children,n=e.config,i=e.dispatch,c=e.firebase,l=e.initializeAuth,h=e.createFirestoreInstance,d=r.default.useMemo((function(){var e=(0,o.default)(c,n,i);return l&&e.initializeAuth(),e}),[c,n,i]);return h?r.default.createElement(a.default.Provider,{value:d},r.default.createElement(s.default,u({},e,{initializeAuth:!1}),t)):r.default.createElement(a.default.Provider,{value:d},t)}l.defaultProps={initializeAuth:!0},l.propTypes={children:i.default.node,config:i.default.object.isRequired,dispatch:i.default.func.isRequired,firebase:i.default.object.isRequired,initializeAuth:i.default.bool,createFirestoreInstance:i.default.func};var h=l;t.default=h,e.exports=t.default},473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(2791).createContext)(null);t.default=r,e.exports=t.default},9606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2791)),i=s(n(2007)),o=s(n(473)),a=s(n(8150));function s(e){return e&&e.__esModule?e:{default:e}}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.children,n=e.config,i=e.dispatch,s=e.firebase,c=e.createFirestoreInstance,u=e.initializeAuth,l=r.default.useMemo((function(){var e=s._reactReduxFirebaseExtended?s:(0,a.default)(s,n,i),t=c(s,n,i);return u&&e.initializeAuth(),t}),[s,n,i,c,u]);return r.default.createElement(o.default.Provider,{value:l},t)}c.defaultProps={initializeAuth:!0},c.propTypes={children:i.default.node,config:i.default.object.isRequired,dispatch:i.default.func.isRequired,createFirestoreInstance:i.default.func.isRequired,initializeAuth:i.default.bool,firebase:i.default.object.isRequired};var u=c;t.default=u,e.exports=t.default},3792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUserProfile=t.createUser=t.confirmPasswordReset=t.applyActionCode=void 0,t.handleProfileWatchResponse=b,t.init=t.handleRedirectResult=void 0,t.linkAndRetrieveDataWithCredential=function(e,t,n){return I(t.auth().currentUser.linkAndRetrieveDataWithCredential,[n],e,t)},t.linkWithCredential=void 0,t.linkWithPopup=function(e,t,n){return I(t.auth().currentUser.linkWithPopup,[n],e,t)},t.linkWithRedirect=function(e,t,n){return I(t.auth().currentUser.linkWithRedirect,[n],e,t)},t.resetPassword=t.reloadAuth=t.reauthenticate=t.logout=t.login=void 0,t.signInWithPhoneNumber=function(e,t,n,r){return x(t,e,m({phoneNumber:n,applicationVerifier:r},4<arguments.length&&void 0!==arguments[4]?arguments[4]:{}))},t.unWatchUserProfile=v,t.watchUserProfile=t.verifyPasswordResetCode=t.updateProfile=t.updateEmail=t.updateAuth=void 0;var r=h(n(6460)),i=h(n(4242)),o=h(n(6514)),a=n(3131),s=n(4783),c=n(2637),u=n(1721),l=n(4656);function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?p(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e(m(m({type:a.actionTypes.LOGIN_ERROR},n),{},{authError:t}))}function v(e){var t=e._,n=t.authUid,r=t.config,i=r.userProfile,o=r.useFirestoreForProfile;e._.profileWatch&&(o&&e.firestore?e._.profileWatch():i&&e.database&&e.database().ref().child("".concat(i,"/").concat(n)).off("value",e._.profileWatch),e._.profileWatch=null)}function b(e,t,n,r){var i,u=t._.config,h=u.profileParamsToPopulate,d=u.autoPopulateProfile,f=u.useFirestoreForProfile,p=u.logErrors,g=(i=n)&&i.val?i.val():i&&i.data&&i.exists?i.data():null;h&&!f&&(Array.isArray(h)||(0,c.isString)(h))?(0,l.promisesForPopulate)(t,n.key,g,h).then((function(t){if((0,o.default)(t,(function(t,n){e({type:a.actionTypes.SET,path:n,data:t,timestamp:Date.now(),requesting:!1,requested:!0})})),d){var i=(0,l.getPopulateObjs)(h),c=n.val();e({type:a.actionTypes.SET_PROFILE,profile:(0,s.populate)({profile:r?m(m({},c),{},{token:r}):c,data:t},"profile",i)})}else e({type:a.actionTypes.SET_PROFILE,profile:r?m(m({},g),{},{token:r}):g})})).catch((function(t){p&&console.error("RRF: Error retrieving data for profile population. Firebase:",t),e({type:a.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: ".concat(t.message)}),e({type:a.actionTypes.SET_PROFILE,profile:g})})):(f&&h&&console.warn("Profile population is not yet supported for Firestore"),e({type:a.actionTypes.SET_PROFILE,profile:r?m(m({},g),{},{token:r}):g}))}function w(e,t){var n=t._.config,r=n.onProfileListenerError,i=n.logErrors;return function(e){if(i&&console.error("Error with profile listener: ".concat(e.message||""),e),"function"==typeof r){var n=r(e,t);if("function"==typeof n.then)return n}return Promise.reject(e)}}var _=function(e,t){var n=t._,r=n.authUid,i=n.config,o=i.userProfile,s=i.useFirestoreForProfile,c=i.enableClaims;if(v(t),o)if(s&&t.firestore)t._.profileWatch=t.firestore().collection(o).doc(r).onSnapshot((function(n){return c?t.auth().currentUser.getIdTokenResult(!0).then((function(r){return b(e,t,n,r)})):b(e,t,n,null)}),w(0,t));else{if(!t.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");t._.profileWatch=t.database().ref().child("".concat(o,"/").concat(r)).on("value",(function(n){c?t.auth().currentUser.getIdTokenResult(!0).then((function(r){return b(e,t,n,r)})):b(e,t,n,null)}),w(0,t))}else c&&(t._.profileWatch=t.auth().currentUser.getIdTokenResult(!0).then((function(t){e({type:a.actionTypes.SET_PROFILE,profile:{token:t}})})))};t.watchUserProfile=_;var S=function(e,t,n,o){var s=t._.config;if(!s.userProfile||!t.database&&!t.firestore)return Promise.resolve(n);if("function"==typeof s.profileFactory)try{o=s.profileFactory(n,o,t)}catch(c){return console.error("Error occurred within profileFactory function:",c.message||c),Promise.reject(c)}return s.useFirestoreForProfile?t.firestore().collection(s.userProfile).doc(n.uid||n.user.uid).get().then((function(e){if(!s.updateProfileOnLogin&&e.exists)return e.data();var t=o;if(!t){var a=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;t=m(m({},(0,i.default)(a,s.keysToRemoveFromAuth)),{},{avatarUrl:a.photoURL})}return Array.isArray(t.providerData)&&(t.providerData=t.providerData.map((function(e){return(0,r.default)(e,s.keysToPreserveFromProviderData)}))),e.ref.set(t,{merge:!0}).then((function(){return t}))})).catch((function(t){return e({type:a.actionTypes.UNAUTHORIZED_ERROR,authError:t}),Promise.reject(t)})):t.database().ref().child("".concat(s.userProfile,"/").concat(n.user?n.user.uid:n.uid)).once("value").then((function(e){return s.updateProfileOnLogin||null===e.val()?e.ref.update(o).then((function(){return o})):e.val()})).catch((function(n){return e({type:a.actionTypes.UNAUTHORIZED_ERROR,authError:n}),"function"==typeof s.onProfileWriteError&&s.onProfileWriteError(n,t),Promise.reject(n)}))};t.createUserProfile=S;var E=function(e,t,n){if("function"==typeof t._.config.onRedirectResult&&t._.config.onRedirectResult(n,t,e),n&&n.user){var r=n.user;return t._.authUid=r.uid,_(e,t),e({type:a.actionTypes.LOGIN,auth:r,preserve:t._.config.preserveOnLogin}),S(e,t,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}};t.handleRedirectResult=E;t.init=function(e,t){t.auth&&(e({type:a.actionTypes.AUTHENTICATION_INIT_STARTED}),t.auth().onAuthStateChanged((function(n){return function(e,t,n){var r=t._.config;n?(t._.authUid=n.uid,r.presence&&(0,u.setupPresence)(e,t),e({type:a.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),_(e,t),"function"==typeof r.onAuthStateChanged&&r.onAuthStateChanged(n,t,e)):("function"==typeof r.onAuthStateChanged&&t._.config.onAuthStateChanged(n,t,e),e({type:a.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}),v(t))}(e,t,n)})),t._.config.enableRedirectHandling&&"function"==typeof t.auth().getRedirectResult&&"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("http")&&t.auth().getRedirectResult().then((function(n){return E(e,t,n)})).catch((function(t){return y(e,t),Promise.reject(t)})),t.auth().currentUser,e({type:a.actionTypes.AUTHENTICATION_INIT_FINISHED}))};var x=function(e,t,n){var r;t._.config.resetBeforeLogin&&y(e,null);var i=(0,u.getLoginMethodAndParams)(t,n),o=i.method,a=i.params;return(r=t.auth())[o].apply(r,d(a)).then((function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword","signInWithEmailLink"].includes(o))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(o))return t._.config.updateProfileOnLogin?S(e,t,r,n.profile):{user:r};if("signInWithPhoneNumber"===o)return m(m({},r),{},{confirm:function(n){return r.confirm(n).then((function(n){var r=n.user,i=n.additionalUserInfo;return S(e,t,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then((function(e){return{profile:e,user:r,additionalUserInfo:i}}))}))}});var i=r.user||r;return S(e,t,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then((function(e){return m({profile:e},r)}))})).catch((function(t){return y(e,t),Promise.reject(t)}))};t.login=x;t.reauthenticate=function(e,t,n){var r,i=(0,u.getReauthenticateMethodAndParams)(t,n),o=i.method,a=i.params;return(r=t.auth().currentUser)[o].apply(r,d(a)).then((function(r){if(!r)return Promise.resolve(null);if("reauthenticateWithPhoneNumber"===o)return m(m({},r),{},{confirm:function(n){return r.confirm(n).then((function(n){var r=n.user,i=n.additionalUserInfo;return S(e,t,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then((function(e){return{profile:e,user:r,additionalUserInfo:i}}))}))}});var i=r.user||r;return S(e,t,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then((function(e){return m({profile:e},r)}))})).catch((function(t){return y(e,t,{reauthenticate:!0}),Promise.reject(t)}))};t.logout=function(e,t){return v(t),t.auth().signOut().then((function(){var n={type:a.actionTypes.LOGOUT};return t._.config.preserveOnLogout&&(n.preserve=t._.config.preserveOnLogout),e(n),t._.authUid=null,t}))};t.createUser=function(e,t,n,r){var i=n.email,o=n.password;if(y(e,null),!i||!o){var a=new Error("Email and Password are required to create user");return y(e,a),Promise.reject(a)}return t.auth().createUserWithEmailAndPassword(i,o).then((function(n){return S(e,t,n,r||{email:i})})).catch((function(t){return y(e,t),Promise.reject(t)}))};t.resetPassword=function(e,t,n){return y(e,null),t.auth().sendPasswordResetEmail(n).catch((function(t){if(t){if("auth/user-not-found"===t.code)y(e,m(m({},t),{},{message:"The specified user account does not exist."}));else y(e,t);return Promise.reject(t)}}))};t.confirmPasswordReset=function(e,t,n,r){return y(e,null),t.auth().confirmPasswordReset(n,r).catch((function(t){if(t){switch(t.code){case"auth/expired-action-code":y(e,new Error("The action code has expired."));break;case"auth/invalid-action-code":y(e,new Error("The action code is invalid."));break;case"auth/user-disabled":y(e,new Error("The user is disabled."));break;case"auth/user-not-found":y(e,new Error("The user is not found."));break;case"auth/weak-password":y(e,new Error("The password is not strong enough."));break;default:y(e,t)}return Promise.reject(t)}}))};t.verifyPasswordResetCode=function(e,t,n){return y(e,null),t.auth().verifyPasswordResetCode(n).catch((function(t){return t&&y(e,t),Promise.reject(t)}))};t.applyActionCode=function(e,t,n){return y(e,null),t.auth().applyActionCode(n).catch((function(t){return t&&y(e,t),Promise.reject(t)}))};var T=function(e,t,n,r){var i=t._.config;return e({type:a.actionTypes.PROFILE_UPDATE_START,payload:n}),(i.useFirestoreForProfile?u.updateProfileOnFirestore:u.updateProfileOnRTDB)(t,n,r).then((function(t){return e({type:a.actionTypes.PROFILE_UPDATE_SUCCESS,payload:i.useFirestoreForProfile?t.data():t.val()}),t})).catch((function(t){return e({type:a.actionTypes.PROFILE_UPDATE_ERROR,error:t}),Promise.reject(t)}))};t.updateProfile=T;t.updateAuth=function(e,t,n,r){if(e({type:a.actionTypes.AUTH_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update auth.");return e({type:a.actionTypes.AUTH_UPDATE_ERROR,payload:i}),Promise.reject(i)}return t.auth().currentUser.updateProfile(n).then((function(i){return e({type:a.actionTypes.AUTH_UPDATE_SUCCESS,auth:t.auth().currentUser}),r?T(e,t,n):i})).catch((function(t){return e({type:a.actionTypes.AUTH_UPDATE_ERROR,error:t}),Promise.reject(t)}))};t.updateEmail=function(e,t,n,r){if(e({type:a.actionTypes.EMAIL_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update email.");return e({type:a.actionTypes.EMAIL_UPDATE_ERROR,error:i}),Promise.reject(i)}return t.auth().currentUser.updateEmail(n).then((function(i){return e({type:a.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?T(e,t,{email:n}):i})).catch((function(t){return e({type:a.actionTypes.EMAIL_UPDATE_ERROR,error:t}),Promise.reject(t)}))};t.reloadAuth=function(e,t){if(e({type:a.actionTypes.AUTH_RELOAD_START}),!t.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return e({type:a.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return t.auth().currentUser.reload().then((function(){var n=t.auth().currentUser;return e({type:a.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n})).catch((function(t){return e({type:a.actionTypes.AUTH_RELOAD_ERROR,error:t}),Promise.reject(t)}))};function I(e,t,n,r){if(n({type:a.actionTypes.AUTH_LINK_START}),!r.auth().currentUser){var i=new Error("User must be logged in to link with credential.");return n({type:a.actionTypes.AUTH_LINK_ERROR,error:i}),Promise.reject(i)}return e.apply(void 0,d(t)).then((function(e){return n({type:a.actionTypes.AUTH_LINK_SUCCESS,payload:e}),e})).catch((function(e){return n({type:a.actionTypes.AUTH_LINK_ERROR,error:e}),Promise.reject(e)}))}t.linkWithCredential=function(e,t,n){if(e({type:a.actionTypes.AUTH_LINK_START}),!t.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return e({type:a.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return t.auth().currentUser.linkWithCredential(n).then((function(t){return e({type:a.actionTypes.AUTH_LINK_SUCCESS,payload:t}),t})).catch((function(t){return e({type:a.actionTypes.AUTH_LINK_ERROR,error:t}),Promise.reject(t)}))}},1565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=function(e,t,n){var i=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).dispatchAction,o=e._.config.dispatchRemoveAction;return e.database().ref(n).remove().then((function(){return o&&(!(void 0!==i)||i)&&t({type:r.actionTypes.REMOVE,path:n}),n})).catch((function(e){return t({type:r.actionTypes.ERROR,payload:e}),Promise.reject(e)}))},t.unWatchEvent=a,t.unWatchEvents=function(e,t,n){null===n||void 0===n||n.forEach((function(n){return a(e,t,n)}))},t.watchEvent=o,t.watchEvents=function(e,t,n){if(!Array.isArray(n))throw new Error("Events config must be an Array");return n.map((function(n){return o(e,t,n)}))};var r=n(3131),i=n(5596);function o(e,t,n){if(!e.database||"function"!=typeof e.database)throw new Error("Firebase database is required to create watchers");var o=n.type,a=n.path,s=n.populates,c=n.queryParams,u=n.queryId,l=n.isQuery,h=n.storeAs,d=e._.config.logErrors,f=h?"".concat(a,"@").concat(h):a,p=u||(0,i.getQueryIdFromPath)(a),m=(0,i.getWatcherCount)(e,o,f,p);if(0<m&&p&&(0,i.unsetWatcher)(e,t,o,a,p),(0,i.setWatcher)(e,t,o,f,p),!(0<m)){if("first_child"===o)return e.database().ref().child(a).orderByKey().limitToFirst(1).once("value").then((function(e){return null===e.val()&&t({type:r.actionTypes.NO_VALUE,path:h||a}),e})).catch((function(e){return t({type:r.actionTypes.ERROR,path:h||a,payload:e}),Promise.reject(e)}));var g=e.database().ref().child(a);return l&&(g=(0,i.applyParamsToQuery)(c,g)),t({type:r.actionTypes.START,path:h||a}),"once"===o?g.once("value").then((function(n){return null===n.val()?t({type:r.actionTypes.NO_VALUE,path:h||a}):s?(0,i.populateAndDispatch)(e,t,{path:a,storeAs:h,snapshot:n,data:n.val(),populates:s}):t({type:r.actionTypes.SET,path:h||a,data:n.val(),ordered:(0,i.orderedFromSnapshot)(n)})})).catch((function(e){return t({type:r.actionTypes.UNAUTHORIZED_ERROR,payload:e}),Promise.reject(e)})):void g.on(o,(function(n){var c="child_removed"===o?void 0:n.val(),u=h||"value"===o?a:"".concat(a,"/").concat(n.key);if(!s){var l="child_added"===o?[{key:n.key,value:n.val()}]:(0,i.orderedFromSnapshot)(n);return t({type:r.actionTypes.SET,path:h||u,data:c,ordered:l})}return(0,i.populateAndDispatch)(e,t,{path:a,storeAs:h,snapshot:n,data:n.val(),populates:s})}),(function(e){d&&console.log("Error retrieving data for path: ".concat(a,", storeAs: ").concat(h,". Firebase:"),e),t({type:r.actionTypes.ERROR,storeAs:h,path:a,payload:e})}))}}function a(e,t,n){var r=n.type,o=n.path,a=n.storeAs,s=n.queryId,c=a?"".concat(o,"@").concat(a):o;(0,i.unsetWatcher)(e,t,r,c,s)}},8287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=function(e,t,n){var r=n.path,i=n.dbPath;return(0,a.wrapInDispatch)(e,{method:s.deleteFile,args:[t,{path:r,dbPath:i}],types:[m,y,g]})},t.uploadFile=v,t.uploadFiles=function(e,t,n){var r=n.files,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,c);return Promise.all((0,i.default)(r,(function(n){return v(e,t,l({file:n},o))})))};var r,i=(r=n(2034))&&r.__esModule?r:{default:r},o=n(3131),a=n(8066),s=n(9514),c=["files"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?u(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=o.actionTypes.FILE_UPLOAD_START,f=o.actionTypes.FILE_UPLOAD_ERROR,p=o.actionTypes.FILE_UPLOAD_COMPLETE,m=o.actionTypes.FILE_DELETE_START,g=o.actionTypes.FILE_DELETE_ERROR,y=o.actionTypes.FILE_DELETE_COMPLETE;function v(e,t,n){if(!t.storage)throw new Error("Firebase storage is required to upload files");var r=n||{},i=r.path,o=r.file,a=r.dbPath,c=r.options,u=void 0===c?{progress:!1}:c,h=(u||{}).metadata,m=t._.config.logErrors,g=("function"==typeof u.name?u.name(o,t,n):u.name)||o.name,y=l(l({},n),{},{filename:g});return e({type:d,payload:l(l({},n),{},{filename:g})}),(u.progress?(0,s.uploadFileWithProgress)(e,t,{path:i,file:o,filename:g,meta:y,fileMetadata:h}):t.storage().ref("".concat(i,"/").concat(g)).put(o,h)).then((function(r){return a&&(t.database||t.firestore)?(0,s.writeMetadataToDb)({firebase:t,uploadTaskSnapshot:r,dbPath:a,options:u}).then((function(t){return e({type:p,meta:l(l({},n),{},{filename:g}),payload:t}),t})):(e({type:p,meta:l(l({},n),{},{filename:g}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})})).catch((function(t){return m&&console.error&&console.error("RRF: Error uploading file: ".concat(t.message||t),t),e({type:f,path:i,payload:t}),Promise.reject(t)}))}},3131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v3ErrorMessage=t.topLevelPaths=t.supportedAuthProviders=t.defaultConfig=t.default=t.actionsPrefix=t.actionTypes=void 0;t.actionsPrefix="@@reactReduxFirebase";var n={START:"".concat("@@reactReduxFirebase","/START"),SET:"".concat("@@reactReduxFirebase","/SET"),REMOVE:"".concat("@@reactReduxFirebase","/REMOVE"),MERGE:"".concat("@@reactReduxFirebase","/MERGE"),SET_PROFILE:"".concat("@@reactReduxFirebase","/SET_PROFILE"),LOGIN:"".concat("@@reactReduxFirebase","/LOGIN"),LOGOUT:"".concat("@@reactReduxFirebase","/LOGOUT"),LOGIN_ERROR:"".concat("@@reactReduxFirebase","/LOGIN_ERROR"),NO_VALUE:"".concat("@@reactReduxFirebase","/NO_VALUE"),UNAUTHORIZED_ERROR:"".concat("@@reactReduxFirebase","/UNAUTHORIZED_ERROR"),ERROR:"".concat("@@reactReduxFirebase","/ERROR"),CLEAR_ERRORS:"".concat("@@reactReduxFirebase","/CLEAR_ERRORS"),SET_LISTENER:"".concat("@@reactReduxFirebase","/SET_LISTENER"),UNSET_LISTENER:"".concat("@@reactReduxFirebase","/UNSET_LISTENER"),AUTHENTICATION_INIT_STARTED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_STARTED"),AUTHENTICATION_INIT_FINISHED:"".concat("@@reactReduxFirebase","/AUTHENTICATION_INIT_FINISHED"),SESSION_START:"".concat("@@reactReduxFirebase","/SESSION_START"),SESSION_END:"".concat("@@reactReduxFirebase","/SESSION_END"),FILE_UPLOAD_START:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_START"),FILE_UPLOAD_ERROR:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_ERROR"),FILE_UPLOAD_PROGRESS:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_PROGRESS"),FILE_UPLOAD_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_UPLOAD_COMPLETE"),FILE_DELETE_START:"".concat("@@reactReduxFirebase","/FILE_DELETE_START"),FILE_DELETE_ERROR:"".concat("@@reactReduxFirebase","/FILE_DELETE_ERROR"),FILE_DELETE_COMPLETE:"".concat("@@reactReduxFirebase","/FILE_DELETE_COMPLETE"),AUTH_UPDATE_START:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_START"),AUTH_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_SUCCESS"),AUTH_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/AUTH_UPDATE_ERROR"),PROFILE_UPDATE_START:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_START"),PROFILE_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_SUCCESS"),PROFILE_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/PROFILE_UPDATE_ERROR"),EMAIL_UPDATE_START:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_START"),EMAIL_UPDATE_SUCCESS:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_SUCCESS"),EMAIL_UPDATE_ERROR:"".concat("@@reactReduxFirebase","/EMAIL_UPDATE_ERROR"),AUTH_RELOAD_START:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_START"),AUTH_RELOAD_ERROR:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_ERROR"),AUTH_RELOAD_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_RELOAD_SUCCESS"),AUTH_LINK_START:"".concat("@@reactReduxFirebase","/AUTH_LINK_START"),AUTH_LINK_ERROR:"".concat("@@reactReduxFirebase","/AUTH_LINK_ERROR"),AUTH_LINK_SUCCESS:"".concat("@@reactReduxFirebase","/AUTH_LINK_SUCCESS"),AUTH_EMPTY_CHANGE:"".concat("@@reactReduxFirebase","/AUTH_EMPTY_CHANGE")};t.actionTypes=n;var r={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.defaultConfig=r;t.supportedAuthProviders=["google","github","twitter","facebook","microsoft.com","apple.com","yahoo.com"];t.topLevelPaths=["auth","profile","ordered","data"];t.v3ErrorMessage="Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO";var i={actionTypes:n,defaultConfig:r};t.default=i},8150:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t&&t.enableLogging&&e.database&&"function"==typeof e.database.enableLogging&&(console.warn("The enableLogging config option is disabled and will be removed in a future version of react-redux-firebase. Enable logging as part of instance initialization."),e.database.enableLogging(t.enableLogging)),e._=(0,o.default)({watchers:{},listeners:{},callbacks:{},queries:{},config:t,authUid:null},e._);var r=function(t,n,r,i){if((0,a.default)(r)){var o="update"===t?"updated":"created",s=g(g({},r),{},y({},"".concat(o,"At"),e.database.ServerValue.TIMESTAMP));return e.auth().currentUser&&(s["".concat(o,"By")]=e.auth().currentUser.uid),e.database().ref(n)[t](s,i)}return e.database().ref(n)[t](r,i)},d=(0,c.mapWithFirebaseAndDispatch)(e,n,{signInWithPhoneNumber:u.signInWithPhoneNumber},{initializeAuth:u.init});return i=Object.assign(e,g({_reactReduxFirebaseExtended:!0,ref:function(t){return e.database().ref(t)},set:function(t,n,r){return e.database().ref(t).set(n,r)},setWithMeta:function(e,t,n){return r("set",e,t,n)},uniqueSet:function(t,n,r){return e.database().ref(t).transaction((function(e){return null===e?n:void 0})).then((function(e){var t=e.committed,n=e.snapshot;if(!t){var i=new Error("Path already exists.");return r&&r(i),Promise.reject(i)}return r&&r(n),n}))},push:function(t,n,r){return e.database().ref(t).push(n,r)},pushWithMeta:function(e,t,n){return r("push",e,t,n)},remove:function(t,r,i){return l.remove(e,n,t,i).then((function(){return"function"==typeof r&&r(),t}))},update:function(t,n,r){return e.database().ref(t).update(n,r)},updateWithMeta:function(e,t,n){return r("update",e,t,n)},login:function(t){return u.login(n,e,t)},reauthenticate:function(t){return u.reauthenticate(n,e,t)},handleRedirectResult:function(t){return u.handleRedirectResult(n,e,t)},logout:function(){return u.logout(n,e)},updateAuth:function(t,r){return u.updateAuth(n,e,t,r)},updateEmail:function(t,r){return u.updateEmail(n,e,t,r)},updateProfile:function(t,r){return u.updateProfile(n,e,t,r)},uploadFile:function(t,r,i,o){return h.uploadFile(n,e,{path:t,file:r,dbPath:i,options:o})},uploadFiles:function(t,r,i,o){return h.uploadFiles(n,e,{path:t,files:r,dbPath:i,options:o})},deleteFile:function(t,r){return h.deleteFile(n,e,{path:t,dbPath:r})},createUser:function(t,r){return u.createUser(n,e,t,r)},resetPassword:function(t){return u.resetPassword(n,e,t)},confirmPasswordReset:function(t,r){return u.confirmPasswordReset(n,e,t,r)},verifyPasswordResetCode:function(t){return u.verifyPasswordResetCode(n,e,t)},applyActionCode:function(t){return u.applyActionCode(n,e,t)},watchEvent:function(t,r,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l.watchEvent(e,n,g({type:t,path:r,storeAs:i},o))},unWatchEvent:function(t,r,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l.unWatchEvent(e,n,g({type:t,path:r,queryId:i},o))},reloadAuth:function(){return u.reloadAuth(n,e)},linkWithCredential:function(t){return u.linkWithCredential(n,e,t)},promiseEvents:function(t,r){var i=(0,s.createCallable)(t)(r,e),o=(0,s.getEventsFromInput)(i);return Promise.all(o.map((function(t){return l.watchEvent(e,n,t)})))},dispatch:n},d))},t.getFirebase=function(){if(!i)throw new Error("Firebase instance does not yet exist. Check your compose function.");return i};var i,o=p(n(8137)),a=p(n(8092)),s=n(2637),c=n(8066),u=f(n(3792)),l=f(n(1565)),h=f(n(8287));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!=a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?m(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7152:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(t){function n(e){return a.default.createElement(h.default.Consumer,null,(function(t){return a.default.createElement(d,p({},e,{dispatch:t.dispatch,firebase:t}))}))}var d=function(n){function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=f.call.apply(f,[this].concat(n))),"firebaseEvents",[]),w(v(e),"firebase",null),w(v(e),"prevData",null),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,n);var c,h,d,f=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,n)}}(s);return c=s,h=[{key:"componentDidMount",value:function(){var t=this.props,n=t.firebase,r=t.dispatch,i=(0,l.createCallable)(e);this.prevData=i(this.props,this.props);var o=n.ref,a=n.helpers,s=n.storage,c=n.database,h=n.auth;this.firebase=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?m(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({ref:o,storage:s,database:c,auth:h},a),this._firebaseEvents=(0,l.getEventsFromInput)(this.prevData),(0,u.watchEvents)(n,r,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.firebase,n=e.dispatch;(0,u.unWatchEvents)(t,n,this._firebaseEvents)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=this.props,r=n.firebase,a=n.dispatch,s=(0,l.createCallable)(e)(t,this.store);if(!(0,o.default)(s,this.prevData)){var c=(0,i.default)(s,this.prevData,o.default),h=(0,i.default)(this.prevData,s,o.default);this.prevData=s,(0,u.unWatchEvents)(r,a,(0,l.getEventsFromInput)(h)),this._firebaseEvents=(0,l.getEventsFromInput)(s),(0,u.watchEvents)(r,a,(0,l.getEventsFromInput)(c))}}},{key:"render",value:function(){return a.default.createElement(t,this.props)}}],h&&g(c.prototype,h),d&&g(c,d),s}(a.Component);return w(d,"displayName",(0,l.wrapDisplayName)(t,"FirebaseConnectWrapped")),w(d,"wrappedComponent",t),d.propTypes={dispatch:s.default.func.isRequired,firebase:s.default.object.isRequired},n.displayName=(0,l.wrapDisplayName)(t,"FirebaseConnect"),n.wrappedComponent=t,(0,c.default)(n,t)}};var i=f(n(2902)),o=f(n(8111)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!=a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(2791)),s=f(n(2007)),c=f(n(2110)),u=n(1565),l=n(2637),h=f(n(8010));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=t.default},2549:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(t){function n(e){return o.default.createElement(l.default.Consumer,null,(function(t){return o.default.createElement(u.default.Consumer,null,(function(n){return o.default.createElement(h,f({},e,{dispatch:t.dispatch,firestore:n,firebase:t}))}))}))}var h=function(n){function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=h.call.apply(h,[this].concat(n))),"prevData",null),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,n);var s,u,l,h=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}(a);return s=a,(u=[{key:"firestoreIsEnabled",get:function(){return!!this.props.firestore}},{key:"componentDidMount",value:function(){if(this.firestoreIsEnabled){var t=(0,c.createCallable)(e);this.prevData=t(this.props,this.props),this.props.firestore.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){this.firestoreIsEnabled&&this.prevData&&this.props.firestore.unsetListeners(this.prevData)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=this.props.firestore,r=(0,c.createCallable)(e)(t,this.props);if(this.firestoreIsEnabled&&!(0,i.default)(r,this.prevData)){var o=(0,c.getChanges)(r,this.prevData);this.prevData=r,n.unsetListeners(o.removed),n.setListeners(o.added)}}},{key:"render",value:function(){return o.default.createElement(t,this.props)}}])&&p(s.prototype,u),l&&p(s,l),a}(o.Component);return v(h,"wrappedComponent",t),v(h,"displayName",(0,c.wrapDisplayName)(t,"FirestoreConnectWrapped")),h.propTypes={dispatch:a.default.func.isRequired,firebase:a.default.object,firestore:a.default.object},n.displayName=(0,c.wrapDisplayName)(t,"FirestoreConnect"),n.wrappedComponent=t,(0,s.default)(n,t)}};var i=d(n(8111)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!=a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(2791)),a=d(n(2007)),s=d(n(2110)),c=n(2637),u=d(n(473)),l=d(n(8010));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)}function p(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=t.default},4783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixPath=function(e){return("/"===e.substring(0,1)?"":"/")+e},t.getVal=function(e,t,n){if(!e)return n;var r=(0,p.getDotStrPath)(t);return(0,u.default)(e,r,n)},t.isEmpty=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!(t&&t.length)||t.some((function(e){return!(e&&(0,h.default)(e))||!0===e.isEmpty}))},t.isLoaded=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!(t&&t.length)||t.every((function(e){return void 0!==e&&!1!==(0,u.default)(e,"isLoaded")}))},t.populate=function(e,t,n,l){var h=t.split("/").filter(Boolean),p=-1===d.topLevelPaths.indexOf(h[0])?["data"].concat((v=h,function(e){if(Array.isArray(e))return g(e)}(v)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):h,m=p.join("."),y=(0,u.default)(e,m,l);var v;if(!e||y===l)return l;if(null===y)return null;var b=(0,f.getPopulateObjs)("function"==typeof n?n(p.slice(-1)[0],y):n);if(Array.isArray(y)){var _=(0,r.default)(b,(function(e){return(t=y,function(e){return(0,r.default)(t,(function(t){return(0,c.default)(t,e)}))})(["value",e.child]);var t}));return _?y.map((function(t){var n=t.key,r=t.value;return{key:n,value:b.map((function(t){return w(e,r,t)})).reduce((function(e,t){return(0,i.default)(t,e)}),r)}})):y}return(0,r.default)(b,(function(e){return(0,c.default)(y,e.child)}))?b.map((function(t){return w(e,y,t)})).reduce((function(e,t){return(0,i.default)(t,e)}),y):-1===p.indexOf("profile")?(0,a.default)(y,(function(t,a){var u="ordered"===p[0]?t.key:a,l=(0,f.getPopulateObjs)("function"==typeof n?n(u,t):n);return(0,r.default)(l,(function(e){return(0,c.default)(t,e.child)}))?(0,o.default)((0,s.default)(l,(function(n){return w(e,t,n)})),(function(e,t){return(0,i.default)(t,e)}),t):t})):y};var r=m(n(4064)),i=m(n(4521)),o=m(n(5080)),a=m(n(7702)),s=m(n(2034)),c=m(n(7805)),u=m(n(6181)),l=m(n(4485)),h=m(n(9467)),d=n(3131),f=n(4656),p=n(5343);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?y(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n){var r=(0,u.default)(t,n.child);if(!t||!r)return null;if("string"==typeof r||r instanceof String){var i=[(n.storeAs?n.storeAs:n.root).split("/").filter(Boolean).join("."),r];n.childParam&&i.push(n.childParam);var o=i.join("."),c=(0,u.default)(e.data,o);return c?(0,l.default)({},n.childAlias||n.child,n.keyProp?v(b({},n.keyProp,r),c):c):t}return(0,l.default)({},n.childAlias||n.child,function(e,t,n){return(Array.isArray(t)?s.default:a.default)(t,(function(t,r){var i=t;(!0===t||n.populateByKey)&&(i=r);var o=[(0,p.getDotStrPath)(n.root),i];n.childParam&&o.push(n.childParam);var a=o.join(".");return(0,u.default)(e.data,a)?n.keyProp?v(b({},n.keyProp,i),(0,u.default)(e.data,a)):(0,u.default)(e.data,a):!0===t||n.populateByKey?t:i}))}(e,r,n))}},4419:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=E(n(8150)),o=_(n(5748)),a=_(n(8010)),s=_(n(9606)),c=_(n(473)),u=_(n(7152)),l=_(n(2549)),h=_(n(5743)),d=_(n(5181)),f=_(n(7305)),p=_(n(6799)),m=_(n(3484)),g=_(n(1441)),y=_(n(7098)),v=E(n(3131)),b=n(1721),w=E(n(4783));function _(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!=a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?x(Object(t),!0).forEach((function(n){T(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({ReactReduxFirebaseProvider:o.default,ReactReduxFirebaseContext:a.default,ReduxFirestoreContext:c.default,ReduxFirestoreProvider:s.default,createFirebaseInstance:i.default,firebaseConnect:u.default,firestoreConnect:l.default,withFirebase:h.default,withFirestore:d.default,useFirebase:m.default,useFirebaseConnect:f.default,useFirestore:g.default,useFirestoreConnect:p.default,reducer:y.default,firebaseReducer:y.default,constants:v.default,actionTypes:v.actionTypes,getFirebase:i.getFirebase,authIsReady:b.authIsReady},w);t.default=I,e.exports=t.default},7098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5343),i=n(4483),o=(0,r.combineReducers)({requesting:i.requestingReducer,requested:i.requestedReducer,timestamps:i.timestampsReducer,data:i.dataReducer,ordered:i.orderedReducer,auth:i.authReducer,authError:i.authErrorReducer,profile:i.profileReducer,listeners:i.listenersReducer,isInitializing:i.isInitializingReducer,errors:i.errorsReducer});t.default=o,e.exports=t.default},4483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authErrorReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case _:case S:return null;case E:case D:return t.authError;default:return e}},t.authReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case _:case N:if(!t.auth)return{isEmpty:!0,isLoaded:!0};var n=t.auth.toJSON?t.auth.toJSON():t.auth;return t.preserve&&t.preserve.auth?(0,l.preserveValuesFromState)(e,t.preserve.auth,m(m({},n),{},{isEmpty:!1,isLoaded:!0})):m(m({},n),{},{isEmpty:!1,isLoaded:!0});case R:case M:return t.payload?m(m({},t.payload.toJSON?t.payload.toJSON():t.payload),{},{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case E:case P:case S:return t.reauthenticate?(0,l.preserveValuesFromState)(e,!0,{}):t.preserve&&t.preserve.auth?(0,l.preserveValuesFromState)(e,t.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.dataReducer=void 0,t.errorsReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case E:case D:if(!Array.isArray(e))throw new Error("Errors state must be an array");return[].concat(d(e),[t.authError]);case S:case x:if(t.preserve&&t.preserve.errors){if("function"!=typeof t.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return e.filter(t.preserve.errors)}return[];default:return e}},t.isInitializingReducer=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];switch((1<arguments.length?arguments[1]:void 0).type){case k:return!0;case A:return!1;default:return e}},t.orderedReducer=t.listenersReducer=void 0,t.profileReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case b:return t.profile?m(m({},t.profile),{},{isEmpty:!1,isLoaded:!0}):m(m({},e),{},{isEmpty:!0,isLoaded:!0});case j:return Object.assign({},e,t.payload);case _:return t.preserve&&t.preserve.profile?(0,l.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case S:case P:return t.preserve&&t.preserve.profile?(0,l.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.requestedReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.type,r=t.path;return n===y?m(m({},e),{},g({},(0,l.getSlashStrPath)(r),!1)):n===I||n===v?m(m({},e),{},g({},(0,l.getSlashStrPath)(r),!0)):e},t.requestingReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.type,r=t.path;return n===y?m(m({},e),{},g({},(0,l.getSlashStrPath)(r),!0)):n===I||n===v?m(m({},e),{},g({},(0,l.getSlashStrPath)(r),!1)):e},t.timestampsReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.type,r=t.path;return n===y||n===I||n===v?m(m({},e),{},g({},(0,l.getSlashStrPath)(r),Date.now())):e};var r=h(n(5625)),i=h(n(2633)),o=h(n(8092)),a=h(n(6181)),s=h(n(4242)),c=h(n(6460)),u=n(3131),l=n(5343);function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?p(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=u.actionTypes.START,v=u.actionTypes.SET,b=u.actionTypes.SET_PROFILE,w=u.actionTypes.MERGE,_=u.actionTypes.LOGIN,S=u.actionTypes.LOGOUT,E=u.actionTypes.LOGIN_ERROR,x=u.actionTypes.CLEAR_ERRORS,T=u.actionTypes.REMOVE,I=u.actionTypes.NO_VALUE,O=u.actionTypes.SET_LISTENER,C=u.actionTypes.UNSET_LISTENER,k=u.actionTypes.AUTHENTICATION_INIT_STARTED,A=u.actionTypes.AUTHENTICATION_INIT_FINISHED,P=u.actionTypes.AUTH_EMPTY_CHANGE,R=u.actionTypes.AUTH_LINK_SUCCESS,D=u.actionTypes.UNAUTHORIZED_ERROR,N=u.actionTypes.AUTH_UPDATE_SUCCESS,M=u.actionTypes.AUTH_RELOAD_SUCCESS,j=u.actionTypes.PROFILE_UPDATE_SUCCESS;function L(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"data";return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;switch(n.type){case v:return(0,i.default)(Object,(0,l.getDotStrPath)(n.path),n[e],t);case w:var s=(0,a.default)(t,(0,l.getDotStrPath)(n.path),{}),u=(0,r.default)(s,n[e]);return(0,i.default)(Object,(0,l.getDotStrPath)(n.path),u,t);case I:return(0,i.default)(Object,(0,l.getDotStrPath)(n.path),null,t);case T:return"data"===e?(0,l.recursiveUnset)((0,l.getDotStrPath)(n.path),t):t;case S:if(n.preserve){if(Array.isArray(n.preserve))return(0,c.default)(t,n.preserve);if((0,o.default)(n.preserve))return n.preserve[e]?(0,l.preserveValuesFromState)(t,n.preserve[e],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return t}}}var F=(0,l.combineReducers)({byId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.type,r=t.path,i=t.payload;return n===O?m(m({},e),{},g({},i.id,{id:i.id,path:r})):n===C?(0,s.default)(e,[i.id]):e},allIds:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0,n=t.type,r=(t.path,t.payload);return n===O?[].concat(d(e),[r.id]):n===C?e.filter((function(e){return e!==r.id})):e}});t.listenersReducer=F;var U=L();t.dataReducer=U;var B=L("ordered");t.orderedReducer=B},3484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.useContext)(o.default)};var r,i=n(2791),o=(r=n(8010))&&r.__esModule?r:{default:r};e.exports=t.default},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,c.default)(),n=(0,o.useRef)(),u=(0,o.useRef)(),l=(0,o.useMemo)((function(){return(0,s.invokeArrayQuery)(e)}),[e]);(0,o.useEffect)((function(){if(null!==l&&!(0,i.default)(l,u.current)){var e=(0,r.default)(l,u.current,i.default),o=(0,r.default)(u.current,l,i.default);u.current=l,(0,a.unWatchEvents)(t,t.dispatch,(0,s.getEventsFromInput)(o)),n.current=(0,s.getEventsFromInput)(l),(0,a.watchEvents)(t,t.dispatch,(0,s.getEventsFromInput)(e))}}),[l]),(0,o.useEffect)((function(){return function(){(0,a.unWatchEvents)(t,t.dispatch,n.current)}}),[])};var r=u(n(2902)),i=u(n(8111)),o=n(2791),a=n(1565),s=n(2637),c=u(n(3484));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},1441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,i.useContext)(o.default)};var r,i=n(2791),o=(r=n(473))&&r.__esModule?r:{default:r};e.exports=t.default},6799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.default)(),n=!!t,s=(0,i.useRef)(),c=(0,i.useMemo)((function(){return(0,o.invokeArrayQuery)(e)}),[e]);(0,i.useEffect)((function(){if(n&&!(0,r.default)(c,s.current)){var e=(0,o.getChanges)(c,s.current);s.current=c,t.unsetListeners(e.removed),t.setListeners(e.added)}}),[c]),(0,i.useEffect)((function(){return function(){n&&s.current&&t.unsetListeners(s.current)}}),[])};var r=s(n(8111)),i=n(2791),o=n(2637),a=s(n(1441));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},8066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=function(e,t,n,i){var o=h(e,t),a=h(e,t,!0);return s(s({},(0,r.default)(n,o)),(0,r.default)(i,a))},t.wrapInDispatch=function(e,t){var n=t.meta,r=t.method,o=t.args,a=void 0===o?[]:o,s=(f=t.types,p=3,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(f,p)||u(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],h=s[1],d=s[2];var f,p;return e({type:(0,i.default)(c)?c.type:c,meta:n,payload:(0,i.default)(c)?c.payload:{args:a}}),r.apply(void 0,function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a)).then((function(t){return e({type:(0,i.default)(h)?h.type:h,meta:n,payload:(0,i.default)(h)?h.payload:t}),t})).catch((function(t){return e({type:d,meta:n,payload:t}),Promise.reject(t)}))};var r=o(n(7702)),i=o(n(8092));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?a(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return function(r){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(e,n?[t,e].concat(o):[e,t].concat(o))}}}},1721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authIsReady=c,t.createAuthIsReady=function(e,t){return"function"==typeof t.authIsReady?t.authIsReady(e,t):c(e,t.firebaseStateName)},t.getLoginMethodAndParams=function(e,t){var n=t.email,r=t.password,i=t.provider,s=t.type,c=t.token,u=t.scopes,l=t.phoneNumber,h=t.applicationVerifier,d=t.credential,f=t.emailLink;if(d){return e.auth().signInAndRetrieveDataWithCredential?{method:"signInAndRetrieveDataWithCredential",params:[d]}:{method:"signInWithCredential",params:[d]}}if(i){if(-1===o.supportedAuthProviders.indexOf(i.toLowerCase()))throw new Error("".concat(i," is not a valid Auth Provider"));if(c)throw new Error("provider with token no longer supported, use credential parameter instead");var p=a(e,i,u);return"popup"===s?{method:"signInWithPopup",params:[p]}:{method:"signInWithRedirect",params:[p]}}if(c){return e.auth().signInAndRetrieveDataWithCustomToken?{method:"signInAndRetrieveDataWithCustomToken",params:[c]}:{method:"signInWithCustomToken",params:[c]}}if(l){if(!h)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[l,h]}}return f&&n?{method:"signInWithEmailLink",params:[n,f]}:e.auth().signInWithEmailAndPassword?{method:"signInWithEmailAndPassword",params:[n,r]}:{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,r]}},t.getReauthenticateMethodAndParams=function(e,t){var n=t.provider,r=t.type,i=t.scopes,s=t.phoneNumber,c=t.applicationVerifier,u=t.credential;if(u){return e.auth().reauthenticateAndRetrieveDataWithCredential?{method:"reauthenticateAndRetrieveDataWithCredential",params:[u]}:{method:"reauthenticateWithCredential",params:[u]}}if(n){if(-1===o.supportedAuthProviders.indexOf(n.toLowerCase()))throw new Error("".concat(n," is not a valid Auth Provider"));var l=a(e,n,i);return"popup"===r?{method:"reauthenticateWithPopup",params:[l]}:{method:"reauthenticateWithRedirect",params:[l]}}if(!c)throw new Error("Application verifier is required for phone authentication");return{method:"reauthenticateWithPhoneNumber",params:[s,c]}},t.setupPresence=function(e,t){if(t.database&&t.database.ServerValue){var n=t.database().ref(),r=t._,i=r.config,a=i.presence,s=i.sessions,c=r.authUid,u=n.child(".info/connected"),l=n.child("function"==typeof a?a(t.auth().currentUser,t):a).child(c),h="function"==typeof s?s(t.auth().currentUser,t):s;h&&(h=n.child(s)),u.on("value",(function(n){if(n.val()){if(h){e({type:o.actionTypes.SESSION_START,payload:c});var r=h.push({startedAt:t.database.ServerValue.TIMESTAMP,user:c});"function"==typeof r.setPriority&&r.setPriority(c),r.child("endedAt").onDisconnect().set(t.database.ServerValue.TIMESTAMP,(function(){e({type:o.actionTypes.SESSION_END})}))}l.set(!0),l.onDisconnect().remove()}}))}},t.updateProfileOnFirestore=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,i=n.merge,o=e.firestore,a=e._,s=a.config,c=a.authUid,u=o().doc("".concat(s.userProfile,"/").concat(c));return(void 0===r||r?u.set(t,{merge:!(void 0!==i)||i}):u.update(t)).then((function(){return u.get()}))},t.updateProfileOnRTDB=function(e,t){var n=e._,r=n.config,i=n.authUid,o=e.database().ref("".concat(r.userProfile,"/").concat(i));return o.update(t).then((function(){return o.once("value")}))};var r,i=(r=n(6189))&&r.__esModule?r:{default:r},o=n(3131);function a(e,t,n){var r=t.toLowerCase();if("microsoft.com"===r||"apple.com"===r||"yahoo.com"===r)return new e.auth.OAuthProvider(t);var o="".concat((0,i.default)(t),"AuthProvider");if(!e.auth[o])throw new Error("".concat(t," is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library."));var a=new e.auth[o],s=e._.config.customAuthParameters;return s&&s[t]&&a.setCustomParameters(s[t]),"twitter"===r||"function"!=typeof a.addScope||(a.addScope("email"),n&&(Array.isArray(n)&&n.forEach((function(e){a.addScope(e)})),("string"==typeof n||n instanceof String)&&a.addScope(n))),a}function s(e,t){var n=e.getState(),r=t?n[t]:n;if(!(r&&r.auth))throw new Error("The Firebase auth state could not be found in the store under the attribute '".concat(t?"".concat(t,"."):"","auth'. Make sure your react-redux-firebase reducer is correctly set in the store"));return r.auth.isLoaded}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise((function(n){if(s(e,t))n();else var r=e.subscribe((function(){s(e,t)&&(r(),n())}))}))}},7952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getEventsFromInput=l,t.pathStrToObj=u;var r=c(n(5004)),i=c(n(8092)),o=c(n(5008)),a=n(4656),s=n(5596);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t={path:e,type:"value",isQuery:!1},n=(0,s.getQueryIdFromPath)(e);if(n){var i=e.split("#");t=Object.assign({},t,{queryId:n,isQuery:!0,path:i[0],queryParams:i[1].split("&")}),(0,a.getPopulates)(i[1].split("&"))&&(t.populates=(0,a.getPopulates)(i[1].split("&")),t.queryParams=(0,r.default)(i[1].split("&"),(function(e){return-1===e.indexOf("populate")})))}return t}function l(e){return(0,o.default)(e,(function(e){if("string"==typeof e||e instanceof String)return[u(e)];if(Array.isArray(e))return[{type:"first_child",path:e[0]},{type:"child_added",path:e[0]},{type:"child_removed",path:e[0]},{type:"child_moved",path:e[0]},{type:"child_changed",path:e[0]}];if((0,i.default)(e)){if(!e.path)throw new Error("Path is a required parameter within definition object");var t=e.path;return e.storeAs&&(t+="@".concat(e.storeAs)),e.queryParams&&(t+="#".concat(e.queryParams.join("&"))),[e=Object.assign({},u(t),e)]}throw new Error("Invalid Path Definition: ".concat(e,". Only strings, objects, and arrays accepted."))}))}var h={getEventsFromInput:l};t.default=h},2637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCallable=u,t.getChanges=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n={};return n.added=(0,r.default)(e,(function(e){return!(0,i.default)(t,(function(t){return(0,o.default)(e,t)}))})),n.removed=(0,r.default)(t,(function(t){return!(0,i.default)(e,(function(e){return(0,o.default)(t,e)}))})),n},Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return s.getEventsFromInput}}),t.invokeArrayQuery=function(e,t){var n=u(e)(t);return Array.isArray(n)?n:n?[n]:null},t.isString=function(e){return"string"==typeof e||e instanceof String},t.wrapDisplayName=function(e,t){return"".concat(t,"(").concat(function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0}(e),")")};var r=c(n(86)),i=c(n(4064)),o=c(n(8111)),a=c(n(1547)),s=n(7952);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return"function"==typeof e?e:(0,a.default)(e)}},4656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChildType=function(e){return(0,h.isString)(e)?"string":Array.isArray(e)?"array":(0,u.default)(e)?"object":"other"},t.getPopulateChild=m,t.getPopulateObj=f,t.getPopulateObjs=p,t.getPopulates=function(e){var t=(0,l.default)(e,(function(e){return-1!==e.indexOf("populate")||(0,u.default)(e)&&e.populates})).map((function(e){return e.split("=")[1]}));return t.length?t.map(f):null},t.populateList=g,t.promisesForPopulate=function(e,t,n,c){var l=[],d={},y=p("function"==typeof c?c(t,n):c);return(0,r.default)(y,(function(e){return(0,i.default)(n,e.child)}))?(0,a.default)(y,(function(t){return(0,h.isString)((0,s.default)(n,t.child))?l.push(m(e,t,(0,s.default)(n,t.child)).then((function(e){e&&(0,o.default)(d,"".concat(t.root,".").concat((0,s.default)(n,t.child)),e)}))):l.push(g(e,(0,s.default)(n,t.child),t,d))})):(0,a.default)(n,(function(t,n){var r=f("function"==typeof c?c(n,t):c);(0,a.default)(r,(function(n){var r=(0,s.default)(t,n.child);return r?(0,h.isString)(r)?l.push(m(e,n,r).then((function(e){return e&&(0,o.default)(d,"".concat(n.root,".").concat(r),e),d}))):Array.isArray(r)||(0,u.default)(r)?l.push(g(e,r,n,d)):void 0:void 0}))})),Promise.all(l).then((function(){return d}))};var r=d(n(4064)),i=d(n(7805)),o=d(n(4485)),a=d(n(6514)),s=d(n(6181)),c=d(n(2034)),u=d(n(8092)),l=d(n(86)),h=n(2637);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(!(0,h.isString)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}}function p(e){return Array.isArray(e)?e.map((function(e){return(0,u.default)(e)?e:f(e)})):e}function m(e,t,n){var r=t.childParam?"/".concat(t.childParam):"",i="".concat(t.root,"/").concat(n).concat(r);return e.database().ref().child(i).once("value").then((function(e){return e.val()}))}function g(e,t,n,r){return r[n.root]||(0,o.default)(r,n.root,{}),Promise.all((0,c.default)(t,(function(t,i){var a=!0===t||n.populateByKey?i:t;return m(e,n,a).then((function(e){return e?(0,o.default)(r,"".concat(n.root,".").concat(a),e):r}))})))}},5596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyParamsToQuery=function(e,t){var n=!1;return e&&e.forEach((function(e){switch((e=e.split("="))[0]){case"orderByValue":t=t.orderByValue(),n=!0;break;case"orderByPriority":t=t.orderByPriority(),n=!0;break;case"orderByKey":t=t.orderByKey(),n=!0;break;case"orderByChild":t=t.orderByChild(e[1]);break;case"limitToFirst":t=t.limitToFirst(parseInt(e[1],10));break;case"limitToLast":t=t.limitToLast(parseInt(e[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?e[1]:u(e[1]);r="true"===(r="false"!==(r="null"===r?null:r)&&r)||r,t=3===e.length?t.equalTo(r,e[2]):t.equalTo(r);break;case"startAt":var i=n?e[1]:u(e[1]);i="null"===i?null:i,t=3===e.length?t.startAt(i,e[2]):t.startAt(i);break;case"endAt":var o=n?e[1]:u(e[1]);o="null"===o?null:o,t=3===e.length?t.endAt(o,e[2]):t.endAt(o)}})),t},t.getQueryIdFromPath=h,t.getWatchPath=l,t.getWatcherCount=function(e,t,n,r){var i=r||h(n,t)||l(t,n);return e._.watchers[i]},t.orderedFromSnapshot=d,t.populateAndDispatch=function(e,t,n){var i=n.data,s=n.populates,c=n.snapshot,u=n.path,l=n.storeAs;return(0,a.promisesForPopulate)(e,c.key,i,s).then((function(e){return(0,r.default)(e,(function(e,n){t({type:o.actionTypes.MERGE,path:n,data:e})})),t({type:o.actionTypes.SET,path:l||u,data:i,ordered:d(c)}),e})).catch((function(e){return t({type:o.actionTypes.ERROR,payload:e}),Promise.reject(e)}))},t.setWatcher=function(e,t,n,r,i){var a=i||h(r,n)||l(n,r);return e._.watchers[a]?e._.watchers[a]++:e._.watchers[a]=1,t({type:o.actionTypes.SET_LISTENER,path:r,payload:{id:a}}),e._.watchers[a]},t.unsetWatcher=function(e,t,n,r,i){var a=i||h(r,n)||l(n,r);r=r.split("#")[0];var s=e._.watchers;1>=s[a]?(delete s[a],"first_child"!==n&&"once"!==n&&e.database().ref().child(r).off(n)):s[a]&&s[a]--,t({type:o.actionTypes.UNSET_LISTENER,path:r,payload:{id:a}})};var r=c(n(6514)),i=c(n(2066)),o=n(3131),a=n(4656),s=n(2637);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=+e;return(0,i.default)(t)?e:t}function l(e,t){if(!e||""===e||!t)throw new Error("Event and path are required");return"".concat(e,":").concat("/"===t.substring(0,1)?"":"/").concat(t)}function h(e,t){if(!(0,s.isString)(e))throw new Error("Query path must be a string");var n=e,r=e.split("#");e=r[0];var i=1<r.length,o=i?r[1].split("&"):[],a=i?o.map((function(e){var t=e.split("=");if("queryId"===t[0])return t[1]})).filter((function(e){return e})):void 0;return a&&0<a.length?t?"".concat(t,":/").concat(a):a[0]:i?n:void 0}function d(e){if(e.hasChildren&&!e.hasChildren())return null;var t=[];return e.forEach&&e.forEach((function(e){t.push({key:e.key,value:e.val()})})),t.length?t:null}},5343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=function(e){return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;return Object.keys(e).reduce((function(r,i){return r[i]=e[i](t[i],n),r}),{})}},t.getDotStrPath=function(e){return h(e).join(".")},t.getSlashStrPath=function(e){return h(e).join("/")},t.pathToArr=h,t.preserveValuesFromState=function(e,t,n){if("function"==typeof t)return t(e,n);if(!0===t)return n?u(u({},e),n):e;if(Array.isArray(t))return(0,i.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},t.recursiveUnset=function e(t,n){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(!t)return n;if(0<(0,o.default)((0,a.default)(n,t))&&i)return n;var s=(0,r.default)(t,n),c=t.match(/\./)?t.replace(/\.[^.]*$/,""):"";return e(c,s,!0)};var r=s(n(6267)),i=s(n(6460)),o=s(n(9467)),a=s(n(6181));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?c(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return e?e.split(/\//).filter((function(e){return!!e})):[]}},9514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=function(e,t){var n=t.path,r=t.dbPath;return e.storage().ref(n).delete().then((function(){return r&&(e.database||e.firestore)?(e._.config.useFirestoreForStorageMeta?e.firestore().doc(r).delete():e.database().ref(r).remove()).then((function(){return{path:n,dbPath:r}})):{path:n}}))},t.uploadFileWithProgress=function(e,t,n){var r=n.path,i=n.file,o=n.filename,a=n.meta,u=n.fileMetadata,l=t.storage().ref("".concat(r,"/").concat(o)).put(i,u),h=l.on(t.storage.TaskEvent.STATE_CHANGED,{next:function(t){e({type:c,meta:a,payload:{snapshot:t,percent:Math.floor(t.bytesTransferred/t.totalBytes*100)}})},error:function(t){e({type:s,meta:a,payload:t}),h()},complete:function(){h()}});return l},t.writeMetadataToDb=function(e){var t=e.firebase,n=e.uploadTaskSnapshot,o=e.dbPath,a=e.options,s=t._.config,c=s.fileMetadataFactory,u=s.useFirestoreForStorageMeta,l=a.metadataFactory,h=a.documentId,d=a.useSetForMetadata,f=l||c;return function(e){return e.ref&&"function"==typeof e.ref.getDownloadURL?e.ref.getDownloadURL():Promise.resolve(e.downloadURLs&&e.downloadURLs[0])}(n).then((function(e){var a="function"==typeof f?f(n,t,n.metadata,e):(0,i.default)(n.metadata,r.default),s=function(e){var t=e.fileData,n=e.firebase,r=e.uploadTaskSnapshot,i=e.downloadURL;return function(e){var o=n._.config.useFirestoreForStorageMeta,a={snapshot:e,key:e.key||e.id,File:t,metaDataSnapshot:e,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:o?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};return e.id&&(a.id=e.id),i&&(a.downloadURL=i),a}}({fileData:a,firebase:t,uploadTaskSnapshot:n,downloadURL:e}),c="function"==typeof h?h(n,t,n.metadata,e):h;return function(e){if(u){if(c){var n=t.firestore().collection(o).doc(c);return!1===d?n.update(e).then((function(){return n})):n.set(e,{merge:!0}).then((function(){return n}))}return t.firestore().collection(o).add(e)}var r=t.database().ref(o).push();return r.set(e).then((function(){return r}))}(a).then(s)}))};var r=a(n(2530)),i=a(n(4417)),o=n(3131);function a(e){return e&&e.__esModule?e:{default:e}}var s=o.actionTypes.FILE_UPLOAD_ERROR,c=o.actionTypes.FILE_UPLOAD_PROGRESS},5743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){return r.default.createElement(a.default.Consumer,null,(function(n){return r.default.createElement(e,c({firebase:n,dispatch:n&&n.dispatch},t))}))}return t.displayName=(0,o.wrapDisplayName)(e,"withFirebase"),t.wrappedComponent=e,(0,i.default)(t,e)};var r=s(n(2791)),i=s(n(2110)),o=n(2637),a=s(n(8010));function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)}e.exports=t.default},5181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){return r.default.createElement(a.default.Consumer,null,(function(n){return r.default.createElement(s.default.Consumer,null,(function(i){return r.default.createElement(e,u({firestore:i,firebase:n,dispatch:n.dispatch},t))}))}))}return t.displayName=(0,o.wrapDisplayName)(e,"withFirestore"),t.wrappedComponent=e,(0,i.default)(t,e)};var r=c(n(2791)),i=c(n(2110)),o=n(2637),a=c(n(8010)),s=c(n(473));function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)}e.exports=t.default},8459:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,c=60110,u=60112,l=60113,h=60120,d=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),c=b("react.context"),u=b("react.forward_ref"),l=b("react.suspense"),h=b("react.suspense_list"),d=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case d:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===c}},6900:(e,t,n)=>{"use strict";e.exports=n(8459)},2690:(e,t,n)=>{"use strict";var r=n(4836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(19));e.exports=t.default},19:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},891:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},9745:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=s(n(2690)),i=s(n(891)),o=s(n(2791)),a=s(n(5580));n(4987);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(a.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);h.defaultProps={classNames:""},h.propTypes={};var d=h;t.default=d,e.exports=t.default},6492:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;a(n(2007));var r=a(n(2791)),i=n(4164),o=a(n(2584));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],c=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var c=s;t.default=c,e.exports=t.default},5580:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2007)),i=s(n(2791)),o=s(n(4164)),a=n(3688);n(4987);function s(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var u="exited";t.EXITED=u;var l="entering";t.ENTERING=l;var h="entered";t.ENTERED=h;var d="exiting";t.EXITING=d;var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=u,r.appearStatus=l):i=h:i=t.unmountOnExit||t.mountOnEnter?c:u,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==h&&(t=l):n!==l&&n!==h||(t=d)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function p(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var m=(0,a.polyfill)(f);t.default=m},2584:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(2007)),i=s(n(2791)),o=n(3688),a=n(6970);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(h);t.default=d,e.exports=t.default},5937:(e,t,n)=>{"use strict";var r=s(n(9745)),i=s(n(6492)),o=s(n(2584)),a=s(n(5580));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},6970:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),c=o(t,s);return Object.keys(c).forEach((function(i){var o=c[i];if((0,r.isValidElement)(o)){var u=i in t,l=i in s,h=t[i],d=(0,r.isValidElement)(h)&&!h.props.in;!l||u&&!d?l||!u||d?l&&u&&(0,r.isValidElement)(h)&&(c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):c[i]=(0,r.cloneElement)(o,{in:!1}):c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),c};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=n(u)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},4987:(e,t,n)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+C(c,0):o,_(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var l=o+C(s=e[u],u);c+=k(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=k(s=s.value,t,i,l=o+C(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},9609:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return _(e)===h}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isFragment=function(e){return _(e)===o}},8493:(e,t,n)=>{"use strict";e.exports=n(9609)},892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!==typeof t[0]&&t.shift(),i=t;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s="undefined"===typeof e,c="undefined"===typeof t;return s&&c&&r?r:i.reduce((function(e,n,r){if("undefined"===typeof n)throw new TypeError("An undefined reducer was passed in at index "+r);return n.apply(void 0,[e,t].concat(o))}),s&&!c&&r?r:e)}}},9956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=d,t.default=void 0,t.deleteRef=function(e,t,n){var r=(0,s.getQueryConfig)(n),c=e._.config;if(!r.doc||r.subcollections&&!(0,i.default)(r.subcollections,"doc"))return"function"===typeof c.onAttemptCollectionDelete?c.onAttemptCollectionDelete(n,t,e):Promise.reject(new Error("Only documents can be deleted."));return(0,o.wrapInDispatch)(t,{ref:(0,s.firestoreRef)(e,r),method:"delete",meta:r,types:[a.actionTypes.DELETE_REQUEST,{type:a.actionTypes.DELETE_SUCCESS,preserve:e._.config.preserveOnDelete},a.actionTypes.DELETE_FAILURE]})},t.get=f,t.mutate=w,t.runTransaction=b,t.set=function(e,t,n){for(var r=(0,s.getQueryConfig)(n),i=arguments.length,c=new Array(i>3?i-3:0),u=3;u<i;u++)c[u-3]=arguments[u];return(0,o.wrapInDispatch)(t,{ref:(0,s.firestoreRef)(e,r),method:"set",meta:r,args:c,types:[a.actionTypes.SET_REQUEST,a.actionTypes.SET_SUCCESS,a.actionTypes.SET_FAILURE]})},t.setListener=m,t.setListeners=g,t.unsetListener=y,t.unsetListeners=v,t.update=p;var r,i=(r=n(2730))&&r.__esModule?r:{default:r},o=n(5020),a=n(9124),s=n(3419);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),c=3;c<r;c++)i[c-3]=arguments[c];var u=(0,s.getQueryConfig)(n);return(0,o.wrapInDispatch)(t,{ref:(0,s.firestoreRef)(e,u),method:"add",meta:u,args:i,types:[a.actionTypes.ADD_REQUEST,{type:a.actionTypes.ADD_SUCCESS,payload:function(e){var t={id:e.id,data:i[0]};return s.snapshotCache.set(t,e),t}},a.actionTypes.ADD_FAILURE]})}function f(e,t,n){var r=(0,s.getQueryConfig)(n),i=e._.config||{},c=i.mergeOrdered,u=i.mergeOrderedDocUpdates,l=i.mergeOrderedCollectionUpdates;return(0,o.wrapInDispatch)(t,{ref:(0,s.firestoreRef)(e,r),method:"get",meta:r,types:[a.actionTypes.GET_REQUEST,{type:a.actionTypes.GET_SUCCESS,payload:function(e){var t;return{data:(0,s.dataByIdSnapshot)(e),ordered:(0,s.orderedFromSnap)(e),fromCache:"boolean"!==typeof(null===(t=e.metadata)||void 0===t?void 0:t.fromCache)||e.metadata.fromCache}},merge:{docs:c&&u,collections:c&&l}},a.actionTypes.GET_FAILURE]})}function p(e,t,n){for(var r=(0,s.getQueryConfig)(n),i=arguments.length,c=new Array(i>3?i-3:0),u=3;u<i;u++)c[u-3]=arguments[u];return(0,o.wrapInDispatch)(t,{ref:(0,s.firestoreRef)(e,r),method:"update",meta:r,args:c,types:[a.actionTypes.UPDATE_REQUEST,a.actionTypes.UPDATE_SUCCESS,a.actionTypes.UPDATE_FAILURE]})}function m(e,t,n,r,i){var o=(0,s.getQueryConfig)(n),c=function(n){return o.populates?(0,s.getPopulateActions)({firebase:e,docData:n,meta:o}).then((function(r){r.forEach((function(e){t(l(l({},e),{},{type:a.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))})),(0,s.dispatchListenerResponse)({dispatch:t,docData:n,meta:o,firebase:e})})).catch((function(t){var n=(e._.config||{}).logListenerError;!1!==n&&!1!==n&&console&&"function"===typeof console.error&&console.error("redux-firestore error populating:",t),"function"===typeof i&&i(t)})):((0,s.dispatchListenerResponse)({dispatch:t,docData:n,meta:o,firebase:e}),"function"===typeof r&&r(n),Promise.resolve())},u=function(n){var r=e._.config||{},s=r.mergeOrdered,c=r.mergeOrderedDocUpdates,u=r.mergeOrderedCollectionUpdates,l=r.logListenerError,h=r.preserveOnListenerError;!1!==l&&console&&"function"===typeof console.error&&console.error("redux-firestore listener error:",n),t({type:a.actionTypes.LISTENER_ERROR,meta:o,payload:n,merge:{docs:s&&c,collections:s&&u},preserve:h}),"function"===typeof i&&i(n)},h=n&&n.includeMetadataChanges||!1,d=h?(0,s.firestoreRef)(e,o).onSnapshot({includeMetadataChanges:h},c,u):(0,s.firestoreRef)(e,o).onSnapshot(c,u);return(0,s.attachListener)(e,t,o,d),d}function g(e,t,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config;if(r.oneListenerPerPath)n.forEach((function(n){var r=(0,s.getQueryName)(n),i=e._.pathListenerCounts[r]||0;e._.pathListenerCounts[r]=i+1,i>0||m(e,t,n)}));else{var i=r.allowMultipleListeners;n.forEach((function(n){var r=(0,s.getQueryName)(n),o=e._.pathListenerCounts[r]||0,a="function"===typeof i?i(n,e._.listeners):i;e._.pathListenerCounts[r]=o+1,(0===o||a)&&m(e,t,n)}))}}function y(e,t,n){return(0,s.detachListener)(e,t,(0,s.getQueryConfig)(n))}function v(e,t,n){if(!Array.isArray(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config.allowMultipleListeners;n.forEach((function(n){var i=(0,s.getQueryName)(n),o=e._.pathListenerCounts[i]>=1,a="function"===typeof r?r(n,e._.listeners):r;o&&(e._.pathListenerCounts[i]-=1,(0===e._.pathListenerCounts[i]||a)&&y(e,t,n))}))}function b(e,t,n){return(0,o.wrapInDispatch)(t,{ref:e.firestore(),method:"runTransaction",args:[n],types:[a.actionTypes.TRANSACTION_START,a.actionTypes.TRANSACTION_SUCCESS,a.actionTypes.TRANSACTION_FAILURE]})}function w(e,t,n){var r="".concat(+new Date);return(0,o.wrapInDispatch)(t,{ref:e,method:"mutate",meta:{timestamp:r},args:[n],types:[{type:a.actionTypes.MUTATE_START,payload:{data:n}},a.actionTypes.MUTATE_SUCCESS,{type:a.actionTypes.MUTATE_FAILURE,meta:{timestamp:r},payload:{data:n}}]})}var _={get:f,firestoreRef:s.firestoreRef,add:d,update:p,setListener:m,setListeners:g,unsetListener:y,unsetListeners:v,runTransaction:b,mutate:w};t.default=_},4294:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreActions=t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=a?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(9956));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.firestoreActions=i;var a={firestoreActions:i};t.default=a},9124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.methodsToAddFromFirestore=t.defaultConfig=t.default=t.actionsPrefix=t.actionTypes=void 0;var n="@@reduxFirestore";t.actionsPrefix=n;var r={START:"".concat(n,"/START"),ERROR:"".concat(n,"/ERROR"),CLEAR_DATA:"".concat(n,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(n,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(n,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(n,"/SET_LISTENER"),UNSET_LISTENER:"".concat(n,"/UNSET_LISTENER"),GET_REQUEST:"".concat(n,"/GET_REQUEST"),GET_SUCCESS:"".concat(n,"/GET_SUCCESS"),GET_FAILURE:"".concat(n,"/GET_FAILURE"),SET_REQUEST:"".concat(n,"/SET_REQUEST"),SET_SUCCESS:"".concat(n,"/SET_SUCCESS"),SET_FAILURE:"".concat(n,"/SET_FAILURE"),ADD_REQUEST:"".concat(n,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(n,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(n,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(n,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(n,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(n,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(n,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(n,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(n,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(n,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(n,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(n,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(n,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(n,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(n,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(n,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(n,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(n,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(n,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(n,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(n,"/TRANSACTION_FAILURE"),OPTIMISTIC_ADDED:"".concat(n,"/OPTIMISTIC_ADDED"),OPTIMISTIC_MODIFIED:"".concat(n,"/OPTIMISTIC_MODIFIED"),OPTIMISTIC_REMOVED:"".concat(n,"/OPTIMISTIC_REMOVED"),MUTATE_START:"".concat(n,"/MUTATE_START"),MUTATE_SUCCESS:"".concat(n,"/MUTATE_SUCCESS"),MUTATE_FAILURE:"".concat(n,"/MUTATE_FAILURE")};t.actionTypes=r;var i={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,preserveCacheAfterUnset:!0,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0,globalDataConverter:null};t.defaultConfig=i;t.methodsToAddFromFirestore=["collection","collectionGroup","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings","mutate"];var o={actionsPrefix:n,actionTypes:r,defaultConfig:i};t.default=o},7731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={listeners:{},pathListenerCounts:{},config:h(h({},c.defaultConfig),t)};e._=(0,o.default)(r,e._);var u=[{action:a.firestoreActions.deleteRef,name:"delete"},{action:a.firestoreActions.setListener,name:"onSnapshot"}],l=(0,s.mapWithFirebaseAndDispatch)(e,n,a.firestoreActions,u),f=c.methodsToAddFromFirestore.reduce((function(t,n){return e.firestore&&"function"===typeof e.firestore()[n]?h(h({},t),{},d({},n,e.firestore()[n].bind(e.firestore()))):t}),{});return i=Object.assign(f,e.firestore,{_:e._},t.helpersNamespace?d({},t.helpersNamespace,l):l)},t.getFirestore=function(){if(!i)throw new Error("Firestore instance does not yet exist. Check your setup.");return i};var r,i,o=(r=n(8137))&&r.__esModule?r:{default:r},a=n(4294),s=n(5020),c=n(9124);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4945:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){return function(r,s,c){var l=n(r,s,c),h=u(u({},o.defaultConfig),t);return i=(0,a.default)(e.firebase_||e,h,l.dispatch),l.firestore=i,l}}},t.getFirestore=function(){if(!i)throw new Error("Firebase instance does not yet exist. Check your compose function.");return i};var r,i,o=n(9124),a=(r=n(7731))&&r.__esModule?r:{default:r};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},3366:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"wY",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"b_",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ad",{enumerable:!0,get:function(){return s.getFirestore}});var i=f(n(4945)),o=f(n(7564)),a=n(4294),s=d(n(7731)),c=d(n(9124)),u=d(n(7989)),l=n(3419);function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function f(e){return e&&e.__esModule?e:{default:e}}var p="1.2.0";var m=function(e,t){return new Promise((function(n,r){e.cache=(0,o.default)(e,{type:c.actionTypes.MUTATE_START,payload:{data:t},_promise:{resolve:n,reject:r}}).cache}))};o.default,o.default,i.default,i.default,s.default,a.firestoreActions,s.getFirestore,l.getSnapshotByObject,c.default,c.actionTypes,u.default,u.CALL_FIRESTORE},7989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_FIRESTORE=void 0,t.default=function(e){return function(t){return function(n){return function(r){var i=r.type===u?r:void 0;if("undefined"===typeof i)return n(r);var a=i.method;if("function"===typeof a&&(a=a(t.getState())),"string"!==typeof a)throw new Error("Specify a method.");var c=i.args,h=l[a];if(!Array.isArray(h)||3!==h.length)throw new Error("Expected an array of three action types.");if(!h.every((function(e){return"string"===typeof e})))throw new Error("Expected action types to be strings.");var d,f,p=(f=3,function(e){if(Array.isArray(e))return e}(d=h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(d,f)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],g=p[1],y=p[2];return n({type:m}),function(e,t){var n=t.method,r=t.modelArgs,i=t.methodArgs;Array.isArray(r)||(r=[r]);Array.isArray(i)||(i=[i]);if(!e||!e.firestore)throw new Error("firestore is not a Firebase namespace");return i?e.firestore()[n].apply(e,i):e.firestore()[n]}(e,{method:a}).then((function(e){return n({response:e,method:a,args:c,type:g})})).catch((function(e){return n(function(e){var t=s(s({},r),e);return delete t[u],t}({type:y,error:e.message||e||"Something bad happened"}))}))}}}};var r=n(9124);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="CALL_FIRESTORE";t.CALL_FIRESTORE=u;var l={get:[r.actionTypes.GET_REQUEST,r.actionTypes.GET_SUCCESS,r.actionTypes.GET_FAILURE]}},7564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(892))&&r.__esModule?r:{default:r},o=n(2139),a=n(7369);var s=(0,o.combineReducers)({status:a.statusReducer,data:a.dataReducer,ordered:a.orderedReducer,listeners:a.listenersReducer,errors:a.errorsReducer,cache:a.cacheReducer,queries:a.queriesReducer,composite:function(e){return e}}),c=(0,i.default)(s,a.crossSliceReducer);t.default=c},6668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=oe[t.type];if(!n)return e;var r=t.meta&&t.meta.collection?t.meta.storeAs||(0,x.getBaseQueryName)(t.meta):null,i=t.meta?t.meta.collection:null;return n(e,{action:t,key:r,path:i})};var r,i=I(n(2100)),o=I(n(6364)),a=I(n(5396)),s=I(n(8111)),c=I(n(6181)),u=I(n(7061)),l=I(n(1475)),h=I(n(3078)),d=I(n(4480)),f=I(n(1982)),p=I(n(2034)),m=I(n(8409)),g=I(n(5812)),y=I(n(6829)),v=I(n(86)),b=I(n(3986)),w=I(n(4485)),_=I(n(6229)),S=n(6005),E=n(9124),x=n(3419),T=["collection","path","doc","id","data"];function I(e){return e&&e.__esModule?e:{default:e}}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){return e instanceof Object&&void 0!==e.seconds},L={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},">=":function(e,t){return e>=t},">":function(e,t){return e>t},"array-contains":function(e,t){return e.includes(t)},in:function(e,t){return Array.isArray(t)&&t.includes(e)},"array-contains-any":function(e,t){return t.some((function(t){return e.includes(t)}))},"not-in":function(e,t){return!t.includes(e)},"*":function(){return!0}},F={"<":function(e,t){return e.seconds<t.seconds||e.seconds===t.seconds&&e.nanoseconds<t.nanoseconds},"<=":function(e,t){return e.seconds<t.seconds||e.seconds===t.seconds&&e.nanoseconds<=t.nanoseconds},"==":function(e,t){return e.seconds===t.seconds&&e.nanoseconds===t.nanoseconds},"!=":function(e,t){return e.seconds!==t.seconds||e.nanoseconds!==t.nanoseconds},">=":function(e,t){return e.seconds>t.seconds||e.seconds===t.seconds&&e.nanoseconds>=t.nanoseconds},">":function(e,t){return e.seconds>t.seconds||e.seconds===t.seconds&&e.nanoseconds>t.nanoseconds},"array-contains":function(e,t){return e.includes(t)},in:function(e,t){return Array.isArray(t)&&t.includes(e)},"array-contains-any":function(e,t){return t.some((function(t){return e.includes(t)}))},"not-in":function(e,t){return!t.includes(e)},"*":function(){return!0}},U=function(e){return(0,f.default)(p.default,(function(e){return e}))},B=function(e){var t=e.collection;return function(e){var n=e.database,r=void 0===n?{}:n,i=e.databaseOverrides,o=void 0===i?{}:i,a=new Set([].concat(D(Object.keys(r[t]||{})),D(Object.keys(o[t]||{}))));return[Array.from(a).map((function(e){return[t,e]}))]}},V=function(e,t){var n=e.where;return n?("string"===typeof n[0]?[n]:n).map((function(e){var n=R(e,3),r=n[0],i=n[1],o=n[2],a=j(o)?F[i]:L[i]||function(){return!0};return(0,f.default)(p.default,(function(e){return(0,v.default)(e,(function(){var e,n=R(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],2),i=n[0],s=n[1];return!(!i||!s)&&(void 0===(e="__name__"===r?s:r.includes(".")?r.split(".").reduce((function(e,t){return e&&e[t]}),t(i,s)):t(i,s)[r])&&(e=null),a(e,o))}))}))})):[(0,f.default)(p.default,i.default)]},z=function(e,t){var n=e.orderBy;if(!n)return i.default;var r="string"===typeof n[0]?[n]:n,o=d.default.apply(void 0,D(r.map((function(e){var t=R(e,2),n=t[0];return[function(e){return"string"===typeof e[n]?e[n].toLowerCase():j(e[n])?e[n].seconds:e[n]},t[1]||"asc"]})))),a=R(o,2),s=a[0],c=a[1];return(0,f.default)(p.default,(function(e){var n=e.map((function(e){var n=R(e,2),r=n[0],i=n[1];return t(r,i)}));return(0,g.default)(n,s,c).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.path;return n&&t&&[n,t]}))}))},q=function(e){var t=e.limit,n=e.endAt,r=e.endBefore;return t?void 0!==(n||r)?function(){var e=R(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],1)[0];return[(0,a.default)(e,t)]}:function(){var e=R(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],1)[0];return[(0,m.default)(e,t)]}:i.default},W=function(e,t){var n=e.orderBy,r=e.limit,o=e.startAt,a=e.startAfter,s=e.endAt,c=e.endBefore,u=o||a,l=s||c,h=void 0!==a,d=void 0!==c;if(!(u||l||!1)||!n)return i.default;var m="string"===typeof n[0]?[n]:n,g=function(e,t){return void 0!==m.find((function(n,r){var i=R(n,2),u=i[0],l=i[1],h=void 0===l?"asc":l,d=Array.isArray(t)?t[r]:t;if(void 0===d)return!1;var f=j(e[u])?F:L,p=process["=="];return(o||s)&&(p=f["desc"===h?"<=":">="]),(a||c)&&(p=f["desc"===h?"<":">"]),p(e[u],d)}))};return(0,f.default)(p.default,(function(e){var n=[],i=void 0===u;return e.forEach((function(e){var o=R(e,2),a=o[0],s=o[1];r&&n.length>=r||(!i&&u&&g(t(a,s),u,void 0,h)&&(i=!0),i&&l&&g(t(a,s),l,d,void 0)&&(i=!1),i&&n.push([a,s]))})),n}))};function G(e,t){var n=t.database,r=t.databaseOverrides,i=e.via,o=void 0===i?"memory":i,a=e.collection,s=n&&n[a]||{},c=r&&r[a],u=function(e,t){var n=s[t]||{},r=null===c||void 0===c?void 0:c[t];return r?A(A({},n),r):n},l=(0,y.default)([B(e),U("xfAllIds")].concat(D(V(e,u)),[U("xfWhere"),z(e,u),U("xfOrder"),W(e,u),U("xfPaginate"),q(e),U("xfLimit")]))(t)[0];return"memory"===o&&0===l.length?void 0:l}function H(e,t){var n,r=[],i=Array.isArray(t)?t:[t],a=null===(n=e.databaseOverrides)||void 0===n?void 0:n[t];Object.keys(e).forEach((function(t){var n;if(!["database","databaseOverrides"].includes(t)&&i.includes(e[t].collection)&&!function(e,t){var n=t.databaseOverrides,r=void 0===n?{}:n,i=e.collection,a=e.via,s=["cache","server"].includes(a),c=(0,o.default)(r[i]);return!(!s||!c)}(e[t],e)){r.push(t);var s=G(e[t],e);e[t].ordered&&(null!==s&&void 0!==s?s:[]).toString()===(null!==(n=e[t].ordered)&&void 0!==n?n:[]).toString()||((0,w.default)(e,[t,"ordered"],s),(0,w.default)(e,[t,"via"],(0,o.default)(a)?"memory":"optimistic"))}}))}var K=function(e){return"string"===typeof e[0]&&0===e[0].indexOf("::")?null:e},Q=function(e,t,n){delete e[t];var r=t.split(".");return r.reduce((function(e,t,i){return void 0===e[t]&&(e[t]={}),i===r.length-1&&(e[t]=n),e[t]}),e),e},Y=function(e,t,n){return"::arrayUnion"!==e?null:(n()||[]).concat([t])},X=function(e,t,n){return"::arrayRemove"===e&&(n()||[]).filter((function(e){return e!==t}))},$=function(e,t,n){return"::increment"===e&&"number"===typeof t&&(n()||0)+t},J=function(e){return"::serverTimestamp"===e&&S.Timestamp.now()};function Z(e){var t=e.payload,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.data||{},a=i.reads,s=i.writes;s?Array.isArray(s)||(s=[s]):s=Array.isArray(t.data)?t.data:[t.data];var c={};a&&(c=Object.keys(a).reduce((function(e,t){var i,o,s,c;if("function"===typeof a[t])return A(A({},e),{},P({},t,a[t]()));var u=(null===(i=a[t])||void 0===i?void 0:i.path)||(null===(o=a[t])||void 0===o?void 0:o.collection),l=(null===(s=a[t])||void 0===s?void 0:s.id)||(null===(c=a[t])||void 0===c?void 0:c.doc),h=n[u]||{},d=r[u]||{};return A(A({},e),{},P({},t,A(A({id:l,path:u},h[l]),d[l]||{})))}),{}));var u=s.map((function(e){return"function"===typeof e?e(c):e})).filter((function(e){return!e||!(0,o.default)(e)})).reduce((function(e,t){return[].concat(D(e),D(Array.isArray(t)?t:[t]))}),[]).map((function(e){var t=e.collection,r=e.path,i=e.doc,o=e.id,a=e.data,s=C(e,T),c=r||t,u=o||i;return A({path:c,id:u},function(e,t){return Object.keys(e).reduce((function(e,n){var r=e[n];return n.includes(".")?Q(e,n,r):Array.isArray(r)&&r.length>0&&(e[n]=K(r)||J(r[0])||Y(r[0],r[1],(function(){return t(n)}))||X(r[0],r[1],(function(){return t(n)}))||$(r[0],r[1],(function(){return t(n)}))),e}),JSON.parse(JSON.stringify(e)))}(t?a:s,(function(e){return(((Object.keys(n).length>0?n:{})[c]||{})[u]||{})[e]})))}));return u}function ee(e,t){var n=t.path,r=t.id,i=t.data;if(n&&r){var o=(0,c.default)(e,["databaseOverrides",n,r],!1);if(o&&(!i||(0,u.default)(i,o))){var a=Object.keys(o),l=i?a.filter((function(e){var t=(0,c.default)(i,e),n=o[e];return null===t||void 0===t?t===n:Array.isArray(t)?t.every((function(e,t){return e===n[t]})):"object"===O(t)?Object.keys(t).every((function(e){return t[e]===n[e]})):(0,s.default)(i[e],o[e])})):a,h=l.length===Object.keys(o).length;h&&1===Object.keys(e.databaseOverrides[n]||{}).length?(0,b.default)(e,["databaseOverrides",n]):h?(0,b.default)(e,["databaseOverrides",n,r]):l.forEach((function(t){(0,b.default)(e,["databaseOverrides",n,r,t])}))}}}var te=function(e,t){var n=t.action,r=(t.key,t.path);return(0,_.default)(e,(function(e){var t,i;e.database||((0,w.default)(e,["database"],{}),(0,w.default)(e,["databaseOverrides"],{}));var a={undefined:!(0,o.default)(null===(t=e.databaseOverrides)||void 0===t?void 0:t[r])?"optimistic":"memory",true:"cache",false:"server"}[n.payload.fromCache];n.payload.data&&Object.keys(n.payload.data).forEach((function(t){(0,h.default)(e,["database",r,t],n.payload.data[t],Object),ee(e,{path:r,id:t,data:n.payload.data[t]})}));var s=(null===(i=n.payload.ordered)||void 0===i?void 0:i.map((function(e){return[e.path,e.id]})))||G(n.meta,e);return(0,w.default)(e,[n.meta.storeAs],A(A({ordered:s},n.meta),{},{via:a})),H(e,r),e}))},ne=function(e,t){var n=t.action,r=t.key,i=t.path;return(0,_.default)(e,(function(e){(0,h.default)(e,["database",i,n.meta.doc],n.payload.data,Object),ee(e,{path:i,id:n.meta.doc,data:n.payload.data});var t=n.payload,o=t.ordered||{},a=o.oldIndex,s=void 0===a?0:a,c=o.newIndex,u=void 0===c?0:c;if(u!==s){var d=t.data&&[t.data.path,t.data.id]||e[r].ordered[s],f=(e[r]||{ordered:[]}).ordered,p=(0,l.default)(f,[1,n.meta.doc]),m=-1!==p,g=-1===s||m;(-1===u||m)&&p>-1?f.splice(p,0):g&&f.splice(u,0,d),(0,w.default)(e,[r,"ordered"],f)}return!1!==n.meta.reprocess&&H(e,i),e}))},re=function(e,t){var n=t.action,r=(t.key,t.path);return(0,_.default)(e,(function(e){if(n.payload.data||n.payload.args){var t=(n.payload.data?[{writes:[n.payload.data]}]:n.payload.args).reduce((function(t,n){var i=n.writes;return[].concat(D(t),D(i.map((function(t){var n=t.collection,i=t.path,o=t.doc,a=t.id;return ee(e,{path:i||n,id:a||o}),r||n}))))}),[]),i=Array.from(new Set(t));i.length>0&&H(e,i)}return e}))},ie=function(e,t){var n=t.action,r=(t.key,t.path);return(0,_.default)(e,(function(e){return(0,h.default)(e,["databaseOverrides",r,n.meta.doc],n.payload.data,Object),H(e,r),e}))},oe=(P(r={},E.actionTypes.SET_LISTENER,te),P(r,E.actionTypes.LISTENER_RESPONSE,te),P(r,E.actionTypes.GET_SUCCESS,te),P(r,E.actionTypes.UNSET_LISTENER,(function(e,t){var n=t.action,r=t.key,i=t.path;return(0,_.default)(e,(function(e){return e[r]&&(n.payload.preserveCache||(0,b.default)(e,[r]),H(e,i)),e}))})),P(r,E.actionTypes.DOCUMENT_ADDED,ne),P(r,E.actionTypes.DOCUMENT_MODIFIED,ne),P(r,E.actionTypes.DELETE_SUCCESS,(function(e,t){var n=t.action,r=t.key,i=t.path;return(0,_.default)(e,(function(e){if(e.database&&e.database[i]&&(0,b.default)(e,["database",i,n.meta.doc]),ee(e,{path:i,id:n.meta.doc}),e[r]&&e[r].ordered){var t=(0,l.default)(e[r].ordered,[1,n.meta.doc]);e[r].ordered.splice(t,1)}return H(e,i),e}))})),P(r,E.actionTypes.DOCUMENT_REMOVED,(function(e,t){var n=t.action,r=t.key,i=t.path;return(0,_.default)(e,(function(e){if(ee(e,{path:i,id:n.meta.doc,data:n.payload.data}),e[r]&&e[r].ordered){var t=(0,l.default)(e[r].ordered,[1,n.meta.doc]);-1!==t&&e[r].ordered.splice(t,1)}return H(e,i),e}))})),P(r,E.actionTypes.OPTIMISTIC_ADDED,ie),P(r,E.actionTypes.OPTIMISTIC_MODIFIED,ie),P(r,E.actionTypes.OPTIMISTIC_REMOVED,(function(e,t){var n=t.action,r=(t.key,t.path);return(0,_.default)(e,(function(e){return ee(e,{path:r,id:n.meta.doc}),H(e,r),e}))})),P(r,E.actionTypes.MUTATE_FAILURE,re),P(r,E.actionTypes.DELETE_FAILURE,re),P(r,E.actionTypes.UPDATE_FAILURE,re),P(r,E.actionTypes.SET_FAILURE,re),P(r,E.actionTypes.ADD_FAILURE,re),P(r,E.actionTypes.MUTATE_START,(function(e,t){var n=t.action,r=(t.key,t.path,n._promise);try{return(0,_.default)(e,(function(e){if(n.payload&&n.payload.data){var t=Z(n,e.database)||[];t.forEach((function(t){(0,h.default)(e,["databaseOverrides",t.path,t.id],t,Object)})),D(new Set(t.map((function(e){return e.path})))).forEach((function(t){H(e,t)}))}return null===r||void 0===r||r.resolve(),e}))}catch(i){return null===r||void 0===r||r.reject(i),e}})),r)},3385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,s.default)(e,(function(n){switch(t.type){case c.actionTypes.DOCUMENT_MODIFIED:case c.actionTypes.DOCUMENT_ADDED:case c.actionTypes.DOCUMENT_REMOVED:case c.actionTypes.LISTENER_RESPONSE:case c.actionTypes.UNSET_LISTENER:var s=(0,a.default)(!!e.queries&&Object.values(e.queries)||[],(function(e){return e.storeAs||e.collection}));return Object.keys(s).forEach((function(e){var t={};s[e].forEach((function(e){return(0,o.default)(t,(0,r.default)(e,"data",{}))})),(0,i.default)(n,["composite",e],t)})),n;default:return e}}))};var r=u(n(6181)),i=u(n(4485)),o=u(n(9286)),a=u(n(8444)),s=u(n(6229)),c=n(9124);function u(e){return e&&e.__esModule?e:{default:e}}},2250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case l:var n=t.meta,o=t.payload;if(!o||void 0===o.data)return e;var s=function e(t){return t.subcollections?e(t.subcollections.slice(-1)[0]):t.doc}(n),g=s?(0,i.default)(o.data,s):o.data;return!(0,i.default)(e,n.storeAs?[n.storeAs]:(0,a.pathFromMeta)(n))||n.subcollections,(0,r.default)(Object,n.storeAs?[n.storeAs]:(0,a.pathFromMeta)(n),g,e);case p:case f:return(0,r.default)(Object,(0,a.pathFromMeta)(t.meta),t.payload.data,e);case m:case d:var y=(0,a.pathFromMeta)(t.meta),v=(0,r.default)(Object,y,null,e);return t.preserve&&t.preserve.data?(0,a.preserveValuesFromState)(e,t.preserve.data,v):v;case c:return t.preserve&&t.preserve.data?(0,a.preserveValuesFromState)(e,t.preserve.data,{}):{};case h:var b=(0,r.default)(Object,(0,a.pathFromMeta)(t.meta),null,e);return t.preserve&&t.preserve.data?(0,a.preserveValuesFromState)(e,t.preserve.data,b):(0,i.default)(e,(0,a.pathFromMeta)(t.meta))?e:b;default:return e}};var r=s(n(2633)),i=s(n(6181)),o=n(9124),a=n(2139);function s(e){return e&&e.__esModule?e:{default:e}}var c=o.actionTypes.CLEAR_DATA,u=o.actionTypes.GET_SUCCESS,l=o.actionTypes.LISTENER_RESPONSE,h=o.actionTypes.LISTENER_ERROR,d=o.actionTypes.DELETE_SUCCESS,f=o.actionTypes.DOCUMENT_ADDED,p=o.actionTypes.DOCUMENT_MODIFIED,m=o.actionTypes.DOCUMENT_REMOVED},7637:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(9124),o=n(3419),a=n(2139);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=i.actionTypes.CLEAR_ERRORS,f=i.actionTypes.CLEAR_ERROR,p=i.actionTypes.LISTENER_ERROR,m=i.actionTypes.ERROR;var g=(0,a.combineReducers)({byQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;switch(t.type){case m:case p:return c(c({},e),{},u({},(0,o.getQueryName)(n),r));case f:return c(c({},e),{},u({},(0,o.getQueryName)(n),null));default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta;switch(t.type){case p:case m:return-1!==e.indexOf((0,o.getQueryName)(n))?e:[].concat(l(e),[(0,o.getQueryName)(n)]);case d:return[];case f:return e.filter((function(e){return e!==(0,o.getQueryName)(n)}));default:return e}}});t.default=g},7369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cacheReducer",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"crossSliceReducer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dataReducer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"errorsReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"listenersReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"orderedReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"queriesReducer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"statusReducer",{enumerable:!0,get:function(){return c.default}});var r=h(n(2250)),i=h(n(7637)),o=h(n(82)),a=h(n(7553)),s=h(n(5111)),c=h(n(8567)),u=h(n(3385)),l=h(n(6668));function h(e){return e&&e.__esModule?e:{default:e}}},82:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(4242))&&r.__esModule?r:{default:r},o=n(9124);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,n(2139).combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.path,a=t.payload;switch(n){case o.actionTypes.SET_LISTENER:return l(l({},e),{},h({},a.name,{name:a.name,path:r}));case o.actionTypes.UNSET_LISTENER:return(0,i.default)(e,[a.name]);default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case o.actionTypes.SET_LISTENER:return[].concat(s(e),[r.name]);case o.actionTypes.UNSET_LISTENER:return e.filter((function(e){return e!==r.name}));default:return e}}});t.default=d},7553:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.type)return e;if(t.type===O)return t.preserve&&t.preserve.ordered?(0,m.preserveValuesFromState)(e,t.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(N,t.type))return e;if(!t.meta||!t.meta.storeAs&&!t.meta.collection)return e;var n=t.meta.storeAs||t.meta.collection,r=(0,d.default)(e,n);return b(b({},e),{},w({},n,M(r,t)))};var i,o=g(n(8137)),a=g(n(8111)),s=g(n(6075)),c=g(n(2034)),u=g(n(4242)),l=g(n(4397)),h=g(n(7701)),d=g(n(6181)),f=g(n(9467)),p=n(9124),m=n(2139);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=p.actionTypes.DOCUMENT_ADDED,T=p.actionTypes.GET_SUCCESS,I=p.actionTypes.LISTENER_RESPONSE,O=p.actionTypes.CLEAR_DATA,C=p.actionTypes.DELETE_SUCCESS,k=p.actionTypes.DOCUMENT_REMOVED,A=p.actionTypes.DOCUMENT_MODIFIED;function P(e,t){if(t.payload.ordered){var n=t.payload.ordered,r=n.newIndex,i=n.oldIndex;if(null!==r&&null!==i&&r>-1&&i>-1&&r!==i)return function(e,t,n,r){var i=t.doc,o=n||{},a=o.oldIndex,s=o.newIndex,c=[].concat(_(e.slice(0,a)),_(e.slice(a+1)));return[].concat(_(c.slice(0,s)),[b({id:i},r)||b({},e[a])],_(c.slice(s)))}(e,t.meta,t.payload.ordered,t.payload.data)}if(!t.meta.subcollections||t.meta.storeAs)return(0,m.updateItemInArray)(e,t.meta.doc,(function(e){return b({id:t.meta.doc},t.payload.data)}));var a=y((0,m.pathToArr)(t.meta.path),4),s=a[1],c=a[2],u=a[3];return(0,m.updateItemInArray)(e,s,(function(e){return b(b({},e),{},w({},c,(0,m.updateItemInArray)((0,d.default)(e,c,[]),u,(function(e){return(0,o.default)(e,t.payload.data)}))))}))}function R(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,l.default)(e,{id:t.meta.doc});var n=t.meta.subcollections[0];return n.doc?(0,m.updateItemInArray)(e,t.meta.doc,(function(t){return(0,d.default)(t,n.collection,[]).length?b(b({},t),{},w({},n.collection,(0,l.default)(e,{id:n.doc}))):t})):(0,m.updateItemInArray)(e,t.meta.doc,(function(e){return(0,u.default)(e,[n.collection])}))}function D(e,t){var n=t.meta,r=t.merge,i=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return t.payload.ordered;var l=(0,f.default)(e),p=!!(0,f.default)(t.payload.ordered);if(n.doc&&i.doc&&l)return P(e,t);if(l&&i.collections){if(!p)return[];var g=e&&(0,s.default)(e,"id");return(0,c.default)(t.payload.ordered,(function(e){var t=(0,d.default)(g,e.id);return t&&!(0,a.default)(t,e)?b(b({},t),e):e}))}if(n.doc&&n.subcollections){var y=n.subcollections[0];return l?(0,m.updateItemInArray)(e,n.doc,(function(e){return p?b(b({},e),{},w({},y.collection,(0,h.default)((0,d.default)(e,y.collection,[]),t.payload.ordered,"id"))):(0,u.default)(e,[y.collection])})):[w({id:n.doc},y.collection,t.payload.ordered)]}return n.doc&&l?(0,f.default)(t.payload.ordered)?(0,m.updateItemInArray)(e,n.doc,(function(e){return(0,o.default)(e,t.payload.ordered[0])})):e:t.payload.ordered}var N=(w(i={},x,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;return!n.subcollections||n.storeAs?[].concat(_(e.slice(0,r.ordered.newIndex)),[b({id:n.doc},r.data)],_(e.slice(r.ordered.newIndex))):P(e,t)})),w(i,A,P),w(i,k,R),w(i,C,R),w(i,I,D),w(i,T,D),i),M=(0,m.createReducer)(void 0,N)},5111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,a.default)(e,(function(n){if(!f(t))return e;var i=(0,c.getBaseQueryName)(t.meta);switch(t.type){case s.actionTypes.GET_SUCCESS:case s.actionTypes.LISTENER_RESPONSE:return n[i]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({data:t.payload.data},t.meta),n;case s.actionTypes.UNSET_LISTENER:return n[i]&&(n[i].data=void 0),n;case s.actionTypes.DOCUMENT_ADDED:case s.actionTypes.DOCUMENT_MODIFIED:return(0,o.default)(n,[i,"data",t.meta.doc],t.payload.data),n;case s.actionTypes.DOCUMENT_REMOVED:case s.actionTypes.DELETE_SUCCESS:return(0,r.default)(n,[i,"data",t.meta.doc]),n;default:return e}}))},t.isComposable=f;var r=u(n(3986)),i=u(n(6181)),o=u(n(4485)),a=u(n(6229)),s=n(9124),c=n(3419);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return!!(0,i.default)(e,"meta.where")&&!!(0,i.default)(e,"meta.collection")}},8567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.requestedReducer=m,t.requestingReducer=p,t.timestampsReducer=g;var r=n(9124),i=n(2139),o=n(3419);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=r.actionTypes.SET_LISTENER,h=r.actionTypes.UNSET_LISTENER,d=r.actionTypes.LISTENER_ERROR,f=r.actionTypes.LISTENER_RESPONSE;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case l:return c(c({},e),{},u({},(0,i.getSlashStrPath)((0,o.getQueryName)(r)),!0));case d:case f:case h:return c(c({},e),{},u({},(0,i.getSlashStrPath)((0,o.getQueryName)(r)),!1));default:return e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case l:case h:return c(c({},e),{},u({},(0,o.getQueryName)(r),!1));case d:case f:return c(c({},e),{},u({},(0,o.getQueryName)(r),!0));default:return e}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;return n===l?c(c({},e),{},u({},(0,o.getQueryName)(r),Date.now())):e}var y=(0,i.combineReducers)({requesting:p,requested:m,timestamps:g});t.default=y},5020:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=function(e,t,n,r){var o=function(e,t){return function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(e,[e,t].concat(i))}}}(e,t);return u(u({},(0,i.default)(n,o)),r.reduce((function(e,t){var n=t.action,r=t.name;return u(u({},e),{},l({},r,o(n)))}),{}))},t.wrapInDispatch=function(e,t){var n=t.ref,r=t.meta,i=void 0===r?{}:r,s=t.method,c=t.args,u=void 0===c?[]:c,l=t.types;if("function"!==typeof e)throw new Error("dispatch is not a function");var f=d(l,3),p=f[0],g=f[1],y=f[2],v={type:(0,o.default)(p)?p.type:p,meta:i,payload:(0,o.default)(p)?p.payload:{args:u}},b=new Promise((function(t,n){Object.defineProperty(v,"_promise",{enumerable:!1,configurable:!1,writable:!1,value:{resolve:t,reject:n}}),"mutate"!==s&&t(),e(v)})),w="mutate"===s?a.default.apply(void 0,[n].concat(h(u))):n[s].apply(n,h(u));return w.then((function(t){var n=(0,o.default)(g),r={type:n?g.type:g,meta:i,payload:n&&g.payload?m(g,t):{args:u}};return n&&g.preserve&&(r.preserve=g.preserve),n&&g.merge&&(r.merge=g.merge),e(r),t})).catch((function(t){return e({type:y,meta:i,payload:t}),Promise.reject(t)})),Promise.allSettled([w,b]).then((function(e){var t=d(e,2),n=t[0],r=t[1];return"rejected"===r.status?Promise.reject(r.reason):"rejected"===n.status?Promise.reject(n.reason):n.value}))};var i=s(n(7702)),o=s(n(8092)),a=s(n(1790));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=e.payload;return"function"===typeof n?n(t):n}},1790:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof(null===t||void 0===t?void 0:t.path)||"string"===typeof(null===t||void 0===t?void 0:t.collection))return function(e,t){var n=C(e,t);return n}(e,t);if(Array.isArray(t))return function(e,t){return A.apply(this,arguments)}(e,t);return function(e,t){return P.apply(this,arguments)}(e,t)};var i=l(n(7702)),o=l(n(5506)),a=l(n(8121)),s=l(n(3992)),c=n(3419),u=["collection","path","doc","id","data"];function l(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new O(r||[]);return i(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var d={};function f(){}function p(){}function g(){}var y={};u(y,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(C([])));b&&b!==t&&n.call(b,a)&&(y=b);var w=g.prototype=f.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,c)}),(function(e){o("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=g,i(w,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:p,configurable:!0}),p.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))}}var w=function(){var e=b(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,Promise.all(Object.entries(t).map((function(e){var t=g(e,2),n=t[0];return t[1].then((function(e){return[n,e]}))})));case 3:return e.t1=e.sent,e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.doc;return"string"===typeof e.id||"string"===typeof t},S=function(e){return!e||e.empty&&e.empty()||e.exists&&e.exists()},E=function(e){return Array.isArray(e)&&"string"===typeof e[0]&&0===e[0].indexOf("::")?null:e},x=function(e,t){var n;if("::arrayUnion"!==t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=e.firestore.FieldValue).arrayUnion.apply(n,i)},T=function(e,t){var n;if("::arrayRemove"!==t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=e.firestore.FieldValue).arrayRemove.apply(n,i)},I=function(e,t,n){return"::increment"===t&&"number"===typeof n&&e.firestore.FieldValue.increment(n)},O=function(e,t){return"::serverTimestamp"===t&&e.firestore.FieldValue.serverTimestamp()};function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.collection,i=t.path,o=t.doc,s=t.id,c=t.data,l=h(t,u),d=e.firestore().doc("".concat(i||r,"/").concat(s||o)),p=function(e,t){var n=!1;return[Object.keys(t).reduce((function(t,r){var i=f({},t),o=i[r];if(r.includes(".")&&(n=!0),!o)return i;var a=E(o)||O(e,o[0])||x(e,o[0],o[1])||T(e,o[0],o[1])||I(e,o[0],o[1]);return Array.isArray(o)&&o.length>0&&(i[r]=a),i}),(0,a.default)(t)),n]}(e,c||l),m=g(p,2),y=m[0],v=m[1],b=void 0!==v&&v;return n?(b?n.update(d,y):n.set(d,y,{merge:!0}),f({id:d.id,path:d.parent.path},y)):b?d.update(y):d.set(y,{merge:!0})}var k=500;function A(){return(A=b(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.default)(n,k).map((function(e){var n=t.firestore().batch(),r=e.map((function(e){return C(t,e,n)}));return n.commit().then((function(){return r}))})),e.abrupt("return",Promise.all(r).then(o.default));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return P=b(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.firestore().runTransaction(function(){var e=b(m().mark((function e(r){var o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){return e?f(f({},e.data()),{},{id:e.ref.id,path:e.ref.parent.path}):null},a=(0,i.default)(n.reads,function(){var e=b(m().mark((function e(n){var i,a,s,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=2;break}return e.abrupt("return",n());case 2:if(!_(n)){e.next=8;break}return i=(0,c.firestoreRef)(t,n),e.next=6,r.get(i);case 6:return a=e.sent,e.abrupt("return",o(!1===a.exsits?null:a));case 8:return s=(0,c.firestoreRef)(t,n),e.next=11,s.get();case 11:if(u=e.sent,!S(u)&&0!==u.docs.length){e.next=14;break}return e.abrupt("return",[]);case 14:return e.next=16,Promise.all(u.docs.map((function(e){return r.get(e)})));case 16:return l=e.sent,e.abrupt("return",l.map(o));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,w(a);case 4:return s=e.sent,u=[],n.writes.forEach((function(e){var n="function"===typeof e?e(s):e;Array.isArray(n)?(n.map((function(e){return C(t,e,r)})),u.push(n)):u.push(C(t,n,r))})),e.abrupt("return",{reads:s,writes:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}},3419:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.attachListener=function(e,t,n,r){L(e,n);var i=j(n);e._.listeners[i]||(e._.listeners[i]=r);return t({type:p.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),e._.listeners},t.dataByIdSnapshot=V,t.detachListener=function(e,t,n){var r=j(n);e._.listeners[r]&&(e._.listeners[r](),delete e._.listeners[r]);var i=(e._.config||{}).preserveCacheAfterUnset;t({type:p.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r,preserveCache:i}})},t.dispatchListenerResponse=function(e){var t,n=e.dispatch,r=e.docData,o=e.meta,a=e.firebase._.config||{},s=a.mergeOrdered,c=a.mergeOrderedDocUpdates,u=a.mergeOrderedCollectionUpdates,l="boolean"!==typeof(null===(t=r.metadata)||void 0===t?void 0:t.fromCache)||r.metadata.fromCache,h="function"===typeof r.docChanges?r.docChanges():r.docChanges;h&&h.length<r.size?h.forEach((function(e,t){var r=t===h.length-1;n(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_(_({},(0,i.default)(t)),{},{path:e.doc.ref.parent.path});t.subcollections&&!t.storeAs?n.subcollections[0]=_(_({},n.subcollections[0]),{},{doc:e.doc.id}):n.doc=e.doc.id;var r=_({id:e.doc.id,path:e.doc.ref.parent.path},e.doc.data());return{type:G[e.type]||p.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:r,ordered:{oldIndex:e.oldIndex,newIndex:e.newIndex}}}}(e,_({reprocess:r},o)))})):n({type:p.actionTypes.LISTENER_RESPONSE,meta:o,payload:{data:V(r),ordered:B(r),fromCache:l},merge:{docs:s&&c,collections:s&&u}})},t.firestoreRef=R,t.getBaseQueryName=function(e){if("string"===typeof e||e instanceof String)return e;var t=e.path,n=e.collection,r=e.collectionGroup,i=e.subcollections,o=b(e,g);if(!t&&!n&&!r)throw new Error("Collection or Collection Group is required to build query name");var a=t||n||r;if((t||n)&&i){var s=i.map((function(e){return j(e)}));a="".concat(a,"/").concat(s.join("/"))}var c=N(o);if(!(0,h.default)(c)){if(c.where&&!Array.isArray(c.where))throw new Error("where parameter must be an array.");a=a.concat("?",M(c))}return a},t.getPopulateActions=function(e){var t=e.firebase,n=e.docData,r=e.meta;return function(e,t,n,r){var i=[],s={},l=W("function"===typeof r?r(t,n):r);l.some((function(e){return(0,c.default)(n,e.child)}))?l.forEach((function(t){var r=(0,a.default)(n,t.child);return"string"===typeof r||r instanceof String?i.push(z(e,t,r).then((function(e){e&&(0,o.default)(s,"".concat(t.storeAs?t.storeAs:t.root,".").concat(r),e)}))):i.push(q(e,r,t,s))})):(0,u.default)(n,(function(t,n){var c=W("function"===typeof r?r(n,t):r);(0,u.default)(c,(function(n){var r=(0,a.default)(t,n.child);if(r)return"string"===typeof r||r instanceof String?i.push(z(e,n,r).then((function(e){return e&&(0,o.default)(s,"".concat(n.storeAs?n.storeAs:n.root,".").concat(r),e),s}))):Array.isArray(r)||(0,f.default)(r)?i.push(q(e,r,n,s)):void 0}))}));return Promise.all(i).then((function(){return s}))}(t,n.id,V(n),r.populates).then((function(e){return Object.keys(e).map((function(t){return{meta:{collection:t},payload:{data:e[t]},requesting:!1,requested:!0}}))})).catch((function(e){return console.error("Error with populate:",e,r),Promise.reject(e)}))},t.getQueryConfig=U,t.getQueryConfigs=function(e){if(Array.isArray(e))return e.map(U);if("string"===typeof e||e instanceof String)return F(e);if((0,f.default)(e))return[U(e)];throw new Error("Querie(s) must be an Array or a string.")},t.getQueryName=j,t.getSnapshotByObject=function(e){return O.get(e)},t.listenerExists=function(e,t){L(e,t);var n=j(t);return!!e._.listeners[n]},t.orderedFromSnap=B,t.queryStrToObj=F,t.snapshotCache=void 0;var i=y(n(8121)),o=y(n(4485)),a=y(n(6181)),s=y(n(2034)),c=y(n(7805)),u=y(n(6514)),l=y(n(3464)),h=y(n(6364)),d=y(n(298)),f=y(n(8092)),p=n(9124),m=["path","collection","collectionGroup","id","doc","subcollections","storeAs"],g=["path","collection","collectionGroup","subcollections"];function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(e){if(Array.isArray(e))return e}(e)||T(e)||x(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(e){if(Array.isArray(e))return I(e)}(e)||T(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=new WeakMap;function C(e,t){if(!Array.isArray(t))throw new Error("where parameter must be an array.");return Array.isArray(t[0])?t.reduce((function(e,t){return C(e,t)}),e):e.where.apply(e,E(t))}function k(e,t){if(!Array.isArray(t)&&!("string"===typeof t||t instanceof String))throw new Error("orderBy parameter must be an array or string.");return"string"===typeof t||t instanceof String?e.orderBy(t):"string"===typeof t[0]||t[0]instanceof String?e.orderBy.apply(e,E(t)):t.reduce((function(e,t){return k(e,t)}),e)}function A(e){return[].concat(e)}function P(e,t){return Array.isArray(t)&&t.forEach((function(t){if(t.collection){if("function"!==typeof e.collection)throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(t.collection,'" contains a doc parameter.'));e=e.collection(t.collection)}var n,r,i,o;(t.id&&(e=e.doc(t.id)),t.doc&&(e=e.doc(t.doc)),t.where&&(e=C(e,t.where)),t.orderBy&&(e=k(e,t.orderBy)),t.limit&&(e=e.limit(t.limit)),t.startAt)&&(e=(n=e).startAt.apply(n,E(A(t.startAt))));t.startAfter&&(e=(r=e).startAfter.apply(r,E(A(t.startAfter))));t.endAt&&(e=(i=e).endAt.apply(i,E(A(t.endAt))));t.endBefore&&(e=(o=e).endBefore.apply(o,E(A(t.endBefore))));e=P(e,t.subcollections)})),e}function R(e,t){var n,r,i,o;if(!e.firestore)throw new Error("Firestore must be required and initalized.");var a=t.path,s=t.collection,c=t.collectionGroup,u=t.id,l=t.doc,h=t.subcollections,d=t.where,f=t.orderBy,p=t.limit,m=t.startAt,g=t.startAfter,y=t.endAt,v=t.endBefore,b=e.firestore();if(s&&c)throw new Error("Reference cannot contain both Collection and CollectionGroup.");var w=(e&&e._&&e._.config||{}).globalDataConvertor;return(a||s)&&(b=b.collection(a||s)),c&&(b=b.collectionGroup(c)),(u||l)&&(b=b.doc(u||l)),b=P(b,h),d&&(b=C(b,d)),f&&(b=k(b,f)),p&&(b=b.limit(p)),m&&(b=(n=b).startAt.apply(n,E(A(m)))),g&&(b=(r=b).startAfter.apply(r,E(A(g)))),y&&(b=(i=b).endAt.apply(i,E(A(y)))),v&&(b=(o=b).endBefore.apply(o,E(A(v)))),w&&(b=b.withConverter(w)),b}function D(e,t){return"string"===typeof t||t instanceof String||(0,d.default)(t)?"".concat(e,"=").concat(t):"string"===typeof t[0]||t[0]instanceof String?"".concat(e,"=").concat(t.join(":")):t&&"function"===typeof t.toString?"".concat(e,"=").concat(t.toString()):t.map((function(t){return D(e,t)}))}function N(e){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce((function(t,n){return e[n]?_(_({},t),{},S({},n,e[n])):t}),{})}function M(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return D(t,e[t])})).join("&")}function j(e){if("string"===typeof e||e instanceof String)return e;var t=e.path,n=e.collection,r=e.collectionGroup,i=e.id,o=e.doc,a=e.subcollections,s=e.storeAs,c=b(e,m);if(!t&&!n&&!r)throw new Error("Collection or Collection Group is required to build query name");if(s)return s;var u=t||n||r;if((i||o)&&(u=u.concat("/".concat(i||o))),(t||n)&&a){console.error('Queries with subcollections must use "storeAs" to prevent invalid store updates. This closley matches the upcoming major release (v1), which stores subcollections at the top level by default.');var l=a.map((function(e){return j(e)}));u="".concat(u,"/").concat(l.join("/"))}var d=N(c);if(!(0,h.default)(d)){if(d.where&&!Array.isArray(d.where))throw new Error("where parameter must be an array.");u=u.concat("?",M(d))}return u}function L(e,t){if(!t)throw new Error("Meta data is required to attach listener.");if(!e||!e._||!e._.listeners)throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function F(e,t){var n=v(t||(0,l.default)(e,["/"]).split("/")),r=n[0],i=n[1],o=n.slice(2),a={};return r&&(a.collection=r),i&&(a.doc=i),o.length&&(a.subcollections=[F("",o)]),a}function U(e){if("string"===typeof e||e instanceof String)return F(e);if((0,f.default)(e)){if(!e.collection&&!e.collectionGroup&&!e.doc)throw new Error("Collection, Collection Group and/or Doc are required parameters within query definition object.");return e}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function B(e){var t=[];if(e.data&&e.exists){var n=e.id,r=e.ref.parent.path,i=(0,f.default)(e.data())?_(_({},e.data()||e.data),{},{id:n,path:r}):{id:n,path:r,data:e.data()};O.set(i,e),t.push(i)}else e.forEach&&e.forEach((function(e){var n=e.id,r=e.ref.parent.path,i=(0,f.default)(e.data())?_(_({},e.data()||e.data),{},{id:n,path:r}):{id:n,path:r,data:e.data()};O.set(i,e),t.push(i)}));return O.set(t,e),t}function V(e){var t={};if(e.data){var n=e.exists?e.data():null;n?(O.set(n,e),t[e.id]=_(_({},n),{},{id:e.id,path:e.ref.parent.path})):t[e.id]=null}else e.forEach&&e.forEach((function(e){var n=e.data()||e;O.set(n,e),t[e.id]=_(_({},n),{},{id:e.id,path:e.ref.parent.path})}));return t&&Object.keys(t).length?(O.set(t,e),t):null}function z(e,t,n){return R(e,{collection:t.root,doc:n}).get().then((function(e){return _({id:n},e.data())}))}function q(e,t,n,r){return r[n.root]||(0,o.default)(r,n.root,{}),Promise.all((0,s.default)(t,(function(t,i){var a=!0===t||n.populateByKey?i:t;return z(e,n,a).then((function(e){return e?(0,o.default)(r,"".concat(n.root,".").concat(a),e):r}))})))}function W(e){return Array.isArray(e)?e.map((function(e){return(0,f.default)(e)?e:function(e){if("string"===typeof e||e instanceof String)return e;var t=e.split(":");return{child:t[0],root:t[1]}}(e)})):e}t.snapshotCache=O;var G={added:p.actionTypes.DOCUMENT_ADDED,removed:p.actionTypes.DOCUMENT_REMOVED,modified:p.actionTypes.DOCUMENT_MODIFIED}},2139:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce((function(r,i){return r[i]=e[i](t[i],n),r}),{})}},t.createReducer=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}},t.getDotStrPath=function(e){return m(e).join(".")},t.getSlashStrPath=function(e){return(0,o.default)((0,a.default)(e,/[.]/g,"/"),"/")},t.pathFromMeta=function e(t){if(!t)throw new Error("Action meta is required to build path for reducers.");var n=t.collection,r=t.collectionGroup,o=t.doc,a=t.subcollections,s=t.storeAs;if(s)return o?[s,o]:[s];if(t.path)return t.path.split("/");if(!n&&!r)throw new Error("Collection or Collection Group is required to construct reducer path.");var c=[n||r];o&&(c=[].concat(f(c),[o]));if(!a)return c;var u=a.map(e);return[].concat(f(c),f((0,i.default)(u)))},t.pathToArr=m,t.preserveValuesFromState=function(e,t,n){if((0,c.default)(t))return n?h(h({},e),n):e;if("function"===typeof t)return t(e,n);if(Array.isArray(t))return(0,s.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")},t.updateItemInArray=function(e,t,n){var r=!1,i=Array.isArray(e)?e.map((function(e){return e&&e.id===t?(r=!0,n(e)):e})):[];r||i.push(n({id:t}));return i};var i=u(n(5506)),o=u(n(5553)),a=u(n(5256)),s=u(n(6460)),c=u(n(5127));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return e?e.split(/\//).filter((function(e){return!!e})):[]}},6229:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[Z]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===te}(e)||Array.isArray(e)||!!e[J]||!!e.constructor[J]||f(e)||p(e))}function a(e){return i(e)||r(23,e),e[Z].t}function s(e,t,n){void 0===n&&(n=!1),0===c(e)?(n?Object.keys:ne)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function c(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function u(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===c(e)?e.get(t):e[t]}function h(e,t,n){var r=c(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return Q&&e instanceof Map}function p(e){return Y&&e instanceof Set}function m(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=re(e);delete t[Z];for(var n=ne(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y(e,t){return void 0===t&&(t=!1),b(e)||i(e)||!o(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,(function(e,t){return y(t,!0)}),!0)),e}function v(){r(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=ie[e];return t||r(18,e),t}function _(e,t){ie[e]||(ie[e]=t)}function S(){return H}function E(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){T(e),e.p.forEach(O),e.p=null}function T(e){e===H&&(H=e.l)}function I(e){return H={p:[],l:H,h:e,m:!0,_:0}}function O(e){var t=e[Z];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||w("ES5").S(t,e,i),i?(n[Z].P&&(x(t),r(4)),o(e)&&(e=k(t,e),t.l||P(t,e)),t.u&&w("Patches").M(n[Z].t,e,t.u,t.s)):e=k(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==$?e:void 0}function k(e,t,n){if(b(t))return t;var r=t[Z];if(!r)return s(t,(function(i,o){return A(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return P(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o;s(3===r.i?new Set(i):i,(function(t,o){return A(e,r,i,t,o,n)})),P(e,i,!1),n&&e.u&&w("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,a,s){if(i(a)){var c=k(e,a,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(h(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!b(a)){if(!e.h.F&&e._<1)return;k(e,a),t&&t.A.l||P(e,a)}}function P(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&y(t,n)}function R(e,t){var n=e[Z];return(n?m(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function M(e){e.o||(e.o=g(e.t))}function j(e,t,n){var r=f(t)?w("MapSet").N(t,n):p(t)?w("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:S(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=oe;n&&(i=[r],o=ae);var a=Proxy.revocable(i,o),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):w("ES5").J(t,n);return(n?n.A:S()).p.push(r),r}function L(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[Z],i=c(t);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=F(t,i),r.I=!1}else n=F(t,i);return s(n,(function(t,i){r&&l(r.t,t)===i||h(n,t,e(i))})),3===i?new Set(n):n}(e)}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function U(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Z];return oe.get(t,e)},set:function(t){var n=this[Z];oe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Z];if(!i.P)switch(i.i){case 5:r(i)&&N(i);break;case 4:n(i)&&N(i)}}}function n(e){for(var t=e.t,n=e.k,r=ne(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Z){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=n[o],c=s&&s[Z];if(c?c.t!==a:!d(s,a))return!0}}var l=!!t[Z];return r.length!==ne(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};_("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=re(n);delete o[Z];for(var a=ne(o),s=0;s<a.length;s++){var c=a[s];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:S(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Z,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[Z].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Z];if(n){var i=n.t,o=n.k,a=n.D,c=n.i;if(4===c)s(o,(function(t){t!==Z&&(void 0!==i[t]||u(i,t)?a[t]||e(o[t]):(a[t]=!0,N(n)))})),s(i,(function(e){void 0!==o[e]||u(o,e)||(a[e]=!1,N(n))}));else if(5===c){if(r(n)&&(N(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var h=i.length;h<o.length;h++)a[h]=!0;for(var d=Math.min(o.length,i.length),f=0;f<d;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}function B(){function e(t){if(!o(t))return t;if(Array.isArray(t))return t.map(e);if(f(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(p(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return u(t,J)&&(n[J]=t[J]),n}function t(t){return i(t)?e(t):t}var n="add";_("Patches",{$:function(t,i){return i.forEach((function(i){for(var o=i.path,a=i.op,s=t,u=0;u<o.length-1;u++){var h=c(s),d=""+o[u];0!==h&&1!==h||"__proto__"!==d&&"constructor"!==d||r(24),"function"==typeof s&&"prototype"===d&&r(24),"object"!=typeof(s=l(s,d))&&r(15,o.join("/"))}var f=c(s),p=e(i.value),m=o[o.length-1];switch(a){case"replace":switch(f){case 2:return s.set(m,p);case 3:r(16);default:return s[m]=p}case n:switch(f){case 1:return"-"===m?s.push(p):s.splice(m,0,p);case 2:return s.set(m,p);case 3:return s.add(p);default:return s[m]=p}case"remove":switch(f){case 1:return s.splice(m,1);case 2:return s.delete(m);case 3:return s.delete(i.value);default:return delete s[m]}default:r(17,a)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,c=e.o;s(e.D,(function(e,s){var h=l(a,e),d=l(c,e),f=s?u(a,e)?"replace":n:"remove";if(h!==d||"replace"!==f){var p=r.concat(e);i.push("remove"===f?{op:f,path:p}:{op:f,path:p,value:d}),o.push(f===n?{op:"remove",path:p}:"remove"===f?{op:n,path:p,value:t(h)}:{op:"replace",path:p,value:t(h)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,s=e.D,c=e.o;if(c.length<a.length){var u=[c,a];a=u[0],c=u[1];var l=[o,i];i=l[0],o=l[1]}for(var h=0;h<a.length;h++)if(s[h]&&c[h]!==a[h]){var d=r.concat([h]);i.push({op:"replace",path:d,value:t(c[h])}),o.push({op:"replace",path:d,value:t(a[h])})}for(var f=a.length;f<c.length;f++){var p=r.concat([f]);i.push({op:n,path:p,value:t(c[f])})}a.length<c.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===$?void 0:t}),r.push({op:"replace",path:[],value:e})}})}function V(){function e(e,t){function n(){this.constructor=e}a(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var n=j(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function i(e){e.O&&r(3,JSON.stringify(m(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){function n(e,t){return this[Z]={i:2,l:t,A:t?t.A:S(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return m(this[Z]).size}}),r.has=function(e){return m(this[Z]).has(e)},r.set=function(e,n){var r=this[Z];return i(r),m(r).has(e)&&m(r).get(e)===n||(t(r),N(r),r.D.set(e,!0),r.o.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[Z];return i(n),t(n),N(n),n.t.has(e)?n.D.set(e,!1):n.D.delete(e),n.o.delete(e),!0},r.clear=function(){var e=this[Z];i(e),m(e).size&&(t(e),N(e),e.D=new Map,s(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},r.forEach=function(e,t){var n=this;m(this[Z]).forEach((function(r,i){e.call(t,n.get(i),i,n)}))},r.get=function(e){var n=this[Z];i(n);var r=m(n).get(e);if(n.I||!o(r))return r;if(r!==n.t.get(e))return r;var a=j(n.A.h,r,n);return t(n),n.o.set(e,a),a},r.keys=function(){return m(this[Z]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[ee]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[ee]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[ee]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[Z]={i:3,l:t,A:t?t.A:S(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return m(this[Z]).size}}),r.has=function(e){var t=this[Z];return i(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},r.add=function(e){var t=this[Z];return i(t),this.has(e)||(n(t),N(t),t.o.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[Z];return i(t),n(t),N(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},r.clear=function(){var e=this[Z];i(e),m(e).size&&(n(e),N(e),e.o.clear())},r.values=function(){var e=this[Z];return i(e),n(e),e.o.values()},r.entries=function(){var e=this[Z];return i(e),n(e),e.o.entries()},r.keys=function(){return this.values()},r[ee]=function(){return this.values()},r.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();_("MapSet",{N:function(e,t){return new c(e,t)},T:function(e,t){return new u(e,t)}})}function z(){U(),V(),B()}function q(e){return e}function W(e){return e}n.r(t),n.d(t,{Immer:()=>se,applyPatches:()=>fe,castDraft:()=>q,castImmutable:()=>W,createDraft:()=>pe,current:()=>L,default:()=>ge,enableAllPlugins:()=>z,enableES5:()=>U,enableMapSet:()=>V,enablePatches:()=>B,finishDraft:()=>me,freeze:()=>y,immerable:()=>J,isDraft:()=>i,isDraftable:()=>o,nothing:()=>$,original:()=>a,produce:()=>ue,produceWithPatches:()=>le,setAutoFreeze:()=>he,setUseProxies:()=>de});var G,H,K="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Q="undefined"!=typeof Map,Y="undefined"!=typeof Set,X="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=K?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),J=K?Symbol.for("immer-draftable"):"__$immer_draftable",Z=K?Symbol.for("immer-state"):"__$immer_state",ee="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",te=""+Object.prototype.constructor,ne="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,re=Object.getOwnPropertyDescriptors||function(e){var t={};return ne(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ie={},oe={get:function(e,t){if(t===Z)return e;var n=m(e);if(!u(n,t))return function(e,t,n){var r,i=D(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===R(e.t,t)?(M(e),e.o[t]=j(e.A.h,r,e)):r},has:function(e,t){return t in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,t,n){var r=D(m(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=R(m(e),t),o=null==i?void 0:i[Z];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||u(e.t,t)))return!0;M(e),N(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.D[t]=!1,M(e),N(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=m(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},ae={};s(oe,(function(e,t){ae[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ae.deleteProperty=function(e,t){return ae.set.call(this,e,t,void 0)},ae.set=function(e,t,n){return oe.set.call(this,e[0],t,n,e[0])};var se=function(){function e(e){var t=this;this.g=X,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var c;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var u=I(t),l=j(t,e,void 0),h=!0;try{c=n(l),h=!1}finally{h?x(u):T(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return E(u,i),C(e,u)}),(function(e){throw x(u),e})):(E(u,i),C(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===$&&(c=void 0),t.F&&y(c,!0),i){var d=[],f=[];w("Patches").M(e,c,d,f),i(d,f)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=L(e));var t=I(this),n=j(this,e,void 0);return n[Z].C=!0,T(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return E(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!X&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=w("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ce=new se,ue=ce.produce,le=ce.produceWithPatches.bind(ce),he=ce.setAutoFreeze.bind(ce),de=ce.setUseProxies.bind(ce),fe=ce.applyPatches.bind(ce),pe=ce.createDraft.bind(ce),me=ce.finishDraft.bind(ce);const ge=ue},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,D(S);else{var t=r(l);null!==t&&N(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var o=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!k());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var c=!0;else{var h=r(l);null!==h&&N(_,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,T=null,I=-1,O=5,C=-1;function k(){return!(t.unstable_now()-C<O)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(x=!1,T=null)}}else x=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){y(A,0)};function D(e){T=e,x||(x=!0,E())}function N(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(g?(v(I),I=-1):g=!0,N(_,o-a))):(e.sortIndex=s,n(u,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>y,openDB:()=>g,unwrap:()=>m,wrap:()=>p});const r=(e,t)=>t.some((t=>e instanceof t));let i,o;const a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(m(this),t,...r);return c.set(o,t.sort?t.sort():[t]),p(o)}}function f(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));s.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const m=e=>l.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=p(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}function y(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),p(n).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return w.set(t,o),o}h=(e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)}))(h)},5971:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>N,__assign:()=>o,__asyncDelegator:()=>T,__asyncGenerator:()=>x,__asyncValues:()=>I,__await:()=>E,__awaiter:()=>p,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>D,__classPrivateFieldSet:()=>R,__createBinding:()=>g,__decorate:()=>s,__disposeResources:()=>j,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>A,__importStar:()=>k,__makeTemplateObject:()=>O,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>b,__rest:()=>a,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>w,__spreadArray:()=>S,__spreadArrays:()=>_,__values:()=>v,default:()=>L});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var g=(0,n[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(s=a(g.get))&&(h.get=s),(s=a(g.set))&&(h.set=s),(s=a(g.init))&&i.unshift(s)}else(s=a(g))&&("field"===c?i.unshift(s):h[u]=s)}l&&Object.defineProperty(l,r.name,h),d=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"===typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function I(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&g(t,e,n);return C(t,e),t}function A(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function R(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function D(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function N(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(o){t(o)}}if(e.hasError)throw e.error}()}const L={__extends:i,__assign:o,__rest:a,__decorate:s,__param:c,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:y,__values:v,__read:b,__spread:w,__spreadArrays:_,__spreadArray:S,__await:E,__asyncGenerator:x,__asyncDelegator:T,__asyncValues:I,__makeTemplateObject:O,__importStar:k,__importDefault:A,__classPrivateFieldGet:P,__classPrivateFieldSet:R,__classPrivateFieldIn:D,__addDisposableResource:N,__disposeResources:j}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>qe,SDK_VERSION:()=>Qt,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Ft,_clearComponents:()=>Gt,_components:()=>Ut,_getProvider:()=>qt,_registerComponent:()=>zt,_removeServiceInstance:()=>Wt,deleteApp:()=>Jt,getApp:()=>Xt,getApps:()=>$t,initializeApp:()=>Yt,onLog:()=>en,registerVersion:()=>Zt,setLogLevel:()=>tn});var t={};n.r(t),n.d(t,{scaleBand:()=>W4,scaleDiverging:()=>F8,scaleDivergingLog:()=>U8,scaleDivergingPow:()=>V8,scaleDivergingSqrt:()=>z8,scaleDivergingSymlog:()=>B8,scaleIdentity:()=>R5,scaleImplicit:()=>z4,scaleLinear:()=>P5,scaleLog:()=>V5,scaleOrdinal:()=>q4,scalePoint:()=>H4,scalePow:()=>X5,scaleQuantile:()=>c6,scaleQuantize:()=>u6,scaleRadial:()=>Z5,scaleSequential:()=>P8,scaleSequentialLog:()=>R8,scaleSequentialPow:()=>N8,scaleSequentialQuantile:()=>j8,scaleSequentialSqrt:()=>M8,scaleSequentialSymlog:()=>D8,scaleSqrt:()=>$5,scaleSymlog:()=>G5,scaleThreshold:()=>l6,scaleTime:()=>O8,scaleUtc:()=>C8,tickFormat:()=>k5});var r=n(2791),i=n.t(r,2),o=n(4164),a=n.t(o,2);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var f="function"===typeof Symbol&&Symbol.observable||"@@observable",p=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+p(),REPLACE:"@@redux/REPLACE"+p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+p()}};function g(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(d(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(d(1));return n(y)(e,t)}if("function"!==typeof e)throw new Error(d(2));var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(d(3));return o}function h(e){if("function"!==typeof e)throw new Error(d(4));if(c)throw new Error(d(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(d(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!g(e))throw new Error(d(7));if("undefined"===typeof e.type)throw new Error(d(8));if(c)throw new Error(d(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:m.INIT}),(r={dispatch:p,subscribe:h,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(d(10));i=e,p({type:m.REPLACE})}})[f]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(d(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[f]=function(){return this},e},r}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var b=r.createContext(null);var w=function(e){e()},_=function(){return w};var S={notify:function(){},get:function(){return[]}};function E(e,t){var n,r=S;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=_(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=S)},getListeners:function(){return r}};return a}var x="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const T=function(e){var t=e.store,n=e.context,i=e.children,o=(0,r.useMemo)((function(){var e=E(t);return{store:t,subscription:e}}),[t]),a=(0,r.useMemo)((function(){return t.getState()}),[t]);x((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=n||b;return r.createElement(s.Provider,{value:o},i)};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var C=n(2110),k=n.n(C),A=n(6900),P=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],R=["reactReduxForwardedRef"],D=[],N=[null,null];function M(e,t){var n=e[1];return[t.payload,n+1]}function j(e,t,n){x((function(){return e.apply(void 0,t)}),n)}function L(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function F(e,t,n,r,i,o,a,s,c,u){if(e){var l=!1,h=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(f){n=f,h=f}n||(h=null),e===o.current?a.current||c():(o.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var U=function(){return[null,0]};function B(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=n.methodName,s=void 0===a?"connectAdvanced":a,c=n.renderCountProp,u=void 0===c?void 0:c,l=n.shouldHandleStateChanges,h=void 0===l||l,d=n.storeKey,f=void 0===d?"store":d,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,y=void 0===g?b:g,v=O(n,P),w=y;return function(t){var n=t.displayName||t.name||"Component",i=o(n),a=I({},v,{getDisplayName:o,methodName:s,renderCountProp:u,shouldHandleStateChanges:h,storeKey:f,displayName:i,wrappedComponentName:n,WrappedComponent:t}),c=v.pure;var l=c?r.useMemo:function(e){return e()};function d(n){var i=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=O(n,R);return[n.context,e,t]}),[n]),o=i[0],s=i[1],c=i[2],u=(0,r.useMemo)((function(){return o&&o.Consumer&&(0,A.isContextConsumer)(r.createElement(o.Consumer,null))?o:w}),[o,w]),d=(0,r.useContext)(u),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var p=f?n.store:d.store,m=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(p)}),[p]),g=(0,r.useMemo)((function(){if(!h)return N;var e=E(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,d]),y=g[0],v=g[1],b=(0,r.useMemo)((function(){return f?d:I({},d,{subscription:y})}),[f,d,y]),_=(0,r.useReducer)(M,D,U),S=_[0][0],x=_[1];if(S&&S.error)throw S.error;var T=(0,r.useRef)(),C=(0,r.useRef)(c),k=(0,r.useRef)(),P=(0,r.useRef)(!1),B=l((function(){return k.current&&c===C.current?k.current:m(p.getState(),c)}),[p,S,c]);j(L,[C,T,P,c,B,k,v]),j(F,[h,p,y,m,C,T,P,k,v,x],[p,y,m]);var V=(0,r.useMemo)((function(){return r.createElement(t,I({},B,{ref:s}))}),[s,t,B]);return(0,r.useMemo)((function(){return h?r.createElement(u.Provider,{value:b},V):V}),[u,V,b])}var p=c?r.memo(d):d;if(p.WrappedComponent=t,p.displayName=d.displayName=i,m){var g=r.forwardRef((function(e,t){return r.createElement(p,I({},e,{reactReduxForwardedRef:t}))}));return g.displayName=i,g.WrappedComponent=t,k()(g,t)}return k()(p,t)}}function V(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function z(e,t){if(V(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!V(e[n[i]],t[n[i]]))return!1;return!0}function q(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function W(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function G(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=W(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=W(i),i=r(t,n)),i},r}}const H=[function(e){return"function"===typeof e?G(e):void 0},function(e){return e?void 0:q((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?q((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const K=[function(e){return"function"===typeof e?G(e):void 0},function(e){return e?void 0:q((function(){return{}}))}];function Q(e,t,n){return I({},n,e,t)}const Y=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?i&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Q}}];var X=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function $(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function J(e,t,n,r,i){var o,a,s,c,u,l=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,f=!1;function p(i,f){var p=!h(f,a),m=!l(i,o,f,a);return o=i,a=f,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):m?function(){var t=e(o,a),r=!d(t,s);return s=t,r&&(u=n(s,c,a)),u}():u}return function(i,l){return f?p(i,l):(s=e(o=i,a=l),c=t(r,a),u=n(s,c,a),f=!0,u)}}function Z(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=O(t,X),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?J:$)(a,s,c,e,o)}var ee=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function te(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ne(e,t){return e===t}function re(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?B:n,i=t.mapStateToPropsFactories,o=void 0===i?K:i,a=t.mapDispatchToPropsFactories,s=void 0===a?H:a,c=t.mergePropsFactories,u=void 0===c?Y:c,l=t.selectorFactory,h=void 0===l?Z:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,c=a.pure,l=void 0===c||c,d=a.areStatesEqual,f=void 0===d?ne:d,p=a.areOwnPropsEqual,m=void 0===p?z:p,g=a.areStatePropsEqual,y=void 0===g?z:g,v=a.areMergedPropsEqual,b=void 0===v?z:v,w=O(a,ee),_=te(e,o,"mapStateToProps"),S=te(t,s,"mapDispatchToProps"),E=te(n,u,"mergeProps");return r(h,I({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:E,pure:l,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:b},w))}}const ie=re();function oe(){return(0,r.useContext)(b)}var ae=function(e,t){return e===t};function se(e){void 0===e&&(e=b);var t=e===b?oe:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=ae);var i=t(),o=function(e,t,n,i){var o,a=(0,r.useReducer)((function(e){return e+1}),0),s=a[1],c=(0,r.useMemo)((function(){return E(n,i)}),[n,i]),u=(0,r.useRef)(),l=(0,r.useRef)(),h=(0,r.useRef)(),d=(0,r.useRef)(),f=n.getState();try{if(e!==l.current||f!==h.current||u.current){var p=e(f);o=void 0!==d.current&&t(p,d.current)?d.current:p}else o=d.current}catch(m){throw u.current&&(m.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),m}return x((function(){l.current=e,h.current=f,d.current=o,u.current=void 0})),x((function(){function e(){try{var e=n.getState();if(e===h.current)return;var r=l.current(e);if(t(r,d.current))return;d.current=r,h.current=e}catch(m){u.current=m}s()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[n,c]),o}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(o),o}}var ce,ue=se();ce=o.unstable_batchedUpdates,w=ce;var le=n(4419),he=n(3366);const de={error:null},fe={id:null},pe=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:m.INIT}))throw new Error(d(12));if("undefined"===typeof n(void 0,{type:m.PROBE_UNKNOWN_ACTION()}))throw new Error(d(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],h=u(l,t);if("undefined"===typeof h){t&&t.type;throw new Error(d(14))}i[c]=h,r=r||h!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNINUSER_SUCCESS":return console.log("signin success"),{...e,error:null};case"SIGNINUSER_ERROR":return console.log("signin error"),{...e,error:t.err.message};case"SIGNUPUSER_SUCCESS":return console.log("signup success"),{...e,error:null};case"SIGNUPUSER_ERROR":return console.log("signup error"),{...e,error:t.err.message};case"SIGNOUTUSER_SUCCESS":return console.log("signout success"),e;case"UPDATEPROFILE_SUCCESS":return console.log(t.data),e;case"UPDATEPROFILE_ERROR":return console.log(t.err),e;default:return e}},devices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATEDEVICE_SUCCESS":case"UPDATEDEVICE_SUCCESS":return console.log(t.data),e;case"CREATEDEVICE_ERROR":case"UPDATEDEVICE_ERROR":case"REMOVEDEVICE_ERROR":case"REMOVEDATA_ERROR":case"RESETDATA_ERROR":return console.log(t.err),e;case"REMOVEDEVICE_SUCCESS":return console.log(t.id),e;case"REMOVEDATA_SUCCESS":case"RESETDATA_SUCCESS":return console.log(t.key),e;default:return e}},firebase:le.firebaseReducer,firestore:he.b_}),me=pe,ge=!1,ye=!1,ve="${JSCORE_VERSION}",be=function(e,t){if(!e)throw we(t)},we=function(e){return new Error("Firebase Database ("+ve+") INTERNAL ASSERT FAILED: "+e)},_e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,u=t>>2,l=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ee;const c=t<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(e){const t=_e(e);return Se.encodeByteArray(t,!0)},Te=function(e){return xe(e).replace(/\./g,"")},Ie=function(e){try{return Se.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Oe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Oe(e[n],t[n]));return e}const Ce=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ke=()=>{try{return Ce()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ie(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ae=()=>{var e;return null===(e=ke())||void 0===e?void 0:e.config};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Re(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(o)),""].join(".")}function De(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Me(){var e;const t=null===(e=ke())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function je(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Le(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fe(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ue(){return!0===ge||!0===ye}function Be(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Ve(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(v_){t(v_)}}))}function ze(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class qe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ge,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qe(n,o,t)}}const Ge=/\{\$([^}]+)}/g;function He(e){return JSON.parse(e)}function Ke(e){return JSON.stringify(e)}const Qe=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=He(Ie(o[0])||""),n=He(Ie(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Je(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ze(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(et(n)&&et(o)){if(!Ze(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function et(e){return null!==e&&"object"===typeof e}function tt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function rt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class it{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let l=0;l<16;l++)n[l]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let l=0;l<16;l++)n[l]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let l=16;l<80;l++){const e=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let l=0;l<80;l++){l<40?l<20?(r=c^a&(s^c),i=1518500249):(r=a^s^c,i=1859775393):l<60?(r=a&s|c&(a|s),i=2400959708):(r=a^s^c,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[l]&4294967295;u=c,c=s,s=4294967295&(a<<30|a>>>2),a=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function ot(e,t){const n=new at(e,t);return n.subscribe.bind(n)}class at{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=st),void 0===r.error&&(r.error=st),void 0===r.complete&&(r.complete=st);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function st(){}const ct=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function ut(e,t){return"".concat(e," failed: ").concat(t," argument ")}function lt(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ut(e,t)+"must be a valid function.")}function ht(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ut(e,t)+"must be a valid context object.")}const dt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ft=1e3,pt=2,mt=144e5,gt=.5;function yt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft)*Math.pow(t,e),r=Math.round(gt*n*(Math.random()-.5)*2);return Math.min(mt,n+r)}function vt(e){return e&&e._delegate?e._delegate:e}class bt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wt="[DEFAULT]";class _t{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(ov){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:St(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(ov){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.component?this.component.multipleInstances?e:wt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function St(e){return e===wt?void 0:e}class Et{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _t(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const xt=[];var Tt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tt||(Tt={}));const It={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},Ot=Tt.INFO,Ct={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},kt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ct[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class At{constructor(e){this.name=e,this._logLevel=Ot,this._logHandler=kt,this._userLogHandler=null,xt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?It[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...t),this._logHandler(this,Tt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...t),this._logHandler(this,Tt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...t),this._logHandler(this,Tt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...t),this._logHandler(this,Tt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...t),this._logHandler(this,Tt.ERROR,...t)}}var Pt=n(9073);class Rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Dt="@firebase/app",Nt="0.9.13",Mt=new At("@firebase/app"),jt="[DEFAULT]",Lt={[Dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Ut=new Map;function Bt(e,t){try{e.container.addComponent(t)}catch(n){Mt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vt(e,t){e.container.addOrOverwriteComponent(t)}function zt(e){const t=e.name;if(Ut.has(t))return Mt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ut.set(t,e);for(const n of Ft.values())Bt(n,e);return!0}function qt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jt;qt(e,t).clearInstance(n)}function Gt(){Ut.clear()}const Ht=new We("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const Qt="9.23.0";function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:jt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ht.create("bad-app-name",{appName:String(i)});if(n||(n=Ae()),!n)throw Ht.create("no-options");const o=Ft.get(i);if(o){if(Ze(n,o.options)&&Ze(r,o.config))return o;throw Ht.create("duplicate-app",{appName:i})}const a=new Et(i);for(const c of Ut.values())a.addComponent(c);const s=new Kt(n,r,a);return Ft.set(i,s),s}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;const t=Ft.get(e);if(!t&&e===jt&&Ae())return Yt();if(!t)throw Ht.create("no-app",{appName:e});return t}function $t(){return Array.from(Ft.values())}async function Jt(e){const t=e.name;Ft.has(t)&&(Ft.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Zt(e,t,n){var r;let i=null!==(r=Lt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mt.warn(e.join(" "))}zt(new bt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function en(e,t){if(null!==e&&"function"!==typeof e)throw Ht.create("invalid-log-argument");!function(e,t){for(const n of xt){let r=null;t&&t.level&&(r=It[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Tt[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function tn(e){var t;t=e,xt.forEach((e=>{e.setLogLevel(t)}))}const nn="firebase-heartbeat-database",rn=1,on="firebase-heartbeat-store";let an=null;function sn(){return an||(an=(0,Pt.openDB)(nn,rn,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(on)}}).catch((e=>{throw Ht.create("idb-open",{originalErrorMessage:e.message})}))),an}async function cn(e,t){try{const n=(await sn()).transaction(on,"readwrite"),r=n.objectStore(on);await r.put(t,un(e)),await n.done}catch(n){if(n instanceof qe)Mt.warn(n.message);else{const e=Ht.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Mt.warn(e.message)}}}function un(e){return"".concat(e.name,"!").concat(e.options.appId)}class ln{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=hn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=hn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Te(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function hn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Be()&&Ve().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await sn();return await t.transaction(on).objectStore(on).get(un(e))}catch(t){if(t instanceof qe)Mt.warn(t.message);else{const e=Ht.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Mt.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fn(e){return Te(JSON.stringify({version:2,heartbeats:e})).length}var pn;pn="",zt(new bt("platform-logger",(e=>new Rt(e)),"PRIVATE")),zt(new bt("heartbeat",(e=>new ln(e)),"PRIVATE")),Zt(Dt,Nt,pn),Zt(Dt,Nt,"esm2017"),Zt("fire-js","");class mn{constructor(e,t){this._delegate=e,this.firebase=t,Bt(e,new bt("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Jt(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bt(this._delegate,e)}_addOrOverwriteComponent(e){Vt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const gn=new We("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const yn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ye(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Zt,setLogLevel:tn,onLog:en,apps:null,SDK_VERSION:Qt,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(zt(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw gn.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Oe(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ye(n,e=e||jt))throw gn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(mn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Oe(n,e)},createSubscribe:ot,ErrorFactory:We,deepExtend:Oe}),n}(),vn=new At("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bn=yn;!function(e){Zt("@firebase/app-compat","0.2.13",e)}();bn.registerVersion("firebase","9.23.0","app-compat");const wn=(e,t)=>t.some((t=>e instanceof t));let _n,Sn;const En=new WeakMap,xn=new WeakMap,Tn=new WeakMap,In=new WeakMap,On=new WeakMap;let Cn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Sn||(Sn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rn(this),n),Pn(En.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pn(e.apply(Rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Rn(this),t,...r);return Tn.set(o,t.sort?t.sort():[t]),Pn(o)}}function An(e){return"function"===typeof e?kn(e):(e instanceof IDBTransaction&&function(e){if(xn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));xn.set(e,t)}(e),wn(e,_n||(_n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Cn):e)}function Pn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Pn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&En.set(t,e)})).catch((()=>{})),On.set(t,e),t}(e);if(In.has(e))return In.get(e);const t=An(e);return t!==e&&(In.set(e,t),On.set(t,e)),t}const Rn=e=>On.get(e);const Dn=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],Mn=new Map;function jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mn.get(t))return Mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Nn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Mn.set(t,o),o}Cn=(e=>({...e,get:(t,n,r)=>jn(t,n)||e.get(t,n,r),has:(t,n)=>!!jn(t,n)||e.has(t,n)}))(Cn);const Ln="@firebase/installations",Fn="0.6.4",Un=1e4,Bn="w:".concat(Fn),Vn="FIS_v2",zn="https://firebaseinstallations.googleapis.com/v1",qn=36e5,Wn=new We("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gn(e){return e instanceof qe&&e.code.includes("request-failed")}function Hn(e){let{projectId:t}=e;return"".concat(zn,"/projects/").concat(t,"/installations")}function Kn(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Qn(e,t){const n=(await t.json()).error;return Wn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Yn(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Xn(e,t){let{refreshToken:n}=t;const r=Yn(e);return r.append("Authorization",function(e){return"".concat(Vn," ").concat(e)}(n)),r}async function $n(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Jn(e){return new Promise((t=>{setTimeout(t,e)}))}const Zn=/^[cdef][\w-]{21}$/,er="";function tr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Zn.test(t)?t:er}catch(ov){return er}}function nr(e){return"".concat(e.appName,"!").concat(e.appId)}const rr=new Map;function ir(e,t){const n=nr(e);or(n,t),function(e,t){const n=sr();n&&n.postMessage({key:e,fid:t});cr()}(n,t)}function or(e,t){const n=rr.get(e);if(n)for(const r of n)r(t)}let ar=null;function sr(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=e=>{or(e.data.key,e.data.fid)}),ar}function cr(){0===rr.size&&ar&&(ar.close(),ar=null)}const ur="firebase-installations-database",lr=1,hr="firebase-installations-store";let dr=null;function fr(){return dr||(dr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Pn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Pn(a.result),e.oldVersion,e.newVersion,Pn(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}(ur,lr,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(hr)}})),dr}async function pr(e,t){const n=nr(e),r=(await fr()).transaction(hr,"readwrite"),i=r.objectStore(hr),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||ir(e,t.fid),t}async function mr(e){const t=nr(e),n=(await fr()).transaction(hr,"readwrite");await n.objectStore(hr).delete(t),await n.done}async function gr(e,t){const n=nr(e),r=(await fr()).transaction(hr,"readwrite"),i=r.objectStore(hr),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||ir(e,a.fid),a}async function yr(e){let t;const n=await gr(e.appConfig,(n=>{const r=function(e){const t=e||{fid:tr(),registrationStatus:0};return wr(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Wn.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Hn(n),a=Yn(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const c={fid:i,authVersion:Vn,appId:n.appId,sdkVersion:Bn},u={method:"POST",headers:a,body:JSON.stringify(c)},l=await $n((()=>fetch(o,u)));if(l.ok){const e=await l.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Kn(e.authToken)}}throw await Qn("Create Installation",l)}(e,t);return pr(e.appConfig,n)}catch(n){throw Gn(n)&&409===n.customData.serverCode?await mr(e.appConfig):await pr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:vr(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===er?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function vr(e){let t=await br(e.appConfig);for(;1===t.registrationStatus;)await Jn(100),t=await br(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await yr(e);return n||t}return t}function br(e){return gr(e,(e=>{if(!e)throw Wn.create("installation-not-found");return wr(e)}))}function wr(e){return 1===(t=e).registrationStatus&&t.registrationTime+Un<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function _r(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Hn(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Xn(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:Bn,appId:n.appId}},c={method:"POST",headers:o,body:JSON.stringify(s)},u=await $n((()=>fetch(i,c)));if(u.ok){return Kn(await u.json())}throw await Qn("Generate Auth Token",u)}async function Sr(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await gr(e.appConfig,(r=>{if(!xr(r))throw Wn.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qn}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Er(e.appConfig);for(;1===n.authToken.requestStatus;)await Jn(100),n=await Er(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Sr(e,t):r}(e,n),r;{if(!navigator.onLine)throw Wn.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await _r(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await pr(e.appConfig,r),n}catch(n){if(!Gn(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pr(e.appConfig,n)}else await mr(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function Er(e){return gr(e,(e=>{if(!xr(e))throw Wn.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Un<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function xr(e){return void 0!==e&&2===e.registrationStatus}async function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await yr(e);t&&await t}(n);return(await Sr(n,t)).token}function Ir(e){return Wn.create("missing-app-config-values",{valueName:e})}const Or="installations",Cr=e=>{const t=qt(e.getProvider("app").getImmediate(),Or).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await yr(t);return r?r.catch(console.error):Sr(t).catch(console.error),n.fid}(t),getToken:e=>Tr(t,e)}};zt(new bt(Or,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ir("App Configuration");if(!e.name)throw Ir("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ir(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:qt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),zt(new bt("installations-internal",Cr,"PRIVATE")),Zt(Ln,Fn),Zt(Ln,Fn,"esm2017");const kr="analytics",Ar="firebase_id",Pr="origin",Rr=6e4,Dr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nr="https://www.googletagmanager.com/gtag/js",Mr=new At("@firebase/analytics"),jr=new We("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lr(e){if(!e.startsWith(Nr)){const t=jr.create("invalid-gtag-resource",{gtagURL:e});return Mr.warn(t.message),""}return e}function Fr(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Ur(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Lr}),r=document.createElement("script"),i="".concat(Nr,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Br(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Fr(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Mr.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await Fr(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(s){Mr.error(s)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=a;e("consent","update",t)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(c){Mr.error(c)}}}const Vr=30;const zr=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function qr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zr,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw jr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jr.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Hr;return setTimeout((async()=>{s.abort()}),void 0!==n?n:Rr),Gr({appId:r,apiKey:i,measurementId:o},a,s,t)}async function Gr(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zr;var a;const{appId:s,measurementId:c}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(jr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(u){if(c)return Mr.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===u||void 0===u?void 0:u.message,"]")),{appId:s,measurementId:c};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:qr(r)},o=Dr.replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw jr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(u){const t=u;if(!function(e){if(!(e instanceof qe)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),c)return Mr.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:c};throw u}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?yt(i,o.intervalMillis,Vr):yt(i,o.intervalMillis),l={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(s,l),Mr.debug("Calling attemptFetch again in ".concat(r," millis")),Gr(e,l,n,o)}}class Hr{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Kr,Qr;function Yr(e){Qr=e}function Xr(e){Kr=e}async function $r(e,t,n,r,i,o,a){var s;const c=Wr(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Mr.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Mr.error(e))),t.push(c);const u=async function(){if(!Be())return Mr.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ve()}catch(e){return Mr.warn(jr.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[l,h]=await Promise.all([c,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Nr)&&n.src.includes(e))return n;return null})(o)||Ur(o,l.measurementId),Qr&&(i("consent","default",Qr),Yr(void 0)),i("js",new Date);const d=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return d[Pr]="firebase",d.update=!0,null!=h&&(d[Ar]=h),i("config",l.measurementId,d),Kr&&(i("set",Kr),Xr(void 0)),l.measurementId}class Jr{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},ei=[];const ti={};let ni,ri,ii="dataLayer",oi="gtag",ai=!1;function si(e){if(ai)throw jr.create("already-initialized");e.dataLayerName&&(ii=e.dataLayerName),e.gtagName&&(oi=e.gtagName)}function ci(e,t,n){!function(){const e=[];if(je()&&e.push("This is a browser extension environment."),ze()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:t});Mr.warn(n.message)}}();const r=e.options.appId;if(!r)throw jr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw jr.create("no-api-key");Mr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Zr[r])throw jr.create("already-exists",{id:r});if(!ai){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ii);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Br(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Zr,ei,ti,ii,oi);ri=e,ni=t,ai=!0}Zr[r]=$r(e,ei,ti,t,ni,ii,n);return new Jr(e)}async function ui(){if(je())return!1;if(!ze())return!1;if(!Be())return!1;try{return await Ve()}catch(v_){return!1}}function li(e,t,n){e=vt(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(ri,Zr[e.app.options.appId],t,n).catch((e=>Mr.error(e)))}function hi(e,t,n){e=vt(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(ri,Zr[e.app.options.appId],t,n).catch((e=>Mr.error(e)))}function di(e,t,n){e=vt(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(ri,Zr[e.app.options.appId],t,n).catch((e=>Mr.error(e)))}function fi(e,t){e=vt(e),async function(e,t){const n=await e;window["ga-disable-".concat(n)]=!t}(Zr[e.app.options.appId],t).catch((e=>Mr.error(e)))}function pi(e,t,n,r){e=vt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(ri,Zr[e.app.options.appId],t,n,r).catch((e=>Mr.error(e)))}const mi="@firebase/analytics",gi="0.10.0";zt(new bt(kr,((e,t)=>{let{options:n}=t;return ci(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),zt(new bt("analytics-internal",(function(e){try{const t=e.getProvider(kr).getImmediate();return{logEvent:(e,n,r)=>pi(t,e,n,r)}}catch(t){throw jr.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Zt(mi,gi),Zt(mi,gi,"esm2017");class yi{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,n){pi(this._delegate,e,t,n)}setCurrentScreen(e,t){li(this._delegate,e,t)}setUserId(e,t){hi(this._delegate,e,t)}setUserProperties(e,t){di(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){fi(this._delegate,e)}}var vi;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(vi||(vi={}));const bi=e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new yi(t,n)};!function(){const e={Analytics:yi,settings:si,isSupported:ui,EventName:vi};bn.INTERNAL.registerComponent(new bt("analytics-compat",bi,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),bn.registerVersion("@firebase/analytics-compat","0.2.6");var wi,_i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Si={},Ei=Ei||{},xi=_i||self;function Ti(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ii(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Oi="closure_uid_"+(1e9*Math.random()>>>0),Ci=0;function ki(e,t,n){return e.call.apply(e.bind,arguments)}function Ai(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pi(e,t,n){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ki:Ai).apply(null,arguments)}function Ri(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Di(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ni(){this.s=this.s,this.o=this.o}Ni.prototype.s=!1,Ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Oi)&&e[Oi]||(e[Oi]=++Ci)}(this)},Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ji(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Li(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ti(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Fi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fi.prototype.h=function(){this.defaultPrevented=!0};var Ui=function(){if(!xi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xi.addEventListener("test",(()=>{}),t),xi.removeEventListener("test",(()=>{}),t)}catch(hee){}return e}();function Bi(e){return/^[\s\xa0]*$/.test(e)}function Vi(){var e=xi.navigator;return e&&(e=e.userAgent)?e:""}function zi(e){return-1!=Vi().indexOf(e)}function qi(e){return qi[" "](e),e}qi[" "]=function(){};var Wi,Gi,Hi=zi("Opera"),Ki=zi("Trident")||zi("MSIE"),Qi=zi("Edge"),Yi=Qi||Ki,Xi=zi("Gecko")&&!(-1!=Vi().toLowerCase().indexOf("webkit")&&!zi("Edge"))&&!(zi("Trident")||zi("MSIE"))&&!zi("Edge"),$i=-1!=Vi().toLowerCase().indexOf("webkit")&&!zi("Edge");function Ji(){var e=xi.document;return e?e.documentMode:void 0}e:{var Zi="",eo=function(){var e=Vi();return Xi?/rv:([^\);]+)(\)|;)/.exec(e):Qi?/Edge\/([\d\.]+)/.exec(e):Ki?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$i?/WebKit\/(\S+)/.exec(e):Hi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(eo&&(Zi=eo?eo[1]:""),Ki){var to=Ji();if(null!=to&&to>parseFloat(Zi)){Wi=String(to);break e}}Wi=Zi}if(xi.document&&Ki){var no=Ji();Gi=no||(parseInt(Wi,10)||void 0)}else Gi=void 0;var ro=Gi;function io(e,t){if(Fi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xi){e:{try{qi(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&io.$.h.call(this)}}Di(io,Fi);var oo={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),so=0;function co(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++so,this.fa=this.ia=!1}function uo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function lo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ho(e){const t={};for(const n in e)t[n]=e[n];return t}const fo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function po(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<fo.length;t++)n=fo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mo(e){this.src=e,this.g={},this.h=0}function go(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Mi(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(uo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}mo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=yo(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new co(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var vo="closure_lm_"+(1e6*Math.random()|0),bo={};function wo(e,t,n,r,i){if(r&&r.once)return So(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)wo(e,t[o],n,r,i);return null}return n=ko(n),e&&e[ao]?e.O(t,n,Ii(r)?!!r.capture:!!r,i):_o(e,t,n,!1,r,i)}function _o(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ii(i)?!!i.capture:!!i,s=Oo(e);if(s||(e[vo]=s=new mo(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Io;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ui||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(To(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function So(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)So(e,t[o],n,r,i);return null}return n=ko(n),e&&e[ao]?e.P(t,n,Ii(r)?!!r.capture:!!r,i):_o(e,t,n,!0,r,i)}function Eo(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Eo(e,t[o],n,r,i);else r=Ii(r)?!!r.capture:!!r,n=ko(n),e&&e[ao]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yo(o=e.g[t],n,r,i))&&(uo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Oo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yo(t,n,r,i)),(n=-1<e?t[e]:null)&&xo(n))}function xo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ao])go(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(To(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oo(t))?(go(n,e),0==n.h&&(n.src=null,t[vo]=null)):uo(e)}}}function To(e){return e in bo?bo[e]:bo[e]="on"+e}function Io(e,t){if(e.fa)e=!0;else{t=new io(t,this);var n=e.listener,r=e.la||e.src;e.ia&&xo(e),e=n.call(r,t)}return e}function Oo(e){return(e=e[vo])instanceof mo?e:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function ko(e){return"function"===typeof e?e:(e[Co]||(e[Co]=function(t){return e.handleEvent(t)}),e[Co])}function Ao(){Ni.call(this),this.i=new mo(this),this.S=this,this.J=null}function Po(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Fi(t,e);else if(t instanceof Fi)t.target=t.target||e;else{var i=t;po(t=new Fi(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ro(a,r,!0,t)&&i}if(i=Ro(a=t.g=e,r,!0,t)&&i,i=Ro(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ro(a=t.g=n[o],r,!1,t)&&i}function Ro(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,c=a.la||a.src;a.ia&&go(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}Di(Ao,Ni),Ao.prototype[ao]=!0,Ao.prototype.removeEventListener=function(e,t,n,r){Eo(this,e,t,n,r)},Ao.prototype.N=function(){if(Ao.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uo(n[r]);delete t.g[e],t.h--}}this.J=null},Ao.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ao.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Do=xi.JSON.stringify;function No(){var e=Vo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new jo),(e=>e.reset()));class jo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Fo(e){xi.setTimeout((()=>{throw e}),0)}let Uo,Bo=!1,Vo=new class{constructor(){this.h=this.g=null}add(e,t){const n=Mo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},zo=()=>{const e=xi.Promise.resolve(void 0);Uo=()=>{e.then(qo)}};var qo=()=>{for(var e;e=No();){try{e.h.call(e.g)}catch(hee){Fo(hee)}var t=Mo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bo=!1};function Wo(e,t){Ao.call(this),this.h=e||1,this.g=t||xi,this.j=Pi(this.qb,this),this.l=Date.now()}function Go(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ho(e,t,n){if("function"===typeof e)n&&(e=Pi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pi(e.handleEvent,e)}return 2147483647<Number(t)?-1:xi.setTimeout(e,t||0)}function Ko(e){e.g=Ho((()=>{e.g=null,e.i&&(e.i=!1,Ko(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Di(Wo,Ao),(wi=Wo.prototype).ga=!1,wi.T=null,wi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Po(this,"tick"),this.ga&&(Go(this),this.start()))}},wi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wi.N=function(){Wo.$.N.call(this),Go(this),delete this.g};class Qo extends Ni{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(xi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(e){Ni.call(this),this.h=e,this.g={}}Di(Yo,Ni);var Xo=[];function $o(e,t,n,r){Array.isArray(n)||(n&&(Xo[0]=n.toString()),n=Xo);for(var i=0;i<n.length;i++){var o=wo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Jo(e){lo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xo(e)}),e),e.g={}}function Zo(){this.g=!0}function ea(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Do(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Yo.prototype.N=function(){Yo.$.N.call(this),Jo(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zo.prototype.Ea=function(){this.g=!1},Zo.prototype.info=function(){};var ta={},na=null;function ra(){return na=na||new Ao}function ia(e){Fi.call(this,ta.Ta,e)}function oa(e){const t=ra();Po(t,new ia(t))}function aa(e,t){Fi.call(this,ta.STAT_EVENT,e),this.stat=t}function sa(e){const t=ra();Po(t,new aa(t,e))}function ca(e,t){Fi.call(this,ta.Ua,e),this.size=t}function ua(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xi.setTimeout((function(){e()}),t)}ta.Ta="serverreachability",Di(ia,Fi),ta.STAT_EVENT="statevent",Di(aa,Fi),ta.Ua="timingevent",Di(ca,Fi);var la={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ha={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function da(){}function fa(e){return e.h||(e.h=e.i())}function pa(){}da.prototype.h=null;var ma,ga={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ya(){Fi.call(this,"d")}function va(){Fi.call(this,"c")}function ba(){}function wa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Yo(this),this.P=Sa,e=Yi?125:void 0,this.V=new Wo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}Di(ya,Fi),Di(va,Fi),Di(ba,da),ba.prototype.g=function(){return new XMLHttpRequest},ba.prototype.i=function(){return{}},ma=new ba;var Sa=45e3,Ea={},xa={};function Ta(e,t,n){e.L=1,e.v=Wa(Ua(t)),e.s=n,e.S=!0,Ia(e,null)}function Ia(e,t){e.G=Date.now(),Aa(e),e.A=Ua(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),rs(n.i,"t",r),e.C=0,n=e.l.J,e.h=new _a,e.g=rc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Qo(Pi(e.Pa,e,e.g),e.O)),$o(e.U,e.g,"readystatechange",e.nb),t=e.I?ho(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),oa(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Oa(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Ca(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ka(e,n),r==xa){4==t&&(e.o=4,sa(14),i=!1),ea(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ea){e.o=4,sa(15),ea(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ea(e.j,e.m,r,null),Ma(e,r)}Oa(e)&&r!=xa&&r!=Ea&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sa(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ys(t),t.M=!0,sa(11))):(ea(e.j,e.m,n,"[Invalid Chunked Response]"),Na(e),Da(e))}function ka(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xa:(n=Number(t.substring(n,r)),isNaN(n)?Ea:(r+=1)+n>t.length?xa:(t=t.slice(r,r+n),e.C=r+n,t))}function Aa(e){e.Y=Date.now()+e.P,Pa(e,e.P)}function Pa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ua(Pi(e.lb,e),t)}function Ra(e){e.B&&(xi.clearTimeout(e.B),e.B=null)}function Da(e){0==e.l.H||e.J||Js(e.l,e)}function Na(e){Ra(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Go(e.V),Jo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ma(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ls(n.i,e)))if(!e.K&&ls(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;$s(n),Vs(n)}Qs(n),sa(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ua(Pi(n.ib,n),6e3));if(1>=us(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else ec(n,11)}else if((e.K||n.g==e)&&$s(n),!Bi(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(hs(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,qa(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=nc(r,r.J?r.pa:null,r.Y),a.K){ds(r.i,a);var s=a,c=r.L;c&&s.setTimeout(c),s.B&&(Ra(s),Aa(s)),r.g=a}else Ks(r);0<n.j.length&&qs(n)}else"stop"!=u[0]&&"close"!=u[0]||ec(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ec(n,7):Bs(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}oa()}catch(u){}}function ja(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ti(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ti(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ti(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(wi=wa.prototype).setTimeout=function(e){this.P=e},wi.nb=function(e){e=e.target;const t=this.M;t&&3==Ns(e)?t.l():this.Pa(e)},wi.Pa=function(e){try{if(e==this.g)e:{const l=Ns(this.g);var t=this.g.Ia();this.g.da();if(!(3>l)&&(3!=l||Yi||this.g&&(this.h.h||this.g.ja()||Ms(this.g)))){this.J||4!=l||7==t||oa(),Ra(this);var n=this.g.da();this.ca=n;t:if(Oa(this)){var r=Ms(this.g);e="";var i=r.length,o=4==Ns(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Na(this),Da(this);var a="";break t}this.h.i=new xi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(s)){var u=s;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,sa(12),Na(this),Da(this);break e}ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,n)}this.S?(Ca(this,l,a),Yi&&this.i&&3==l&&($o(this.U,this.V,"tick",this.mb),this.V.start())):(ea(this.j,this.m,a,null),Ma(this,a)),4==l&&Na(this),this.i&&!this.J&&(4==l?Js(this.l,this):(this.i=!1,Aa(this)))}else(function(e){const t={};e=(e.g&&2<=Ns(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Bi(e[r]))continue;var n=Lo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,sa(12)):(this.o=0,sa(13)),Na(this),Da(this)}}}catch(l){}},wi.mb=function(){if(this.g){var e=Ns(this.g),t=this.g.ja();this.C<t.length&&(Ra(this),Ca(this,e,t),this.i&&4!=e&&Aa(this))}},wi.cancel=function(){this.J=!0,Na(this)},wi.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(oa(),sa(17)),Na(this),this.o=2,Da(this)):Pa(this,this.Y-e)};var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fa){this.h=e.h,Ba(this,e.j),this.s=e.s,this.g=e.g,Va(this,e.m),this.l=e.l;var t=e.i,n=new Za;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),za(this,n),this.o=e.o}else e&&(t=String(e).match(La))?(this.h=!1,Ba(this,t[1]||"",!0),this.s=Ga(t[2]||""),this.g=Ga(t[3]||"",!0),Va(this,t[4]),this.l=Ga(t[5]||"",!0),za(this,t[6]||"",!0),this.o=Ga(t[7]||"")):(this.h=!1,this.i=new Za(null,this.h))}function Ua(e){return new Fa(e)}function Ba(e,t,n){e.j=n?Ga(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Va(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function za(e,t,n){t instanceof Za?(e.i=t,function(e,t){t&&!e.j&&(es(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ts(this,t),rs(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ha(t,$a)),e.i=new Za(t,e.h))}function qa(e,t,n){e.i.set(t,n)}function Wa(e){return qa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ga(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ha(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ka),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ka(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ha(t,Qa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ha(t,Qa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ha(n,"/"==n.charAt(0)?Xa:Ya,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ha(n,Ja)),e.join("")};var Qa=/[#\/\?@]/g,Ya=/[#\?:]/g,Xa=/[#\?]/g,$a=/[#\?@]/g,Ja=/#/g;function Za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function es(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ts(e,t){es(e),t=is(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ns(e,t){return es(e),t=is(e,t),e.g.has(t)}function rs(e,t,n){ts(e,t),0<n.length&&(e.i=null,e.g.set(is(e,t),ji(n)),e.h+=n.length)}function is(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wi=Za.prototype).add=function(e,t){es(this),this.i=null,e=is(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wi.forEach=function(e,t){es(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wi.ta=function(){es(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},wi.Z=function(e){es(this);let t=[];if("string"===typeof e)ns(this,e)&&(t=t.concat(this.g.get(is(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},wi.set=function(e,t){return es(this),this.i=null,ns(this,e=is(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},wi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var os=class{constructor(e,t){this.g=e,this.map=t}};function as(e){this.l=e||ss,xi.PerformanceNavigationTiming?e=0<(e=xi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xi.g&&xi.g.Ka&&xi.g.Ka()&&xi.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ss=10;function cs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function us(e){return e.h?1:e.g?e.g.size:0}function ls(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hs(e,t){e.g?e.g.add(t):e.h=t}function ds(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ji(e.i)}as.prototype.cancel=function(){if(this.i=fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ps=class{stringify(e){return xi.JSON.stringify(e,void 0)}parse(e){return xi.JSON.parse(e,void 0)}};function ms(){this.g=new ps}function gs(e,t,n){const r=n||"";try{ja(e,(function(e,n){let i=e;Ii(e)&&(i=Do(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ys(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function vs(e){this.l=e.fc||null,this.j=e.ob||!1}function bs(e,t){Ao.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Di(vs,da),vs.prototype.g=function(){return new bs(this.l,this.j)},vs.prototype.i=function(e){return function(){return e}}({}),Di(bs,Ao);var ws=0;function _s(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ss(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Es(e)}function Es(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wi=bs.prototype).open=function(e,t){if(this.readyState!=ws)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Es(this)},wi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},wi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ss(this)),this.readyState=ws},wi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof xi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_s(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},wi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ss(this):Es(this),3==this.readyState&&_s(this)}},wi.Za=function(e){this.g&&(this.response=this.responseText=e,Ss(this))},wi.Ya=function(e){this.g&&(this.response=e,Ss(this))},wi.ka=function(){this.g&&Ss(this)},wi.setRequestHeader=function(e,t){this.v.append(e,t)},wi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xs=xi.JSON.parse;function Ts(e){Ao.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Is,this.L=this.M=!1}Di(Ts,Ao);var Is="",Os=/^https?$/i,Cs=["POST","PUT"];function ks(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,As(e),Rs(e)}function As(e){e.F||(e.F=!0,Po(e,"complete"),Po(e,"error"))}function Ps(e){if(e.h&&"undefined"!=typeof Ei&&(!e.C[1]||4!=Ns(e)||2!=e.da()))if(e.v&&4==Ns(e))Ho(e.La,0,e);else if(Po(e,"readystatechange"),4==Ns(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(La)[1]||null;!i&&xi.self&&xi.self.location&&(i=xi.self.location.protocol.slice(0,-1)),r=!Os.test(i?i.toLowerCase():"")}n=r}if(n)Po(e,"complete"),Po(e,"success");else{e.m=6;try{var o=2<Ns(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",As(e)}}finally{Rs(e)}}}function Rs(e,t){if(e.g){Ds(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Po(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ds(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xi.clearTimeout(e.A),e.A=null)}function Ns(e){return e.g?e.g.readyState:0}function Ms(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Is:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bc){return null}}function js(e){let t="";return lo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ls(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=js(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qa(e,t,n))}function Fs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Us(e){this.Ga=0,this.j=[],this.l=new Zo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fs("baseRetryDelayMs",5e3,e),this.hb=Fs("retryDelaySeedMs",1e4,e),this.eb=Fs("forwardChannelMaxRetries",2,e),this.xa=Fs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new as(e&&e.concurrentRequestLimit),this.Ja=new ms,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bs(e){if(zs(e),3==e.H){var t=e.W++,n=Ua(e.I);if(qa(n,"SID",e.K),qa(n,"RID",t),qa(n,"TYPE","terminate"),Gs(e,n),(t=new wa(e,e.l,t)).L=2,t.v=Wa(Ua(n)),n=!1,xi.navigator&&xi.navigator.sendBeacon)try{n=xi.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&xi.Image&&((new Image).src=t.v,n=!0),n||(t.g=rc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Aa(t)}tc(e)}function Vs(e){e.g&&(Ys(e),e.g.cancel(),e.g=null)}function zs(e){Vs(e),e.u&&(xi.clearTimeout(e.u),e.u=null),$s(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xi.clearTimeout(e.m),e.m=null)}function qs(e){if(!cs(e.i)&&!e.m){e.m=!0;var t=e.Na;Uo||zo(),Bo||(Uo(),Bo=!0),Vo.add(t,e),e.C=0}}function Ws(e,t){var n;n=t?t.m:e.W++;const r=Ua(e.I);qa(r,"SID",e.K),qa(r,"RID",n),qa(r,"AID",e.V),Gs(e,r),e.o&&e.s&&Ls(r,e.o,e.s),n=new wa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Hs(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),hs(e.i,n),Ta(n,r,t)}function Gs(e,t){e.na&&lo(e.na,(function(e,n){qa(t,n,e)})),e.h&&ja({},(function(e,n){qa(t,n,e)}))}function Hs(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Pi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{gs(s,e,"req"+n+"_")}catch($c){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ks(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Uo||zo(),Bo||(Uo(),Bo=!0),Vo.add(t,e),e.A=0}}function Qs(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ua(Pi(e.Ma,e),Zs(e,e.A)),e.A++,!0)}function Ys(e){null!=e.B&&(xi.clearTimeout(e.B),e.B=null)}function Xs(e){e.g=new wa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ua(e.wa);qa(t,"RID","rpc"),qa(t,"SID",e.K),qa(t,"AID",e.V),qa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&qa(t,"TO",e.qa),qa(t,"TYPE","xmlhttp"),Gs(e,t),e.o&&e.s&&Ls(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Wa(Ua(t)),n.s=null,n.S=!0,Ia(n,e)}function $s(e){null!=e.v&&(xi.clearTimeout(e.v),e.v=null)}function Js(e,t){var n=null;if(e.g==t){$s(e),Ys(e),e.g=null;var r=2}else{if(!ls(e.i,t))return;n=t.F,ds(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Po(r=ra(),new ca(r,n)),qs(e)}else Ks(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(us(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ua(Pi(e.Na,e,t),Zs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ec(e,5);break;case 4:ec(e,10);break;case 3:ec(e,6);break;default:ec(e,2)}}function Zs(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ec(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Pi(e.pb,e);n||(n=new Fa("//www.google.com/images/cleardot.gif"),xi.location&&"http"==xi.location.protocol||Ba(n,"https"),Wa(n)),function(e,t){const n=new Zo;if(xi.Image){const r=new Image;r.onload=Ri(ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ri(ys,n,r,"TestLoadImage: error",!1,t),r.onabort=Ri(ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ri(ys,n,r,"TestLoadImage: timeout",!1,t),xi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sa(2);e.H=0,e.h&&e.h.za(t),tc(e),zs(e)}function tc(e){if(e.H=0,e.ma=[],e.h){const t=fs(e.i);0==t.length&&0==e.j.length||(Li(e.ma,t),Li(e.ma,e.j),e.i.i.length=0,ji(e.j),e.j.length=0),e.h.ya()}}function nc(e,t,n){var r=n instanceof Fa?Ua(n):new Fa(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Va(r,r.m);else{var i=xi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Fa(null);r&&Ba(o,r),t&&(o.g=t),i&&Va(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&qa(r,n,t),qa(r,"VER",e.ra),Gs(e,r),r}function rc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ts(new vs({ob:!0})):new Ts(e.va)).Oa(e.J),t}function ic(){}function oc(){if(Ki&&!(10<=Number(ro)))throw Error("Environmental error: no available transport.")}function ac(e,t){Ao.call(this),this.g=new Us(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Bi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bi(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new uc(this)}function sc(e){ya.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cc(){va.call(this),this.status=1}function uc(e){this.g=e}function lc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function dc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(wi=Ts.prototype).Oa=function(e){this.M=e},wi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ma.g(),this.C=this.u?fa(this.u):fa(ma),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void ks(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=xi.FormData&&e instanceof xi.FormData,!(0<=Mi(Cs,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ds(this),0<this.B&&((this.L=function(e){return Ki&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=Ho(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){ks(this,o)}},wi.ua=function(){"undefined"!=typeof Ei&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Po(this,"timeout"),this.abort(8))},wi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Po(this,"complete"),Po(this,"abort"),Rs(this))},wi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rs(this,!0)),Ts.$.N.call(this)},wi.La=function(){this.s||(this.G||this.v||this.l?Ps(this):this.kb())},wi.kb=function(){Ps(this)},wi.isActive=function(){return!!this.g},wi.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch(pee){return-1}},wi.ja=function(){try{return this.g?this.g.responseText:""}catch(pee){return""}},wi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xs(t)}},wi.Ia=function(){return this.m},wi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wi=Us.prototype).ra=8,wi.H=1,wi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new wa(this,this.l,e);let o=this.s;if(this.U&&(o?(o=ho(o),po(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Hs(this,i,t),qa(n=Ua(this.I),"RID",e),qa(n,"CVER",22),this.F&&qa(n,"X-HTTP-Session-Id",this.F),Gs(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(js(o)))+"&"+t:this.o&&Ls(n,this.o,o)),hs(this.i,i),this.bb&&qa(n,"TYPE","init"),this.P?(qa(n,"$req",t),qa(n,"SID","null"),i.aa=!0,Ta(i,n,null)):Ta(i,n,t),this.H=2}}else 3==this.H&&(e?Ws(this,e):0==this.j.length||cs(this.i)||Ws(this))},wi.Ma=function(){if(this.u=null,Xs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ua(Pi(this.jb,this),e)}},wi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sa(10),Vs(this),Xs(this))},wi.ib=function(){null!=this.v&&(this.v=null,Vs(this),Qs(this),sa(19))},wi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),sa(2)):(this.l.info("Failed to ping google.com"),sa(1))},wi.isActive=function(){return!!this.h&&this.h.isActive(this)},(wi=ic.prototype).Ba=function(){},wi.Aa=function(){},wi.za=function(){},wi.ya=function(){},wi.isActive=function(){return!0},wi.Va=function(){},oc.prototype.g=function(e,t){return new ac(e,t)},Di(ac,Ao),ac.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;sa(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=nc(e,null,e.Y),qs(e)},ac.prototype.close=function(){Bs(this.g)},ac.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Do(e),e=n);t.j.push(new os(t.fb++,e)),3==t.H&&qs(t)},ac.prototype.N=function(){this.g.h=null,delete this.j,Bs(this.g),delete this.g,ac.$.N.call(this)},Di(sc,ya),Di(cc,va),Di(uc,ic),uc.prototype.Ba=function(){Po(this.g,"a")},uc.prototype.Aa=function(e){Po(this.g,new sc(e))},uc.prototype.za=function(e){Po(this.g,new cc)},uc.prototype.ya=function(){Po(this.g,"b")},Di(lc,(function(){this.blockSize=-1})),lc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)hc(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){hc(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){hc(this,r),i=0;break}}this.h=i,this.i+=t},lc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var fc={};function pc(e){return-128<=e&&128>e?function(e,t){var n=fc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new dc([0|e],0>e?-1:0)})):new dc([0|e],0>e?-1:0)}function mc(e){if(isNaN(e)||!isFinite(e))return yc;if(0>e)return Sc(mc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gc;return new dc(t,0)}var gc=4294967296,yc=pc(0),vc=pc(1),bc=pc(16777216);function wc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _c(e){return-1==e.h}function Sc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new dc(n,~e.h).add(vc)}function Ec(e,t){return e.add(Sc(t))}function xc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tc(e,t){this.g=e,this.h=t}function Ic(e,t){if(wc(t))throw Error("division by zero");if(wc(e))return new Tc(yc,yc);if(_c(e))return t=Ic(Sc(e),t),new Tc(Sc(t.g),Sc(t.h));if(_c(t))return t=Ic(e,Sc(t)),new Tc(Sc(t.g),t.h);if(30<e.g.length){if(_c(e)||_c(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vc,r=t;0>=r.X(e);)n=Oc(n),r=Oc(r);var i=Cc(n,1),o=Cc(r,1);for(r=Cc(r,2),n=Cc(n,2);!wc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Cc(r,1),n=Cc(n,1)}return t=Ec(e,i.R(t)),new Tc(i,t)}for(i=yc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=mc(n)).R(t);_c(a)||0<a.X(e);)a=(o=mc(n-=r)).R(t);wc(o)&&(o=vc),i=i.add(o),e=Ec(e,a)}return new Tc(i,e)}function Oc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new dc(n,e.h)}function Cc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new dc(i,e.h)}(wi=dc.prototype).ea=function(){if(_c(this))return-Sc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gc+r)*t,t*=gc}return e},wi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(wc(this))return"0";if(_c(this))return"-"+Sc(this).toString(e);for(var t=mc(Math.pow(e,6)),n=this,r="";;){var i=Ic(n,t).g,o=((0<(n=Ec(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(wc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},wi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},wi.X=function(e){return _c(e=Ec(this,e))?-1:wc(e)?0:1},wi.abs=function(){return _c(this)?Sc(this):this},wi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new dc(n,-2147483648&n[n.length-1]?-1:0)},wi.R=function(e){if(wc(this)||wc(e))return yc;if(_c(this))return _c(e)?Sc(this).R(Sc(e)):Sc(Sc(this).R(e));if(_c(e))return Sc(this.R(Sc(e)));if(0>this.X(bc)&&0>e.X(bc))return mc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=a*c,xc(n,2*r+2*i),n[2*r+2*i+1]+=o*c,xc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,xc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,xc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new dc(n,0)},wi.gb=function(e){return Ic(this,e).h},wi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new dc(n,this.h&e.h)},wi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new dc(n,this.h|e.h)},wi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new dc(n,this.h^e.h)},oc.prototype.createWebChannel=oc.prototype.g,ac.prototype.send=ac.prototype.u,ac.prototype.open=ac.prototype.m,ac.prototype.close=ac.prototype.close,la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,ha.COMPLETE="complete",pa.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",Ao.prototype.listen=Ao.prototype.O,Ts.prototype.listenOnce=Ts.prototype.P,Ts.prototype.getLastError=Ts.prototype.Sa,Ts.prototype.getLastErrorCode=Ts.prototype.Ia,Ts.prototype.getStatus=Ts.prototype.da,Ts.prototype.getResponseJson=Ts.prototype.Wa,Ts.prototype.getResponseText=Ts.prototype.ja,Ts.prototype.send=Ts.prototype.ha,Ts.prototype.setWithCredentials=Ts.prototype.Oa,lc.prototype.digest=lc.prototype.l,lc.prototype.reset=lc.prototype.reset,lc.prototype.update=lc.prototype.j,dc.prototype.add=dc.prototype.add,dc.prototype.multiply=dc.prototype.R,dc.prototype.modulo=dc.prototype.gb,dc.prototype.compare=dc.prototype.X,dc.prototype.toNumber=dc.prototype.ea,dc.prototype.toString=dc.prototype.toString,dc.prototype.getBits=dc.prototype.D,dc.fromNumber=mc,dc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Sc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=mc(Math.pow(n,8)),i=yc,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=mc(Math.pow(n,a)),i=i.R(a).add(mc(s))):i=(i=i.R(r)).add(mc(s))}return i};var kc=Si.createWebChannelTransport=function(){return new oc},Ac=Si.getStatEventTarget=function(){return ra()},Pc=Si.ErrorCode=la,Rc=Si.EventType=ha,Dc=Si.Event=ta,Nc=Si.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mc=Si.FetchXmlHttpFactory=vs,jc=Si.WebChannel=pa,Lc=Si.XhrIo=Ts,Fc=Si.Md5=lc,Uc=Si.Integer=dc;const Bc="@firebase/firestore";class Vc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vc.UNAUTHENTICATED=new Vc(null),Vc.GOOGLE_CREDENTIALS=new Vc("google-credentials-uid"),Vc.FIRST_PARTY=new Vc("first-party-uid"),Vc.MOCK_USER=new Vc("mock-user");let zc="9.23.0";const qc=new At("@firebase/firestore");function Wc(){return qc.logLevel}function Gc(e){if(qc.logLevel<=Tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qc);qc.debug("Firestore (".concat(zc,"): ").concat(e),...i)}}function Hc(e){if(qc.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qc);qc.error("Firestore (".concat(zc,"): ").concat(e),...i)}}function Kc(e){if(qc.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qc);qc.warn("Firestore (".concat(zc,"): ").concat(e),...i)}}function Qc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(zc,") INTERNAL ASSERTION FAILED: ")+e;throw Hc(t),new Error(t)}function Xc(e,t){e||Yc()}function $c(e,t){return e}const Jc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zc extends qe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class eu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class tu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class nu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vc.UNAUTHENTICATED)))}shutdown(){}}class ru{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iu{constructor(e){this.t=e,this.currentUser=Vc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new eu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eu,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Gc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Gc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Gc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xc("string"==typeof t.accessToken),new tu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xc(null===e||"string"==typeof e),new Vc(e)}}class ou{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Vc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class au{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ou(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Vc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class su{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Gc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Gc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Gc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Gc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xc("string"==typeof e.token),this.T=e.token,new su(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class lu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function hu(e,t){return e<t?-1:e>t?1:0}function du(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function fu(e){return e+"\0"}class pu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pu.fromMillis(Date.now())}static fromDate(e){return pu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hu(this.nanoseconds,e.nanoseconds):hu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mu(e)}static min(){return new mu(new pu(0,0))}static max(){return new mu(new pu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yc(),void 0===n?n=e.length-t:n>e.length-t&&Yc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===gu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yu extends gu{construct(e,t,n){return new yu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new yu(e)}static emptyPath(){return new yu([])}}const vu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bu extends gu{construct(e,t,n){return new bu(e,t,n)}static isValidIdentifier(e){return vu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zc(Jc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zc(Jc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Zc(Jc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bu(t)}static emptyPath(){return new bu([])}}class wu{constructor(e){this.path=e}static fromPath(e){return new wu(yu.fromString(e))}static fromName(e){return new wu(yu.fromString(e).popFirst(5))}static empty(){return new wu(yu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wu(new yu(e.slice()))}}class _u{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Su(e){return e.fields.find((e=>2===e.kind))}function Eu(e){return e.fields.filter((e=>2!==e.kind))}_u.UNKNOWN_ID=-1;class xu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tu(0,Cu.min())}}function Iu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mu.fromTimestamp(1e9===r?new pu(n+1,0):new pu(n,r));return new Cu(i,wu.empty(),t)}function Ou(e){return new Cu(e.readTime,e.key,-1)}class Cu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cu(mu.min(),wu.empty(),-1)}static max(){return new Cu(mu.max(),wu.empty(),-1)}}function ku(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=wu.comparator(e.documentKey,t.documentKey),0!==n?n:hu(e.largestBatchId,t.largestBatchId))}const Au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ru(e){if(e.code!==Jc.FAILED_PRECONDITION||e.message!==Au)throw e;Gc("LocalStore","Unexpectedly lost primary lease")}class Du{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Du(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Du?t:Du.resolve(t)}catch(e){return Du.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Du.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Du.reject(t)}static resolve(e){return new Du(((t,n)=>{t(e)}))}static reject(e){return new Du(((t,n)=>{n(e)}))}static waitFor(e){return new Du(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Du.resolve(!1);for(const n of e)t=t.next((e=>e?Du.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Du(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const c=s;t(e[c]).next((e=>{o[c]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Du(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Nu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new eu,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Lu(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=zu(t.target.error);this.v.reject(new Lu(e,n))}}static open(e,t,n,r){try{return new Nu(t,e.transaction(r,n))}catch(e){throw new Lu(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Gc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Uu(t)}}class Mu{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Mu.S(De())&&Hc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Gc("SimpleDb","Removing database:",e),Bu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Be())return!1;if(Mu.C())return!0;const e=De(),t=Mu.S(e),n=0<t&&t<10,r=Mu.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Gc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Lu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Zc(Jc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Zc(Jc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Lu(e,r))},r.onupgradeneeded=e=>{Gc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Gc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=Nu.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Du.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Gc("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ju{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Bu(this.L.delete())}}class Lu extends Zc{constructor(e,t){super(Jc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fu(e){return"IndexedDbTransactionError"===e.name}class Uu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Gc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bu(n)}add(e){return Gc("SimpleDb","ADD",this.store.name,e,e),Bu(this.store.add(e))}get(e){return Bu(this.store.get(e)).next((t=>(void 0===t&&(t=null),Gc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Gc("SimpleDb","DELETE",this.store.name,e),Bu(this.store.delete(e))}count(){return Gc("SimpleDb","COUNT",this.store.name),Bu(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Du(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Du(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Gc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Du(((n,r)=>{t.onerror=e=>{const t=zu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Du(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ju(i),a=t(i.primaryKey,i.value,o);if(a instanceof Du){const e=a.catch((e=>(o.done(),Du.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Du.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bu(e){return new Du(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=zu(e.target.error);n(t)}}))}let Vu=!1;function zu(e){const t=Mu.S(De());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Zc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vu||(Vu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class qu{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Gc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Gc("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Fu(e)?Gc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Ru(e)}await this.et(6e4)}))}}class Wu{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Du.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Gc("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Gc("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ou(t);ku(r,n)>0&&(n=r)})),new Cu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Gu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Hu(e){return null==e}function Ku(e){return 0===e&&1/e==-1/0}function Qu(e){return"number"==typeof e&&Number.isInteger(e)&&!Ku(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Yu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$u(t)),t=Xu(e.get(n),t);return $u(t)}function Xu(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function $u(e){return e+"\x01\x01"}function Ju(e){const t=e.length;if(Xc(t>=2),2===t)return Xc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),yu.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Yc(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Yc()}o=t+2}return new yu(r)}Gu.ct=-1;const Zu=["userId","batchId"];function el(e,t){return[e,Yu(t)]}function tl(e,t,n){return[e,Yu(t),n]}const nl={},rl=["prefixPath","collectionGroup","readTime","documentId"],il=["prefixPath","collectionGroup","documentId"],ol=["collectionGroup","readTime","prefixPath","documentId"],al=["canonicalId","targetId"],sl=["targetId","path"],cl=["path","targetId"],ul=["collectionId","parent"],ll=["indexId","uid"],hl=["uid","sequenceNumber"],dl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fl=["indexId","uid","orderedDocumentKey"],pl=["userId","collectionPath","documentId"],ml=["userId","collectionPath","largestBatchId"],gl=["userId","collectionGroup","largestBatchId"],yl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vl=[...yl,"documentOverlays"],bl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wl=bl,_l=[...wl,"indexConfiguration","indexState","indexEntries"];class Sl extends Pu{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function El(e,t){const n=$c(e);return Mu.M(n.ht,t)}function xl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Il(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ol{constructor(e,t){this.comparator=e,this.root=t||kl.EMPTY}insert(e,t){return new Ol(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kl.BLACK,null,null))}remove(e){return new Ol(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cl(this.root,e,this.comparator,!0)}}class Cl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:kl.RED,this.left=null!=r?r:kl.EMPTY,this.right=null!=i?i:kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new kl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return kl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yc();if(this.right.isRed())throw Yc();const e=this.left.check();if(e!==this.right.check())throw Yc();return e+(this.isRed()?0:1)}}kl.EMPTY=null,kl.RED=!0,kl.BLACK=!1,kl.EMPTY=new class{constructor(){this.size=0}get key(){throw Yc()}get value(){throw Yc()}get color(){throw Yc()}get left(){throw Yc()}get right(){throw Yc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new kl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Al{constructor(e){this.comparator=e,this.data=new Ol(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pl(this.data.getIterator())}getIteratorFrom(e){return new Pl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Al))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Al(this.comparator);return t.data=e,t}}class Pl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(e){return e.hasNext()?e.getNext():void 0}class Dl{constructor(e){this.fields=e,e.sort(bu.comparator)}static empty(){return new Dl([])}unionWith(e){let t=new Al(bu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Nl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ml{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Nl("Invalid base64 string: "+e):e}}(e);return new Ml(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ml(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ml.EMPTY_BYTE_STRING=new Ml("");const jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(e){if(Xc(!!e),"string"==typeof e){let t=0;const n=jl.exec(e);if(Xc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fl(e.seconds),nanos:Fl(e.nanos)}}function Fl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ul(e){return"string"==typeof e?Ml.fromBase64String(e):Ml.fromUint8Array(e)}function Bl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vl(e){const t=e.mapValue.fields.__previous_value__;return Bl(t)?Vl(t):t}function zl(e){const t=Ll(e.mapValue.fields.__local_write_time__.timestampValue);return new pu(t.seconds,t.nanos)}class ql{constructor(e,t,n,r,i,o,a,s,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=c}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hl={nullValue:"NULL_VALUE"};function Kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bl(e)?4:sh(e)?9007199254740991:10:Yc()}function Ql(e,t){if(e===t)return!0;const n=Kl(e);if(n!==Kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zl(e).isEqual(zl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ll(e.timestampValue),r=Ll(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ul(e.bytesValue).isEqual(Ul(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fl(e.geoPointValue.latitude)===Fl(t.geoPointValue.latitude)&&Fl(e.geoPointValue.longitude)===Fl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fl(e.integerValue)===Fl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fl(e.doubleValue),r=Fl(t.doubleValue);return n===r?Ku(n)===Ku(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return du(e.arrayValue.values||[],t.arrayValue.values||[],Ql);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xl(n)!==xl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ql(n[i],r[i])))return!1;return!0}(e,t);default:return Yc()}}function Yl(e,t){return void 0!==(e.values||[]).find((e=>Ql(e,t)))}function Xl(e,t){if(e===t)return 0;const n=Kl(e),r=Kl(t);if(n!==r)return hu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fl(e.integerValue||e.doubleValue),r=Fl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $l(e.timestampValue,t.timestampValue);case 4:return $l(zl(e),zl(t));case 5:return hu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ul(e),r=Ul(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hu(n[i],r[i]);if(0!==e)return e}return hu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hu(Fl(e.latitude),Fl(t.latitude));return 0!==n?n:hu(Fl(e.longitude),Fl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xl(n[i],r[i]);if(e)return e}return hu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gl.mapValue&&t===Gl.mapValue)return 0;if(e===Gl.mapValue)return 1;if(t===Gl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=hu(r[a],o[a]);if(0!==e)return e;const t=Xl(n[r[a]],i[o[a]]);if(0!==t)return t}return hu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Yc()}}function $l(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hu(e,t);const n=Ll(e),r=Ll(t),i=hu(n.seconds,r.seconds);return 0!==i?i:hu(n.nanos,r.nanos)}function Jl(e){return Zl(e)}function Zl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ll(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ul(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Zl(e.fields[i]));return n+"}"}(e.mapValue):Yc();var t,n}function eh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function th(e){return!!e&&"integerValue"in e}function nh(e){return!!e&&"arrayValue"in e}function rh(e){return!!e&&"nullValue"in e}function ih(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oh(e){return!!e&&"mapValue"in e}function ah(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Tl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ah(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ah(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ch(e){return"nullValue"in e?Hl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?eh(Wl.empty(),wu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Yc()}function uh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?eh(Wl.empty(),wu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gl:Yc()}function lh(e,t){const n=Xl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function hh(e,t){const n=Xl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class dh{constructor(e){this.value=e}static empty(){return new dh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=bu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ah(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ql(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Tl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new dh(ah(this.value))}}function fh(e){const t=[];return Tl(e.fields,((e,n)=>{const r=new bu([e]);if(oh(n)){const e=fh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Dl(t)}class ph{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ph(e,0,mu.min(),mu.min(),mu.min(),dh.empty(),0)}static newFoundDocument(e,t,n,r){return new ph(e,1,t,mu.min(),n,r,0)}static newNoDocument(e,t){return new ph(e,2,t,mu.min(),mu.min(),dh.empty(),0)}static newUnknownDocument(e,t){return new ph(e,3,t,mu.min(),mu.min(),dh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ph&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ph(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class mh{constructor(e,t){this.position=e,this.inclusive=t}}function gh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?wu.comparator(wu.fromName(a.referenceValue),n.key):Xl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ql(e.position[n],t.position[n]))return!1;return!0}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wh{}class _h extends wh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ph(e,t,n):"array-contains"===t?new Mh(e,n):"in"===t?new jh(e,n):"not-in"===t?new Lh(e,n):"array-contains-any"===t?new Fh(e,n):new _h(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Rh(e,n):new Dh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xl(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sh extends wh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Sh(e,t)}matches(e){return Eh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Eh(e){return"and"===e.op}function xh(e){return"or"===e.op}function Th(e){return Ih(e)&&Eh(e)}function Ih(e){for(const t of e.filters)if(t instanceof Sh)return!1;return!0}function Oh(e){if(e instanceof _h)return e.field.canonicalString()+e.op.toString()+Jl(e.value);if(Th(e))return e.filters.map((e=>Oh(e))).join(",");{const t=e.filters.map((e=>Oh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ch(e,t){return e instanceof _h?function(e,t){return t instanceof _h&&e.op===t.op&&e.field.isEqual(t.field)&&Ql(e.value,t.value)}(e,t):e instanceof Sh?function(e,t){return t instanceof Sh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ch(n,t.filters[r])),!0)}(e,t):void Yc()}function kh(e,t){const n=e.filters.concat(t);return Sh.create(n,e.op)}function Ah(e){return e instanceof _h?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jl(e.value))}(e):e instanceof Sh?function(e){return e.op.toString()+" {"+e.getFilters().map(Ah).join(" ,")+"}"}(e):"Filter"}class Ph extends _h{constructor(e,t,n){super(e,t,n),this.key=wu.fromName(n.referenceValue)}matches(e){const t=wu.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rh extends _h{constructor(e,t){super(e,"in",t),this.keys=Nh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Dh extends _h{constructor(e,t){super(e,"not-in",t),this.keys=Nh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Nh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>wu.fromName(e.referenceValue)))}class Mh extends _h{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nh(t)&&Yl(t.arrayValue,this.value)}}class jh extends _h{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yl(this.value.arrayValue,t)}}class Lh extends _h{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yl(this.value.arrayValue,t)}}class Fh extends _h{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yl(this.value.arrayValue,e)))}}class Uh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Bh(e){return new Uh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vh(e){const t=$c(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Oh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Hu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Jl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Jl(e))).join(",")),t.dt=e}return t.dt}function zh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ch(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yh(e.startAt,t.startAt)&&yh(e.endAt,t.endAt)}function qh(e){return wu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Wh(e,t){return e.filters.filter((e=>e instanceof _h&&e.field.isEqual(t)))}function Gh(e,t,n){let r=Hl,i=!0;for(const o of Wh(e,t)){let e=Hl,t=!0;switch(o.op){case"<":case"<=":e=ch(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Hl}lh({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];lh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Hh(e,t,n){let r=Gl,i=!0;for(const o of Wh(e,t)){let e=Gl,t=!0;switch(o.op){case">=":case">":e=uh(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Gl}hh({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];hh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Kh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Qh(e,t,n,r,i,o,a,s){return new Kh(e,t,n,r,i,o,a,s)}function Yh(e){return new Kh(e)}function Xh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $h(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Zh(e){return null!==e.collectionGroup}function ed(e){const t=$c(e);if(null===t.wt){t.wt=[];const e=Jh(t),n=$h(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new vh(e)),t.wt.push(new vh(bu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new vh(bu.keyField(),e))}}}return t.wt}function td(e){const t=$c(e);if(!t._t)if("F"===t.limitType)t._t=Bh(t.path,t.collectionGroup,ed(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of ed(t)){const t="desc"===i.dir?"asc":"desc";e.push(new vh(i.field,t))}const n=t.endAt?new mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mh(t.startAt.position,t.startAt.inclusive):null;t._t=Bh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function nd(e,t){t.getFirstInequalityField(),Jh(e);const n=e.filters.concat([t]);return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rd(e,t,n){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function id(e,t){return zh(td(e),td(t))&&e.limitType===t.limitType}function od(e){return"".concat(Vh(td(e)),"|lt:").concat(e.limitType)}function ad(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ah(e))).join(", "),"]")),Hu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Jl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Jl(e))).join(",")),"Target(".concat(t,")")}(td(e)),"; limitType=").concat(e.limitType,")")}function sd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ed(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ed(e),t))&&!(e.endAt&&!function(e,t,n){const r=gh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ed(e),t))}(e,t)}function cd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ud(e){return(t,n)=>{let r=!1;for(const i of ed(e)){const e=ld(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ld(e,t,n){const r=e.field.isKeyField()?wu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xl(r,i):Yc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yc()}}class hd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Il(this.inner)}size(){return this.innerSize}}const dd=new Ol(wu.comparator);function fd(){return dd}const pd=new Ol(wu.comparator);function md(){let e=pd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function gd(e){let t=pd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function yd(){return bd()}function vd(){return bd()}function bd(){return new hd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const wd=new Ol(wu.comparator),_d=new Al(wu.comparator);function Sd(){let e=_d;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ed=new Al(hu);function xd(){return Ed}function Td(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(t)?"-0":t}}function Id(e){return{integerValue:""+e}}function Od(e,t){return Qu(t)?Id(t):Td(e,t)}class Cd{constructor(){this._=void 0}}function kd(e,t,n){return e instanceof Rd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bl(t)&&(t=Vl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dd?Nd(e,t):e instanceof Md?jd(e,t):function(e,t){const n=Pd(e,t),r=Fd(n)+Fd(e.gt);return th(n)&&th(e.gt)?Id(r):Td(e.serializer,r)}(e,t)}function Ad(e,t,n){return e instanceof Dd?Nd(e,t):e instanceof Md?jd(e,t):n}function Pd(e,t){return e instanceof Ld?th(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Rd extends Cd{}class Dd extends Cd{constructor(e){super(),this.elements=e}}function Nd(e,t){const n=Ud(t);for(const r of e.elements)n.some((e=>Ql(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Md extends Cd{constructor(e){super(),this.elements=e}}function jd(e,t){let n=Ud(t);for(const r of e.elements)n=n.filter((e=>!Ql(e,r)));return{arrayValue:{values:n}}}class Ld extends Cd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Fd(e){return Fl(e.integerValue||e.doubleValue)}function Ud(e){return nh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bd{constructor(e,t){this.field=e,this.transform=t}}class Vd{constructor(e,t){this.version=e,this.transformResults=t}}class zd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zd}static exists(e){return new zd(void 0,e)}static updateTime(e){return new zd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wd{}function Gd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tf(e.key,zd.none()):new Xd(e.key,e.data,zd.none());{const n=e.data,r=dh.empty();let i=new Al(bu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $d(e.key,r,new Dl(i.toArray()),zd.none())}}function Hd(e,t,n){e instanceof Xd?function(e,t,n){const r=e.value.clone(),i=Zd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $d?function(e,t,n){if(!qd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Zd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kd(e,t,n,r){return e instanceof Xd?function(e,t,n,r){if(!qd(e.precondition,t))return n;const i=e.value.clone(),o=ef(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $d?function(e,t,n,r){if(!qd(e.precondition,t))return n;const i=ef(e.fieldTransforms,r,t),o=t.data;return o.setAll(Jd(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return qd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Qd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pd(r.transform,e||null);null!=i&&(null===n&&(n=dh.empty()),n.set(r.field,i))}return n||null}function Yd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&du(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dd&&t instanceof Dd||e instanceof Md&&t instanceof Md?du(e.elements,t.elements,Ql):e instanceof Ld&&t instanceof Ld?Ql(e.gt,t.gt):e instanceof Rd&&t instanceof Rd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xd extends Wd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $d extends Wd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Jd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Zd(e,t,n){const r=new Map;Xc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ad(a,s,n[i]))}return r}function ef(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,kd(e,o,t))}return r}class tf extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nf extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Hd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Kd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Kd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=vd();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Gd(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(mu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Sd())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,((e,t)=>Yd(e,t)))&&du(this.baseMutations,e.baseMutations,((e,t)=>Yd(e,t)))}}class of{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xc(e.mutations.length===n.length);let r=wd;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new of(e,t,n,r)}}class af{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class sf{constructor(e,t){this.count=e,this.unchangedNames=t}}var cf,uf;function lf(e){switch(e){default:return Yc();case Jc.CANCELLED:case Jc.UNKNOWN:case Jc.DEADLINE_EXCEEDED:case Jc.RESOURCE_EXHAUSTED:case Jc.INTERNAL:case Jc.UNAVAILABLE:case Jc.UNAUTHENTICATED:return!1;case Jc.INVALID_ARGUMENT:case Jc.NOT_FOUND:case Jc.ALREADY_EXISTS:case Jc.PERMISSION_DENIED:case Jc.FAILED_PRECONDITION:case Jc.ABORTED:case Jc.OUT_OF_RANGE:case Jc.UNIMPLEMENTED:case Jc.DATA_LOSS:return!0}}function hf(e){if(void 0===e)return Hc("GRPC error has no .code"),Jc.UNKNOWN;switch(e){case cf.OK:return Jc.OK;case cf.CANCELLED:return Jc.CANCELLED;case cf.UNKNOWN:return Jc.UNKNOWN;case cf.DEADLINE_EXCEEDED:return Jc.DEADLINE_EXCEEDED;case cf.RESOURCE_EXHAUSTED:return Jc.RESOURCE_EXHAUSTED;case cf.INTERNAL:return Jc.INTERNAL;case cf.UNAVAILABLE:return Jc.UNAVAILABLE;case cf.UNAUTHENTICATED:return Jc.UNAUTHENTICATED;case cf.INVALID_ARGUMENT:return Jc.INVALID_ARGUMENT;case cf.NOT_FOUND:return Jc.NOT_FOUND;case cf.ALREADY_EXISTS:return Jc.ALREADY_EXISTS;case cf.PERMISSION_DENIED:return Jc.PERMISSION_DENIED;case cf.FAILED_PRECONDITION:return Jc.FAILED_PRECONDITION;case cf.ABORTED:return Jc.ABORTED;case cf.OUT_OF_RANGE:return Jc.OUT_OF_RANGE;case cf.UNIMPLEMENTED:return Jc.UNIMPLEMENTED;case cf.DATA_LOSS:return Jc.DATA_LOSS;default:return Yc()}}(uf=cf||(cf={}))[uf.OK=0]="OK",uf[uf.CANCELLED=1]="CANCELLED",uf[uf.UNKNOWN=2]="UNKNOWN",uf[uf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uf[uf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uf[uf.NOT_FOUND=5]="NOT_FOUND",uf[uf.ALREADY_EXISTS=6]="ALREADY_EXISTS",uf[uf.PERMISSION_DENIED=7]="PERMISSION_DENIED",uf[uf.UNAUTHENTICATED=16]="UNAUTHENTICATED",uf[uf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uf[uf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uf[uf.ABORTED=10]="ABORTED",uf[uf.OUT_OF_RANGE=11]="OUT_OF_RANGE",uf[uf.UNIMPLEMENTED=12]="UNIMPLEMENTED",uf[uf.INTERNAL=13]="INTERNAL",uf[uf.UNAVAILABLE=14]="UNAVAILABLE",uf[uf.DATA_LOSS=15]="DATA_LOSS";class df{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ff}static getOrCreateInstance(){return null===ff&&(ff=new df),ff}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let ff=null;function pf(){return new TextEncoder}const mf=new Uc([4294967295,4294967295],0);function gf(e){const t=pf().encode(e),n=new Fc;return n.update(t),new Uint8Array(n.digest())}function yf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Uc([n,r],0),new Uc([i,o],0)]}class vf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bf("Invalid padding: ".concat(t));if(n<0)throw new bf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new bf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new bf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Uc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Uc.fromNumber(n)));return 1===r.compare(mf)&&(r=new Uc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=gf(e),[n,r]=yf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vf(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=gf(e),[n,r]=yf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wf(mu.min(),r,new Ol(hu),fd(),Sd())}}class _f{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new _f(n,t,Sd(),Sd(),Sd())}}class Sf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Ef{constructor(e,t){this.targetId=e,this.Vt=t}}class xf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ml.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Tf{constructor(){this.St=0,this.Dt=Cf(),this.Ct=Ml.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Sd(),t=Sd(),n=Sd();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yc()}})),new _f(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Cf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class If{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fd(),this.zt=Of(),this.Wt=new Ol(hu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Yc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(qh(o))if(0===r){const e=new wu(o.path);this.Yt(n,e,ph.newNoDocument(e,mu.min()))}else Xc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=df.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,c;const u={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,c;try{s=Ul(i).toUint8Array()}catch(e){if(e instanceof Nl)return Kc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{c=new vf(s,o,a)}catch(e){return Kc(e instanceof bf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&qh(i.target)){const t=new wu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,ph.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Sd();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new wf(e,t,this.Wt,this.jt,n);return this.jt=fd(),this.zt=Of(),this.Wt=new Ol(hu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Tf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Al(hu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Gc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Tf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Of(){return new Ol(wu.comparator)}function Cf(){return new Ol(wu.comparator)}const kf={asc:"ASCENDING",desc:"DESCENDING"},Af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pf={and:"AND",or:"OR"};class Rf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Df(e,t){return e.useProto3Json||Hu(t)?t:{value:t}}function Nf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jf(e,t){return Nf(e,t.toTimestamp())}function Lf(e){return Xc(!!e),mu.fromTimestamp(function(e){const t=Ll(e);return new pu(t.seconds,t.nanos)}(e))}function Ff(e,t){return function(e){return new yu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uf(e){const t=yu.fromString(e);return Xc(sp(t)),t}function Bf(e,t){return Ff(e.databaseId,t.path)}function Vf(e,t){const n=Uf(t);if(n.get(1)!==e.databaseId.projectId)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wu(Gf(n))}function zf(e,t){return Ff(e.databaseId,t)}function qf(e){const t=Uf(e);return 4===t.length?yu.emptyPath():Gf(t)}function Wf(e){return new yu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gf(e){return Xc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hf(e,t,n){return{name:Bf(e,t),fields:n.value.mapValue.fields}}function Kf(e,t,n){const r=Vf(e,t.name),i=Lf(t.updateTime),o=t.createTime?Lf(t.createTime):mu.min(),a=new dh({mapValue:{fields:t.fields}}),s=ph.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Qf(e,t){let n;if(t instanceof Xd)n={update:Hf(e,t.key,t.value)};else if(t instanceof tf)n={delete:Bf(e,t.key)};else if(t instanceof $d)n={update:Hf(e,t.key,t.data),updateMask:ap(t.fieldMask)};else{if(!(t instanceof nf))return Yc();n={verify:Bf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Rd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Md)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Yc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yc()}(e,t.precondition)),n}function Yf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zd.updateTime(Lf(e.updateTime)):void 0!==e.exists?zd.exists(e.exists):zd.none()}(t.currentDocument):zd.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Xc("REQUEST_TIME"===t.setToServerValue),n=new Rd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Dd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Md(e)}else"increment"in t?n=new Ld(e,t.increment):Yc();const r=bu.fromServerFormat(t.fieldPath);return new Bd(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Vf(e,t.update.name),o=new dh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Dl(t.map((e=>bu.fromServerFormat(e))))}(t.updateMask);return new $d(i,o,e,n,r)}return new Xd(i,o,n,r)}if(t.delete){const r=Vf(e,t.delete);return new tf(r,n)}if(t.verify){const r=Vf(e,t.verify);return new nf(r,n)}return Yc()}function Xf(e,t){return{documents:[zf(e,t.path)]}}function $f(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return op(Sh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:rp(e.field),direction:ep(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Df(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jf(e){let t=qf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Zf(e);return t instanceof Sh&&Th(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new vh(ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Hu(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new mh(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new mh(n,t)}(n.endAt)),Qh(t,i,a,o,s,"F",c,u)}function Zf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ip(e.unaryFilter.field);return _h.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ip(e.unaryFilter.field);return _h.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ip(e.unaryFilter.field);return _h.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ip(e.unaryFilter.field);return _h.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yc()}}(e):void 0!==e.fieldFilter?function(e){return _h.create(ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sh.create(e.compositeFilter.filters.map((e=>Zf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Yc()}}(e.compositeFilter.op))}(e):Yc()}function ep(e){return kf[e]}function tp(e){return Af[e]}function np(e){return Pf[e]}function rp(e){return{fieldPath:e.canonicalString()}}function ip(e){return bu.fromServerFormat(e.fieldPath)}function op(e){return e instanceof _h?function(e){if("=="===e.op){if(ih(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NAN"}};if(rh(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ih(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NAN"}};if(rh(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(e.field),op:tp(e.op),value:e.value}}}(e):e instanceof Sh?function(e){const t=e.getFilters().map((e=>op(e)));return 1===t.length?t[0]:{compositeFilter:{op:np(e.op),filters:t}}}(e):Yc()}function ap(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ml.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new cp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class up{constructor(e){this.fe=e}}function lp(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Nf(e,t.version.toTimestamp()),createTime:Nf(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:dp(t.version)};else{if(!t.isUnknownDocument())return Yc();r.unknownDocument={path:n.path.toArray(),version:dp(t.version)}}return r}function hp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dp(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fp(e){const t=new pu(e.seconds,e.nanoseconds);return mu.fromTimestamp(t)}function pp(e,t){const n=(t.baseMutations||[]).map((t=>Yf(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Yf(e.fe,t))),i=pu.fromMillis(t.localWriteTimeMs);return new rf(t.batchId,i,n,r)}function mp(e){const t=fp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?fp(e.lastLimboFreeSnapshotVersion):mu.min();let r;var i;return void 0!==e.query.documents?(Xc(1===(i=e.query).documents.length),r=td(Yh(qf(i.documents[0])))):r=function(e){return td(Jf(e))}(e.query),new cp(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ml.fromBase64String(e.resumeToken))}function gp(e,t){const n=dp(t.snapshotVersion),r=dp(t.lastLimboFreeSnapshotVersion);let i;i=qh(t.target)?Xf(e.fe,t.target):$f(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vh(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yp(e){const t=Jf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rd(t,t.limit,"L"):t}function vp(e,t){return new af(t.largestBatchId,Yf(e.fe,t.overlayMutation))}function bp(e,t){const n=t.path.lastSegment();return[e,Yu(t.path.popLast()),n]}function wp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:dp(r.readTime),documentKey:Yu(r.documentKey.path),largestBatchId:r.largestBatchId}}class _p{getBundleMetadata(e,t){return Sp(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:fp(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Sp(e).put({bundleId:(n=t).id,createTime:dp(Lf(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Ep(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:yp(t.bundledQuery),readTime:fp(t.readTime)};var t}))}saveNamedQuery(e,t){return Ep(e).put(function(e){return{name:e.name,readTime:dp(Lf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Sp(e){return El(e,"bundles")}function Ep(e){return El(e,"namedQueries")}class xp{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new xp(e,n)}getOverlay(e,t){return Tp(e).get(bp(this.userId,t)).next((e=>e?vp(this.serializer,e):null))}getOverlays(e,t){const n=yd();return Du.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new af(t,i);r.push(this.we(e,o))})),Du.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Yu(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Tp(e).J("collectionPathOverlayIndex",r))})),Du.waitFor(i)}getOverlaysForCollection(e,t,n){const r=yd(),i=Yu(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Tp(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=vp(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=yd();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tp(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=vp(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return Tp(e).put(function(e,t,n){const[r,i,o]=bp(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qf(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function Tp(e){return El(e,"documentOverlays")}class Ip{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fl(e.integerValue));else if("doubleValue"in e){const n=Fl(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ku(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ul(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?sh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Yc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),wu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Op(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cp(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Op(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ip.Ve=new Ip;class kp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Cp(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=Cp(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ap{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Pp{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Rp{constructor(){this.je=new kp,this.ze=new Ap(this.je),this.We=new Pp(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Dp{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Dp(this.indexId,this.documentKey,this.arrayValue,n)}}function Np(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Mp(e.arrayValue,t.arrayValue),0!==n?n:(n=Mp(e.directionalValue,t.directionalValue),0!==n?n:wu.comparator(e.documentKey,t.documentKey)))}function Mp(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class jp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Xc(e.collectionGroup===this.collectionId);const t=Su(e);if(void 0!==t&&!this.en(t))return!1;const n=Eu(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Lp(e){var t,n;if(Xc(e instanceof _h||e instanceof Sh),e instanceof _h){if(e instanceof jh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>_h.create(e.field,"==",t))))||[];return Sh.create(r,"or")}return e}const r=e.filters.map((e=>Lp(e)));return Sh.create(r,e.op)}function Fp(e){if(0===e.getFilters().length)return[];const t=zp(Lp(e));return Xc(Vp(t)),Up(t)||Bp(t)?[t]:t.getFilters()}function Up(e){return e instanceof _h}function Bp(e){return e instanceof Sh&&Th(e)}function Vp(e){return Up(e)||Bp(e)||function(e){if(e instanceof Sh&&xh(e)){for(const t of e.getFilters())if(!Up(t)&&!Bp(t))return!1;return!0}return!1}(e)}function zp(e){if(Xc(e instanceof _h||e instanceof Sh),e instanceof _h)return e;if(1===e.filters.length)return zp(e.filters[0]);const t=e.filters.map((e=>zp(e)));let n=Sh.create(t,e.op);return n=Gp(n),Vp(n)?n:(Xc(n instanceof Sh),Xc(Eh(n)),Xc(n.filters.length>1),n.filters.reduce(((e,t)=>qp(e,t))))}function qp(e,t){let n;return Xc(e instanceof _h||e instanceof Sh),Xc(t instanceof _h||t instanceof Sh),n=e instanceof _h?t instanceof _h?function(e,t){return Sh.create([e,t],"and")}(e,t):Wp(e,t):t instanceof _h?Wp(t,e):function(e,t){if(Xc(e.filters.length>0&&t.filters.length>0),Eh(e)&&Eh(t))return kh(e,t.getFilters());const n=xh(e)?e:t,r=xh(e)?t:e,i=n.filters.map((e=>qp(e,r)));return Sh.create(i,"or")}(e,t),Gp(n)}function Wp(e,t){if(Eh(t))return kh(t,e.getFilters());{const n=t.filters.map((t=>qp(e,t)));return Sh.create(n,"or")}}function Gp(e){if(Xc(e instanceof _h||e instanceof Sh),e instanceof _h)return e;const t=e.getFilters();if(1===t.length)return Gp(t[0]);if(Ih(e))return e;const n=t.map((e=>Gp(e))),r=[];return n.forEach((t=>{t instanceof _h?r.push(t):t instanceof Sh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Sh.create(r,e.op)}class Hp{constructor(){this.rn=new Kp}addToCollectionParentIndex(e,t){return this.rn.add(t),Du.resolve()}getCollectionParents(e,t){return Du.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Du.resolve()}deleteFieldIndex(e,t){return Du.resolve()}getDocumentsMatchingTarget(e,t){return Du.resolve(null)}getIndexType(e,t){return Du.resolve(0)}getFieldIndexes(e,t){return Du.resolve([])}getNextCollectionGroupToUpdate(e){return Du.resolve(null)}getMinOffset(e,t){return Du.resolve(Cu.min())}getMinOffsetFromCollectionGroup(e,t){return Du.resolve(Cu.min())}updateCollectionGroup(e,t,n){return Du.resolve()}updateIndexEntries(e,t){return Du.resolve()}}class Kp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Al(yu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Al(yu.comparator)).toArray()}}const Qp=new Uint8Array(0);class Yp{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Kp,this.un=new hd((e=>Vh(e)),((e,t)=>zh(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:Yu(r)};return Xp(e).put(i)}return Du.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fu(t),""],!1,!0);return Xp(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ju(r.parent))}return n}))}addFieldIndex(e,t){const n=Jp(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Zp(e);return i.next((e=>{n.put(wp(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Jp(e),r=Zp(e),i=$p(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=$p(e);let r=!0;const i=new Map;return Du.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Sd();const r=[];return Du.forEach(i,((i,o)=>{var a;Gc("IndexedDbIndexManager","Using index ".concat((a=i,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Vh(t)));const s=function(e,t){const n=Su(t);if(void 0===n)return null;for(const r of Wh(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of Eu(t))for(const t of Wh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Eu(t)){const t=0===i.kind?Gh(e,i.fieldPath,e.startAt):Hh(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new mh(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Eu(t)){const t=0===i.kind?Hh(e,i.fieldPath,e.endAt):Gh(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new mh(n,r)}(o,i),h=this.hn(i,o,u),d=this.hn(i,o,l),f=this.ln(i,o,c),p=this.fn(i.indexId,s,h,u.inclusive,d,l.inclusive,f);return Du.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=wu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Du.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Fp(Sh.create(e.filters,"and")).map((t=>Bh(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),u=[];for(let l=0;l<s;++l){const s=t?this.dn(t[l/c]):Qp,h=this.wn(e,s,n[l%c],r),d=this._n(e,s,i[l%c],o),f=a.map((t=>this.wn(e,s,t,!0)));u.push(...this.createRange(h,d,f))}return u}wn(e,t,n,r){const i=new Dp(e,wu.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Dp(e,wu.empty(),t,n);return r?i.Je():i}an(e,t){const n=new jp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Du.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Al(bu.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Rp;for(const r of Eu(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);Ip.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Rp;return Ip.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Rp;return Ip.Ve._e(eh(this.databaseId,t),n.He(function(e){const t=Eu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Rp);let i=0;for(const o of Eu(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&nh(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);Ip.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Rp;n.seed(e.Qe()),Ip.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof _h&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Jp(e),r=Zp(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Du.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Tu(t.sequenceNumber,new Cu(fp(t.readTime),new wu(Ju(t.documentKey)),t.largestBatchId)):Tu.empty(),r=e.fields.map((e=>{let[t,n]=e;return new xu(bu.fromServerFormat(t),n)}));return new _u(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:hu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Jp(e),i=Zp(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Du.forEach(t,(t=>i.put(wp(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Du.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Du.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Du.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Du.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return $p(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return $p(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=$p(e);let i=new Al(Np);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Dp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Al(Np);const r=this.mn(t,e);if(null==r)return n;const i=Su(t);if(null!=i){const o=e.data.field(i.fieldPath);if(nh(o))for(const i of o.arrayValue.values||[])n=n.add(new Dp(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Dp(t.indexId,e.key,Qp,r));return n}vn(e,t,n,r,i){Gc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Rl(o),c=Rl(a);for(;s||c;){let e=!1,t=!1;if(s&&c){const r=n(s,c);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(c),c=Rl(a)):t?(i(s),s=Rl(o)):(s=Rl(o),c=Rl(a))}}(r,i,Np,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),Du.waitFor(o)}Tn(e){let t=1;return Zp(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Np(e,t))).filter(((e,t,n)=>!t||0!==Np(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Np(o,e),i=Np(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Qp,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Qp,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Np(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(em)}getMinOffset(e,t){return Du.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||Yc())))).next(em)}}function Xp(e){return El(e,"collectionParents")}function $p(e){return El(e,"indexEntries")}function Jp(e){return El(e,"indexConfiguration")}function Zp(e){return El(e,"indexState")}function em(e){Xc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ku(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cu(t.readTime,t.documentKey,n)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new nm(e,nm.DEFAULT_COLLECTION_PERCENTILE,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rm(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const c=r.X({range:a},((e,t,n)=>(s++,n.delete())));o.push(c.next((()=>{Xc(1===s)})));const u=[];for(const l of n.mutations){const e=tl(t,l.key.path,n.batchId);o.push(i.delete(e)),u.push(l.key)}return Du.waitFor(o).next((()=>u))}function im(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Yc();t=e.noDocument}return JSON.stringify(t).length}nm.DEFAULT_COLLECTION_PERCENTILE=10,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nm.DEFAULT=new nm(41943040,nm.DEFAULT_COLLECTION_PERCENTILE,nm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nm.DISABLED=new nm(-1,0,0);class om{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Xc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new om(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sm(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=cm(e),o=sm(e);return o.add({}).next((a=>{Xc("number"==typeof a);const s=new rf(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Qf(e.fe,t))),i=n.mutations.map((t=>Qf(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),u=[];let l=new Al(((e,t)=>hu(e.canonicalString(),t.canonicalString())));for(const e of r){const t=tl(this.userId,e.key.path,a);l=l.add(e.key.path.popLast()),u.push(o.put(c)),u.push(i.put(t,nl))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=s.keys()})),Du.waitFor(u).next((()=>s))}))}lookupMutationBatch(e,t){return sm(e).get(t).next((e=>e?(Xc(e.userId===this.userId),pp(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Du.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return sm(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Xc(t.batchId>=n),i=pp(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return sm(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sm(e).j("userMutationsIndex",t).next((e=>e.map((e=>pp(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=el(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return cm(e).X({range:r},((n,r,o)=>{const[a,s,c]=n,u=Ju(s);if(a===this.userId&&t.path.isEqual(u))return sm(e).get(c).next((e=>{if(!e)throw Yc();Xc(e.userId===this.userId),i.push(pp(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Al(hu);const r=[];return t.forEach((t=>{const i=el(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=cm(e).X({range:o},((e,r,i)=>{const[o,a,s]=e,c=Ju(a);o===this.userId&&t.path.isEqual(c)?n=n.add(s):i.done()}));r.push(a)})),Du.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=el(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Al(hu);return cm(e).X({range:o},((e,t,i)=>{const[o,s,c]=e,u=Ju(s);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(a=a.add(c)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(sm(e).get(t).next((e=>{if(null===e)throw Yc();Xc(e.userId===this.userId),n.push(pp(this.serializer,e))})))})),Du.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return rm(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Du.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Du.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return cm(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ju(e[1]);r.push(t)}else n.done()})).next((()=>{Xc(0===r.length)}))}))}containsKey(e,t){return am(e,this.userId,t)}xn(e){return um(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function am(e,t,n){const r=el(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return cm(e).X({range:o,Y:!0},((e,n,r)=>{const[o,s,c]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function sm(e){return El(e,"mutations")}function cm(e){return El(e,"documentMutations")}function um(e){return El(e,"mutationQueues")}class lm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lm(0)}static Mn(){return new lm(-1)}}class hm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new lm(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>mu.fromTimestamp(new pu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>dm(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Xc(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return dm(e).X(((o,a)=>{const s=mp(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>Du.waitFor(i))).next((()=>r))}forEachTarget(e,t){return dm(e).X(((e,n)=>{const r=mp(n);t(r)}))}$n(e){return fm(e).get("targetGlobalKey").next((e=>(Xc(null!==e),e)))}On(e,t){return fm(e).put("targetGlobalKey",t)}Fn(e,t){return dm(e).put(gp(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Vh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return dm(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=mp(n);zh(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=pm(e);return t.forEach((t=>{const o=Yu(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Du.waitFor(r)}removeMatchingKeys(e,t,n){const r=pm(e);return Du.forEach(t,(t=>{const i=Yu(t.path);return Du.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=pm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pm(e);let i=Sd();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Ju(e[1]),o=new wu(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Yu(t.path),r=IDBKeyRange.bound([n],[fu(n)],!1,!0);let i=0;return pm(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return dm(e).get(t).next((e=>e?mp(e):null))}}function dm(e){return El(e,"targets")}function fm(e){return El(e,"targetGlobal")}function pm(e){return El(e,"targetDocuments")}function mm(e,t){let[n,r]=e,[i,o]=t;const a=hu(n,i);return 0===a?hu(r,o):a}class gm{constructor(e){this.Ln=e,this.buffer=new Al(mm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ym{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Gc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fu(e)?Gc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ru(e)}await this.Qn(3e5)}))}}class vm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Du.resolve(Gu.ct);const n=new gm(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Gc("LruGarbageCollector","Garbage collection skipped; disabled"),Du.resolve(tm)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Gc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tm):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,a,s,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Gc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Wc()<=Tt.DEBUG&&Gc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-s)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Du.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function bm(e,t){return new vm(e,t)}class wm{constructor(e,t){this.db=e,this.garbageCollector=bm(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return _m(e,n)}removeReference(e,t,n){return _m(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _m(e,t)}Xn(e,t){return function(e,t){let n=!1;return um(e).Z((r=>am(e,r,t).next((e=>(e&&(n=!0),Du.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,mu.min()),pm(e).delete([0,Yu(o.path)]))))}));r.push(t)}})).next((()=>Du.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _m(e,t)}Yn(e,t){const n=pm(e);let r,i=Gu.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:c}=n;0===o?(i!==Gu.ct&&t(new wu(Ju(r)),i),i=c,r=s):i=Gu.ct})).next((()=>{i!==Gu.ct&&t(new wu(Ju(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(e,t){return pm(e).put(function(e,t){return{targetId:0,path:Yu(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sm{constructor(){this.changes=new hd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ph.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Du.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Em{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Om(e).put(n)}removeEntry(e,t,n){return Om(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],hp(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=ph.newInvalidDocument(t);return Om(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cm(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:ph.newInvalidDocument(t)};return Om(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cm(t))},((e,r)=>{n={document:this.ts(t,r),size:im(r)}})).next((()=>n))}getEntries(e,t){let n=fd();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=fd(),r=new Ol(wu.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,im(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Du.resolve();let r=new Al(Am);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Cm(r.first()),Cm(r.last())),o=r.getIterator();let a=o.getNext();return Om(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=wu.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Am(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(Cm(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),hp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Om(e).j(IDBKeyRange.bound(o,a,!0)).next((e=>{let n=fd();for(const i of e){const e=this.ts(wu.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(sd(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=fd();const o=km(t,n),a=km(t,Cu.max());return Om(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ts(wu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Tm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Im(e).get("remoteDocumentGlobalKey").next((e=>(Xc(!!e),e)))}Zn(e,t){return Im(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Kf(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=wu.fromSegments(t.noDocument.path),r=fp(t.noDocument.readTime);n=ph.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yc();{const e=wu.fromSegments(t.unknownDocument.path),r=fp(t.unknownDocument.version);n=ph.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new pu(e[0],e[1]);return mu.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(mu.min()))return e}return ph.newInvalidDocument(e)}}function xm(e){return new Em(e)}class Tm extends Sm{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new hd((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Al(((e,t)=>hu(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=lp(this.os.serializer,o);r=r.add(i.path.popLast());const c=im(s);n+=c-a.size,t.push(this.os.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=lp(this.os.serializer,o.convertToNoDocument(mu.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Du.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Im(e){return El(e,"remoteDocumentGlobal")}function Om(e){return El(e,"remoteDocumentsV14")}function Cm(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function km(e,t){const n=t.documentKey.path.toArray();return[e,hp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Am(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=hu(n[o],r[o]),i)return i;return i=hu(n.length,r.length),i||(i=hu(n[n.length-2],r[r.length-2]),i||hu(n[n.length-1],r[r.length-1]))}class Pm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Kd(n.mutation,e,Dl.empty(),pu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Sd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sd();const r=yd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=md();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=yd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Sd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=fd();const o=bd(),a=bd();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $d)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Kd(a.mutation,t,a.mutation.getFieldMask(),pu.now())):o.set(t.key,Dl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Pm(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=bd();let r=new Ol(((e,t)=>e-t)),i=Sd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Dl.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Sd()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,c=r.value,u=vd();c.forEach((e=>{if(!i.has(e)){const r=Gd(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Du.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return wu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Du.resolve(yd());let a=-1,s=i;return o.next((t=>Du.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Du.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Sd()))).next((e=>({batchId:a,changes:gd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wu(t)).next((e=>{let t=md();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=md();return this.indexManager.getCollectionParents(e,r).next((o=>Du.forEach(o,(o=>{const a=function(e,t){return new Kh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ph.newInvalidDocument(r)))}));let n=md();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Kd(o.mutation,i,Dl.empty(),pu.now()),sd(t,i)&&(n=n.insert(e,i))})),n}))}}class Dm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Du.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Lf(n.createTime)}),Du.resolve()}getNamedQuery(e,t){return Du.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:yp(e.bundledQuery),readTime:Lf(e.readTime)}}(t)),Du.resolve()}}class Nm{constructor(){this.overlays=new Ol(wu.comparator),this.ls=new Map}getOverlay(e,t){return Du.resolve(this.overlays.get(t))}getOverlays(e,t){const n=yd();return Du.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Du.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Du.resolve()}getOverlaysForCollection(e,t,n){const r=yd(),i=t.length+1,o=new wu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Du.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ol(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=yd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=yd(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Du.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new af(t,n));let i=this.ls.get(t);void 0===i&&(i=Sd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Mm{constructor(){this.fs=new Al(jm.ds),this.ws=new Al(jm._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new jm(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new jm(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new wu(new yu([])),n=new jm(t,e),r=new jm(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new wu(new yu([])),n=new jm(t,e),r=new jm(t,e+1);let i=Sd();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new jm(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jm{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return wu.comparator(e.key,t.key)||hu(e.As,t.As)}static _s(e,t){return hu(e.As,t.As)||wu.comparator(e.key,t.key)}}class Lm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Al(jm.ds)}checkEmpty(e){return Du.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rf(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new jm(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Du.resolve(o)}lookupMutationBatch(e,t){return Du.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Du.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Du.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Du.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jm(t,0),r=new jm(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Du.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Al(hu);return t.forEach((e=>{const t=new jm(e,0),r=new jm(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Du.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;wu.isDocumentKey(i)||(i=i.child(""));const o=new jm(new wu(i),0);let a=new Al(hu);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Du.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Du.forEach(t.mutations,(r=>{const i=new jm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new jm(t,0),r=this.Rs.firstAfterOrEqual(n);return Du.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Du.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fm{constructor(e){this.Ds=e,this.docs=new Ol(wu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Du.resolve(n?n.document.mutableCopy():ph.newInvalidDocument(t))}getEntries(e,t){let n=fd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ph.newInvalidDocument(e))})),Du.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=fd();const o=t.path,a=new wu(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ku(Ou(a),n)<=0||(r.has(a.key)||sd(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Du.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Yc()}Cs(e,t){return Du.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Um(this)}getSize(e){return Du.resolve(this.size)}}class Um extends Sm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Du.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Bm{constructor(e){this.persistence=e,this.xs=new hd((e=>Vh(e)),zh),this.lastRemoteSnapshotVersion=mu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mm,this.targetCount=0,this.Ms=lm.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Du.resolve()}getLastRemoteSnapshotVersion(e){return Du.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Du.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Du.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Du.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Du.resolve()}updateTargetData(e,t){return this.Fn(t),Du.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Du.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Du.waitFor(i).next((()=>r))}getTargetCount(e){return Du.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Du.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Du.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Du.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Du.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Du.resolve(n)}containsKey(e,t){return Du.resolve(this.ks.containsKey(t))}}class Vm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bm(this),this.indexManager=new Hp,this.remoteDocumentCache=function(e){return new Fm(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new up(t),this.qs=new Dm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Lm(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Gc("MemoryPersistence","Starting transaction:",e);const r=new zm(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Du.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class zm extends Pu{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Qs=new Mm,this.js=null}static zs(e){return new qm(e)}get Ws(){if(this.js)return this.js;throw Yc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Du.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Du.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Du.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Du.forEach(this.Ws,(n=>{const r=wu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,mu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Du.or([()=>Du.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Wm{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Nu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zu,{unique:!0}),e.createObjectStore("documentMutations")}(e),Gm(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Du.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Gm(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zu,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Du.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:pl});t.createIndex("collectionPathOverlayIndex",ml,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",gl,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:rl});t.createIndex("documentKeyIndex",il),t.createIndex("collectionGroupIndex",ol)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ll}).createIndex("sequenceNumberIndex",hl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:dl}).createIndex("documentKeyIndex",fl,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=im(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Du.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Du.forEach(n,(n=>{Xc(n.userId===t.userId);const r=pp(this.serializer,n);return rm(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new yu(n),a=function(e){return[0,Yu(e)]}(o);r.push(t.get(a).next((n=>n?Du.resolve():(n=>t.put({targetId:0,path:Yu(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Du.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ul});const n=t.store("collectionParents"),r=new Kp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Yu(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new yu(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const a=Ju(r);return i(a.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=mp(n),i=gp(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(a=n,a.document?new wu(yu.fromString(a.document.name).popFirst(5)):a.noDocument?wu.fromSegments(a.noDocument.path):a.unknownDocument?wu.fromSegments(a.unknownDocument.path):Yc()).path.toArray();var a;const s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Du.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=xm(this.serializer),i=new Vm(qm.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Sd();pp(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Du.forEach(n,((e,n)=>{const o=new Vc(n),a=xp.de(this.serializer,o),s=i.getIndexManager(o),c=om.de(o,this.serializer,s,i.referenceDelegate);return new Rm(r,c,a,s).recalculateAndSaveOverlaysForDocumentKeys(new Sl(t,Gu.ct),e).next()}))}))}}function Gm(e){e.createObjectStore("targetDocuments",{keyPath:sl}).createIndex("documentTargetsIndex",cl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",al,{unique:!0}),e.createObjectStore("targetGlobal")}const Hm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Km{constructor(e,t,n,r,i,o,a,s,c,u){let l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=a,this.ri=c,this.oi=u,this.ui=l,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Km.D())throw new Zc(Jc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wm(this,r),this.di=t+"main",this.serializer=new up(s),this.wi=new Mu(this.di,this.ui,new Wm(this.serializer)),this.Bs=new hm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xm(this.serializer),this.qs=new _p,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Hc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zc(Jc.FAILED_PRECONDITION,Hm);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Gu(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ym(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Fu(e))return Gc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Gc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Qm(e).get("owner").next((e=>Du.resolve(this.Ri(e))))}Pi(e){return Ym(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=El(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Du.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Du.resolve(!0):Qm(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Zc(Jc.FAILED_PRECONDITION,Hm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ym(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Gc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Sl(e,Gu.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Ym(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return om.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yp(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Gc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?_l:14===o?wl:13===o?bl:12===o?vl:11===o?yl:void Yc();var o;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new Sl(r,this.Os?this.Os.next():Gu.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw Hc("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Zc(Jc.FAILED_PRECONDITION,Au);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return Qm(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Zc(Jc.FAILED_PRECONDITION,Hm)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qm(e).put("owner",t)}static D(){return Mu.D()}Ai(e){const t=Qm(e);return t.get("owner").next((e=>this.Ri(e)?(Gc("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Du.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Hc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Gc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Hc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Hc("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Qm(e){return El(e,"owner")}function Ym(e){return El(e,"clientMetadata")}function Xm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class $m{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Sd(),r=Sd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new $m(e,t.fromCache,n,r)}}class Jm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Xh(t))return Du.resolve(null);let n=td(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=rd(t,null,"F"),n=td(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Sd(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,rd(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Xh(t)||r.isEqual(mu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Wc()<=Tt.DEBUG&&Gc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ad(t)),this.Wi(e,o,t,Iu(r,-1)))}))}ji(e,t){let n=new Al(ud(e));return t.forEach(((t,r)=>{sd(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Wc()<=Tt.DEBUG&&Gc("QueryEngine","Using full collection scan to execute query:",ad(t)),this.Ui.getDocumentsMatchingQuery(e,t,Cu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Zm{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ol(hu),this.Yi=new hd((e=>Vh(e)),zh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function eg(e,t,n,r){return new Zm(e,t,n,r)}async function tg(e,t){const n=$c(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Sd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ng(e){const t=$c(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function rg(e,t,n){let r=Sd(),i=Sd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=fd();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(mu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Gc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function ig(e,t){const n=$c(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function og(e,t){const n=$c(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Du.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new cp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ag(e,t,n){const r=$c(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fu(e))throw e;Gc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function sg(e,t,n){const r=$c(e);let i=mu.min(),o=Sd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=$c(e),i=r.Yi.get(n);return void 0!==i?Du.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,td(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:mu.min(),n?o:Sd()))).next((e=>(lg(r,cd(t),e),{documents:e,ir:o})))))}function cg(e,t){const n=$c(e),r=$c(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function ug(e,t){const n=$c(e),r=n.Xi.get(t)||mu.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Iu(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(lg(n,t,e),e)))}function lg(e,t,n){let r=e.Xi.get(t)||mu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function hg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sd();const r=await og(e,td(yp(t.bundledQuery))),i=$c(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Lf(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken(Ml.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function dg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fg(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class mg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Zc(r.error.code,r.error.message))),o?new mg(e,t,r.state,i):(Hc("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Zc(n.error.code,n.error.message))),i?new gg(e,n.state,r):(Hc("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=xd();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Qu(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new yg(e,i):(Hc("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class vg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vg(t.clientId,t.onlineState):(Hc("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class bg{constructor(){this.activeTargetIds=xd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wg{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ol(hu),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=dg(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new bg),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(dg(this.persistenceKey,n));if(e){const t=yg.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(pg(this.persistenceKey,e));if(n){const r=gg.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pg(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Gc("SharedClientState","READ",e,t),t}setItem(e,t){Gc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Gc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Gc("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Hc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Gu.ct;if(null!=e)try{const n=JSON.parse(e);Xc("number"==typeof n),t=n}catch(e){Hc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Gu.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new mg(this.currentUser,e,t,n),i=fg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=fg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=pg(this.persistenceKey,e),i=new gg(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return yg.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mg.ar(new Vc(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return gg.ar(r,t)}br(e){return vg.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Gc("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(o,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=xd();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class _g{constructor(){this.Hr=new bg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sg{Yr(e){}shutdown(){}}class Eg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Gc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Gc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xg=null;function Tg(){return null===xg?xg=268435456+Math.round(2147483648*Math.random()):xg++,"0x"+xg.toString(16)}const Ig={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Og{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cg="WebChannelConnection";class kg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Tg(),a=this.To(e,t);Gc("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(Gc("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Kc("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Ig[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Tg();return new Promise(((o,a)=>{const s=new Lc;s.setWithCredentials(!0),s.listenOnce(Rc.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Pc.NO_ERROR:const t=s.getResponseJson();Gc(Cg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Pc.TIMEOUT:Gc(Cg,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Zc(Jc.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const n=s.getStatus();if(Gc(Cg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jc).indexOf(t)>=0?t:Jc.UNKNOWN}(t.status);a(new Zc(e,t.message))}else a(new Zc(Jc.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Zc(Jc.UNAVAILABLE,"Connection failed."));break;default:Yc()}}finally{Gc(Cg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Gc(Cg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",c,n,15)}))}Ro(e,t,n){const r=Tg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kc(),a=Ac(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.xmlHttpFactory=new Mc({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=i.join("");Gc(Cg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);const l=o.createWebChannel(u,s);let h=!1,d=!1;const f=new Og({ro:t=>{d?Gc(Cg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Gc(Cg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:()=>l.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(l,jc.EventType.OPEN,(()=>{d||Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,jc.EventType.CLOSE,(()=>{d||(d=!0,Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(l,jc.EventType.ERROR,(t=>{d||(d=!0,Kc(Cg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Zc(Jc.UNAVAILABLE,"The operation could not be completed")))})),p(l,jc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Xc(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=cf[e];if(void 0!==t)return hf(t)}(t),i=a.message;void 0===n&&(n=Jc.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Zc(n,i)),l.close()}else Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(a,Dc.STAT_EVENT,(t=>{t.stat===Nc.PROXY?Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Nc.NOPROXY&&Gc(Cg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Ag(){return"undefined"!=typeof window?window:null}function Pg(){return"undefined"!=typeof document?document:null}function Rg(e){return new Rf(e,!0)}class Dg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Gc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ng{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Jc.RESOURCE_EXHAUSTED?(Hc(t.toString()),Hc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Jc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Zc(Jc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Gc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Gc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mg extends Ng{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Xc(void 0===t||"string"==typeof t),Ml.fromBase64String(t||"")):(Xc(void 0===t||t instanceof Uint8Array),Ml.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Jc.UNKNOWN:hf(e.code);return new Zc(t,e.message||"")}(a);n=new xf(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vf(e,r.document.name),o=Lf(r.document.updateTime),a=r.document.createTime?Lf(r.document.createTime):mu.min(),s=new dh({mapValue:{fields:r.document.fields}}),c=ph.newFoundDocument(i,o,a,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Sf(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vf(e,r.document),o=r.readTime?Lf(r.readTime):mu.min(),a=ph.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Sf([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vf(e,r.document),o=r.removedTargetIds||[];n=new Sf([],o,i,null)}else{if(!("filter"in t))return Yc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new sf(r,i),a=e.targetId;n=new Ef(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return mu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?mu.min():t.readTime?Lf(t.readTime):mu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Wf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=qh(r)?{documents:Xf(e,r)}:{query:$f(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mf(e,t.resumeToken);const r=Df(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(mu.min())>0){n.readTime=Nf(e,t.snapshotVersion.toTimestamp());const r=Df(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Wf(this.serializer),t.removeTarget=e,this.Wo(t)}}class jg extends Ng{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Xc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Xc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Lf(e.updateTime):Lf(t);return n.isEqual(mu.min())&&(n=Lf(t)),new Vd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Lf(e.commitTime);return this.listener.cu(n,t)}return Xc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Qf(this.serializer,e)))};this.Wo(t)}}class Lg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zc(Jc.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zc(Jc.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Fg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Hc(t),this.mu=!1):Gc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ug{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Qg(this)&&(Gc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=$c(e);t.vu.add(4),await Vg(t),t.bu.set("Unknown"),t.vu.delete(4),await Bg(t)}(this))}))})),this.bu=new Fg(n,r)}}async function Bg(e){if(Qg(e))for(const t of e.Ru)await t(!0)}async function Vg(e){for(const t of e.Ru)await t(!1)}function zg(e,t){const n=$c(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Kg(n)?Hg(n):dy(n).Ko()&&Wg(n,t))}function qg(e,t){const n=$c(e),r=dy(n);n.Au.delete(t),r.Ko()&&Gg(n,t),0===n.Au.size&&(r.Ko()?r.jo():Qg(n)&&n.bu.set("Unknown"))}function Wg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dy(e).su(t)}function Gg(e,t){e.Vu.qt(t),dy(e).iu(t)}function Hg(e){e.Vu=new If({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),dy(e).start(),e.bu.gu()}function Kg(e){return Qg(e)&&!dy(e).Uo()&&e.Au.size>0}function Qg(e){return 0===$c(e).vu.size}function Yg(e){e.Vu=void 0}async function Xg(e){e.Au.forEach(((t,n)=>{Wg(e,t)}))}async function $g(e,t){Yg(e),Kg(e)?(e.bu.Iu(t),Hg(e)):e.bu.set("Unknown")}async function Jg(e,t,n){if(e.bu.set("Online"),t instanceof xf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Gc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zg(e,n)}else if(t instanceof Sf?e.Vu.Ht(t):t instanceof Ef?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(mu.min()))try{const t=await ng(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Ml.EMPTY_BYTE_STRING,r.snapshotVersion)),Gg(e,t);const i=new cp(r.target,t,n,r.sequenceNumber);Wg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Gc("RemoteStore","Failed to raise snapshot:",t),await Zg(e,t)}}async function Zg(e,t,n){if(!Fu(t))throw t;e.vu.add(1),await Vg(e),e.bu.set("Offline"),n||(n=()=>ng(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Gc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Bg(e)}))}function ey(e,t){return t().catch((n=>Zg(e,n,t)))}async function ty(e){const t=$c(e),n=fy(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;ny(t);)try{const e=await ig(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,ry(t,e)}catch(e){await Zg(t,e)}iy(t)&&oy(t)}function ny(e){return Qg(e)&&e.Eu.length<10}function ry(e,t){e.Eu.push(t);const n=fy(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function iy(e){return Qg(e)&&!fy(e).Uo()&&e.Eu.length>0}function oy(e){fy(e).start()}async function ay(e){fy(e).hu()}async function sy(e){const t=fy(e);for(const n of e.Eu)t.uu(n.mutations)}async function cy(e,t,n){const r=e.Eu.shift(),i=of.from(r,t,n);await ey(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ty(e)}async function uy(e,t){t&&fy(e).ou&&await async function(e,t){if(lf(n=t.code)&&n!==Jc.ABORTED){const n=e.Eu.shift();fy(e).Qo(),await ey(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ty(e)}var n}(e,t),iy(e)&&oy(e)}async function ly(e,t){const n=$c(e);n.asyncQueue.verifyOperationInProgress(),Gc("RemoteStore","RemoteStore received new credentials");const r=Qg(n);n.vu.add(3),await Vg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Bg(n)}async function hy(e,t){const n=$c(e);t?(n.vu.delete(2),await Bg(n)):t||(n.vu.add(2),await Vg(n),n.bu.set("Unknown"))}function dy(e){return e.Su||(e.Su=function(e,t,n){const r=$c(e);return r.fu(),new Mg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Xg.bind(null,e),ao:$g.bind(null,e),nu:Jg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Kg(e)?Hg(e):e.bu.set("Unknown")):(await e.Su.stop(),Yg(e))}))),e.Su}function fy(e){return e.Du||(e.Du=function(e,t,n){const r=$c(e);return r.fu(),new jg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ay.bind(null,e),ao:uy.bind(null,e),au:sy.bind(null,e),cu:cy.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await ty(e)):(await e.Du.stop(),e.Eu.length>0&&(Gc("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class py{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new py(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zc(Jc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(e,t){if(Hc("AsyncQueue","".concat(t,": ").concat(e)),Fu(e))return new Zc(Jc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gy{constructor(e){this.comparator=e?(t,n)=>e(t,n)||wu.comparator(t.key,n.key):(e,t)=>wu.comparator(e.key,t.key),this.keyedMap=md(),this.sortedSet=new Ol(this.comparator)}static emptySet(e){return new gy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class yy{constructor(){this.Cu=new Ol(wu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Yc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class vy{constructor(e,t,n,r,i,o,a,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new vy(e,t,gy.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class by{constructor(){this.Nu=void 0,this.listeners=[]}}class wy{constructor(){this.queries=new hd((e=>od(e)),id),this.onlineState="Unknown",this.ku=new Set}}async function _y(e,t){const n=$c(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new by),i)try{o.Nu=await n.onListen(r)}catch(e){const n=my(e,"Initialization of query '".concat(ad(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Ty(n)}async function Sy(e,t){const n=$c(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ey(e,t){const n=$c(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Ty(n)}function xy(e,t,n){const r=$c(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Ty(e){e.ku.forEach((e=>{e.next()}))}class Iy{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=vy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Oy{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Cy{constructor(e){this.serializer=e}rr(e){return Vf(this.serializer,e)}ur(e){return e.metadata.exists?Kf(this.serializer,e.document,!1):ph.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Lf(e)}}class ky{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ay(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=yu.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new Cy(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Sd()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=$c(e);let o=Sd(),a=fd();for(const u of n){const e=t.rr(u.metadata.name);u.document&&(o=o.add(e));const n=t.ur(u);n.setReadTime(t.cr(u.metadata.readTime)),a=a.insert(e,n)}const s=i.Zi.newChangeBuffer({trackRemovals:!0}),c=await og(i,function(e){return td(Yh(yu.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>rg(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Bs.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new Cy(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await hg(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Ay(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Py{constructor(e){this.key=e}}class Ry{constructor(e){this.key=e}}class Dy{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Sd(),this.mutatedKeys=Sd(),this.tc=ud(e),this.ec=new gy(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new yy,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=sd(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.rc(u,l)||(n.track({type:2,doc:l}),f=!0,(s&&this.tc(l,s)>0||c&&this.tc(l,c)<0)&&(a=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(s||c)&&(a=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new vy(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Sd(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Ry(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Py(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Sd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ny{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class My{constructor(e){this.key=e,this.fc=!1}}class jy{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hd((e=>od(e)),id),this._c=new Map,this.mc=new Set,this.gc=new Ol(wu.comparator),this.yc=new Map,this.Ic=new Mm,this.Tc={},this.Ec=new Map,this.Ac=lm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ly(e,t){const n=uv(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await og(n.localStore,td(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Fy(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&zg(n.remoteStore,e)}return i}async function Fy(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await sg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Yy(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await sg(e.localStore,t,!0),a=new Dy(t,o.ir),s=a.sc(o.documents),c=_f.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,c);Yy(e,n,u.cc);const l=new Ny(t,n,a);return e.wc.set(t,l),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function Uy(e,t){const n=$c(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!id(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ag(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),qg(n.remoteStore,r.targetId),Ky(n,r.targetId)})).catch(Ru)):(Ky(n,r.targetId),await ag(n.localStore,r.targetId,!0))}async function By(e,t){const n=$c(e);try{const e=await function(e,t){const n=$c(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const c=i.get(s);if(!c)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(Ml.EMPTY_BYTE_STRING,mu.min()).withLastLimboFreeSnapshotVersion(mu.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&a.push(n.Bs.updateTargetData(e,u))}));let s=fd(),c=Sd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rg(e,o,t.documentUpdates).next((e=>{s=e.nr,c=e.sr}))),!r.isEqual(mu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Du.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Xc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Xc(r.fc):e.removedDocuments.size>0&&(Xc(r.fc),r.fc=!1))})),await Jy(n,e,t)}catch(e){await Ru(e)}}function Vy(e,t,n){const r=$c(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$c(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Ty(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zy(e,t,n){const r=$c(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new Ol(wu.comparator);e=e.insert(o,ph.newNoDocument(o,mu.min()));const n=Sd().add(o),i=new wf(mu.min(),new Map,new Ol(hu),e,n);await By(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),$y(r)}else await ag(r.localStore,t,!1).then((()=>Ky(r,t,n))).catch(Ru)}async function qy(e,t){const n=$c(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$c(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Du.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Xc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Sd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Hy(n,r,null),Gy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jy(n,e)}catch(e){await Ru(e)}}async function Wy(e,t,n){const r=$c(e);try{const e=await function(e,t){const n=$c(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Hy(r,t,n),Gy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jy(r,e)}catch(n){await Ru(n)}}function Gy(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Hy(e,t,n){const r=$c(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Ky(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Qy(e,t)}))}function Qy(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(qg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),$y(e))}function Yy(e,t,n){for(const r of n)r instanceof Py?(e.Ic.addReference(r.key,t),Xy(e,r)):r instanceof Ry?(Gc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Qy(e,r.key)):Yc()}function Xy(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Gc("SyncEngine","New document in limbo: "+n),e.mc.add(r),$y(e))}function $y(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new wu(yu.fromString(t)),r=e.Ac.next();e.yc.set(r,new My(n)),e.gc=e.gc.insert(n,r),zg(e.remoteStore,new cp(td(Yh(n.path)),r,"TargetPurposeLimboResolution",Gu.ct))}}async function Jy(e,t,n){const r=$c(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=$m.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=$c(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Du.forEach(t,(t=>Du.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Du.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fu(e))throw e;Gc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Zy(e,t){const n=$c(e);if(!n.currentUser.isEqual(t)){Gc("SyncEngine","User change. New user:",t.toKey());const e=await tg(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Zc(Jc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jy(n,e.er)}}function ev(e,t){const n=$c(e),r=n.yc.get(t);if(r&&r.fc)return Sd().add(r.key);{let e=Sd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function tv(e,t){const n=$c(e),r=await sg(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&Yy(n,t.targetId,i.cc),i}async function nv(e,t){const n=$c(e);return ug(n.localStore,t).then((e=>Jy(n,e)))}async function rv(e,t,n,r){const i=$c(e),o=await function(e,t){const n=$c(e),r=$c(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Du.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await ty(i.remoteStore):"acknowledged"===n||"rejected"===n?(Hy(i,t,r||null),Gy(i,t),function(e,t){$c($c(e).mutationQueue).Cn(t)}(i.localStore,t)):Yc(),await Jy(i,o)):Gc("SyncEngine","Cannot apply mutation batch with id: "+t)}async function iv(e,t,n){const r=$c(e),i=[],o=[];for(const a of t){let e;const t=r._c.get(a);if(t&&0!==t.length){e=await og(r.localStore,td(t[0]));for(const e of t){const t=r.wc.get(e),n=await tv(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await cg(r.localStore,a);e=await og(r.localStore,t),await Fy(r,ov(t),a,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function ov(e){return Qh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function av(e){const t=$c(e);return $c($c(t.localStore).persistence).$i()}async function sv(e,t,n,r){const i=$c(e);if(i.vc)return void Gc("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await ug(i.localStore,cd(o[0])),r=wf.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ml.EMPTY_BYTE_STRING);await Jy(i,e,r);break}case"rejected":await ag(i.localStore,t,!0),Ky(i,t,r);break;default:Yc()}}async function cv(e,t,n){const r=uv(e);if(r.vc){for(const e of t){if(r._c.has(e)){Gc("SyncEngine","Adding an already active target "+e);continue}const t=await cg(r.localStore,e),n=await og(r.localStore,t);await Fy(r,ov(t),n.targetId,!1,n.resumeToken),zg(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await ag(r.localStore,e,!1).then((()=>{qg(r.remoteStore,e),Ky(r,e)})).catch(Ru)}}function uv(e){const t=$c(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=By.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ev.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zy.bind(null,t),t.dc.nu=Ey.bind(null,t.eventManager),t.dc.Pc=xy.bind(null,t.eventManager),t}function lv(e){const t=$c(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wy.bind(null,t),t}class hv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return eg(this.persistence,new Jm,e.initialUser,this.serializer)}createPersistence(e){return new Vm(qm.zs,this.serializer)}createSharedClientState(e){return new _g}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dv extends hv{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await lv(this.Vc.syncEngine),await ty(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return eg(this.persistence,new Jm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ym(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Wu(t,this.persistence);return new qu(e.asyncQueue,n)}createPersistence(e){const t=Xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nm.withCacheSize(this.cacheSizeBytes):nm.DEFAULT;return new Km(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ag(),Pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _g}}class fv extends dv{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof wg&&(this.sharedClientState.syncEngine={jr:rv.bind(null,t),zr:sv.bind(null,t),Wr:cv.bind(null,t),$i:av.bind(null,t),Qr:nv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=$c(e);if(uv(n),lv(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await iv(n,e.toArray());n.vc=!0,await hy(n.remoteStore,!0);for(const r of t)zg(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ky(n,i),ag(n.localStore,i,!0)))),qg(n.remoteStore,i)})),await t,await iv(n,e),function(e){const t=$c(e);t.yc.forEach(((e,n)=>{qg(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Ol(wu.comparator)}(n),n.vc=!1,await hy(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ag();if(!wg.D(t))throw new Zc(Jc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zy.bind(null,this.syncEngine),await hy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wy}createDatastore(e){const t=Rg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new kg(r));var r;return function(e,t,n,r){return new Lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Vy(this.syncEngine,e,0),o=Eg.D()?new Eg:new Sg,new Ug(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new jy(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=$c(e);Gc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Vg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function mv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Hc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class yv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new eu,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new Oy(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class vv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Zc(Jc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=$c(e),r=Wf(n.serializer)+"/documents",i={documents:t.map((e=>Bf(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Xc(!!t.found),t.found.name,t.found.updateTime;const n=Vf(e,t.found.name),r=Lf(t.found.updateTime),i=t.found.createTime?Lf(t.found.createTime):mu.min(),o=new dh({mapValue:{fields:t.found.fields}});return ph.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Xc(!!t.missing),Xc(!!t.readTime);const n=Vf(e,t.missing),r=Lf(t.readTime);return ph.newNoDocument(n,r)}(e,t):Yc()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());Xc(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new tf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=wu.fromPath(t);this.mutations.push(new nf(n,this.precondition(n)))})),await async function(e,t){const n=$c(e),r=Wf(n.serializer)+"/documents",i={writes:t.map((e=>Qf(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yc();t=mu.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zc(Jc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mu.min())?zd.exists(!1):zd.updateTime(t):zd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mu.min()))throw new Zc(Jc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zd.updateTime(t)}return zd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bv{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Dg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new vv(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Hu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!lf(t)}return!1}}class wv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vc.UNAUTHENTICATED,this.clientId=lu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Gc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Gc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=my(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function _v(e,t){e.asyncQueue.verifyOperationInProgress(),Gc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xv(e);Gc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ly(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ly(t.remoteStore,n))),e._onlineComponents=t}function Ev(e){return"FirebaseError"===e.name?e.code===Jc.FAILED_PRECONDITION||e.code===Jc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function xv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gc("FirestoreClient","Using user provided OfflineComponentProvider");try{await _v(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Ev(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),await _v(e,new hv)}}else Gc("FirestoreClient","Using default OfflineComponentProvider"),await _v(e,new hv);return e._offlineComponents}async function Tv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gc("FirestoreClient","Using user provided OnlineComponentProvider"),await Sv(e,e._uninitializedComponentsProvider._online)):(Gc("FirestoreClient","Using default OnlineComponentProvider"),await Sv(e,new pv))),e._onlineComponents}function Iv(e){return xv(e).then((e=>e.persistence))}function Ov(e){return xv(e).then((e=>e.localStore))}function Cv(e){return Tv(e).then((e=>e.remoteStore))}function kv(e){return Tv(e).then((e=>e.syncEngine))}function Av(e){return Tv(e).then((e=>e.datastore))}async function Pv(e){const t=await Tv(e),n=t.eventManager;return n.onListen=Ly.bind(null,t.syncEngine),n.onUnlisten=Uy.bind(null,t.syncEngine),n}function Rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gv({next:o=>{t.enqueueAndForget((()=>Sy(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Zc(Jc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Iy(Yh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return _y(e,a)}(await Pv(e),e.asyncQueue,t,n,r))),r.promise}function Dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gv({next:n=>{t.enqueueAndForget((()=>Sy(e,a))),n.fromCache&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Iy(n,o,{includeMetadataChanges:!0,Ku:!0});return _y(e,a)}(await Pv(e),e.asyncQueue,t,n,r))),r.promise}function Nv(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?pf().encode(e):e,function(e,t){return new yv(e,t)}(function(e,t){if(e instanceof Uint8Array)return mv(e,t);if(e instanceof ArrayBuffer)return mv(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Rg(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=$c(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=$c(e),r=Lf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ay(r));const i=new ky(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const a=await i.complete();return await Jy(e,a.Ju,void 0),await function(e,t){const n=$c(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return Kc("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await kv(e),i,r)}))}function Mv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jv=new Map;function Lv(e,t,n){if(!n)throw new Zc(Jc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fv(e,t,n,r){if(!0===t&&!0===r)throw new Zc(Jc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Uv(e){if(!wu.isDocumentKey(e))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bv(e){if(wu.isDocumentKey(e))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Yc()}function zv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zc(Jc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(e);throw new Zc(Jc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function qv(e,t){if(t<=0)throw new Zc(Jc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Wv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zc(Jc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zc(Jc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zc(Jc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zc(Jc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zc(Jc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Gv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nu;switch(e.type){case"firstParty":return new au(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zc(Jc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jv.get(e);t&&(Gc("ComponentProvider","Removing Datastore"),jv.delete(e),t.terminate())}(this),Promise.resolve()}}function Hv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=zv(e,Gv))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vc.MOCK_USER;else{t=Re(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Zc(Jc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vc(o)}e._authCredentials=new ru(new tu(t,n))}}class Kv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kv(this.firestore,e,this._key)}}class Qv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qv(this.firestore,e,this._query)}}class Yv extends Qv{constructor(e,t,n){super(e,t,Yh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kv(this.firestore,null,new wu(e))}withConverter(e){return new Yv(this.firestore,e,this._path)}}function Xv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),Lv("collection","path",t),e instanceof Gv){const n=yu.fromString(t,...r);return Bv(n),new Yv(e,null,n)}{if(!(e instanceof Kv||e instanceof Yv))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yu.fromString(t,...r));return Bv(n),new Yv(e.firestore,null,n)}}function $v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),1===arguments.length&&(t=lu.A()),Lv("doc","path",t),e instanceof Gv){const n=yu.fromString(t,...r);return Uv(n),new Kv(e,null,new wu(n))}{if(!(e instanceof Kv||e instanceof Yv))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yu.fromString(t,...r));return Uv(n),new Kv(e.firestore,e instanceof Yv?e.converter:null,new wu(n))}}function Jv(e,t){return e=vt(e),t=vt(t),(e instanceof Kv||e instanceof Yv)&&(t instanceof Kv||t instanceof Yv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Zv(e,t){return e=vt(e),t=vt(t),e instanceof Qv&&t instanceof Qv&&e.firestore===t.firestore&&id(e._query,t._query)&&e.converter===t.converter}class eb{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dg(this,"async_queue_retry"),this.Xc=()=>{const e=Pg();e&&Gc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new eu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Fu(e))throw e;Gc("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Hc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=py.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Yc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class nb{constructor(){this._progressObserver={},this._taskCompletionResolver=new eu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rb extends Gv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new eb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}function ib(e){return e._firestoreClient||ob(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ob(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ql(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Mv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new wv(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function ab(e,t,n){const r=new eu;return e.asyncQueue.enqueue((async()=>{try{await _v(e,n),await Sv(e,t),r.resolve()}catch(e){const n=e;if(!Ev(n))throw n;Kc("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function sb(e){return function(e){const t=new eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=$c(e);Qg(n.remoteStore)||Gc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=$c(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=my(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await kv(e),t))),t.promise}(ib(e=zv(e,rb)))}function cb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Iv(e),n=await Cv(e);return t.setNetworkEnabled(!0),function(e){const t=$c(e);return t.vu.delete(0),Bg(t)}(n)}))}(ib(e=zv(e,rb)))}function ub(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Iv(e),n=await Cv(e);return t.setNetworkEnabled(!1),async function(e){const t=$c(e);t.vu.add(0),await Vg(t),t.bu.set("Offline")}(n)}))}(ib(e=zv(e,rb)))}function lb(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=$c(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await Ov(e),t)))}(ib(e=zv(e,rb)),t).then((t=>t?new Qv(e,null,t.query):null))}function hb(e){if(e._initialized||e._terminated)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class db{constructor(e){this._byteString=e}static fromBase64String(e){try{return new db(Ml.fromBase64String(e))}catch(e){throw new Zc(Jc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new db(Ml.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pb{constructor(e){this._methodName=e}}class mb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zc(Jc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zc(Jc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hu(this._lat,e._lat)||hu(this._long,e._long)}}const gb=/^__.*__$/;class yb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $d(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xd(e,this.data,t,this.fieldTransforms)}}class vb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yc()}}class wb{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(bb(this.ca)&&gb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _b{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wb({ca:e,methodName:t,ga:n,path:bu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sb(e){const t=e._freezeSettings(),n=Rg(e._databaseId);return new _b(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Eb(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);jb("Data must be an object, but it was:",a,r);const s=Nb(r,a);let c,u;if(o.merge)c=new Dl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Lb(t,r,n);if(!a.contains(i))throw new Zc(Jc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Vb(e,i)||e.push(i)}c=new Dl(e),u=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=a.fieldTransforms;return new yb(new dh(s),c,u)}class xb extends pb{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xb}}function Tb(e,t,n){return new wb({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ib extends pb{_toFieldTransform(e){return new Bd(e.path,new Rd)}isEqual(e){return e instanceof Ib}}class Ob extends pb{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Tb(this,e,!0),n=this.pa.map((e=>Db(e,t))),r=new Dd(n);return new Bd(e.path,r)}isEqual(e){return this===e}}class Cb extends pb{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Tb(this,e,!0),n=this.pa.map((e=>Db(e,t))),r=new Md(n);return new Bd(e.path,r)}isEqual(e){return this===e}}class kb extends pb{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ld(e.serializer,Od(e.serializer,this.Ia));return new Bd(e.path,t)}isEqual(e){return this===e}}function Ab(e,t,n,r){const i=e.ya(1,t,n);jb("Data must be an object, but it was:",i,r);const o=[],a=dh.empty();Tl(r,((e,r)=>{const s=Ub(t,e,n);r=vt(r);const c=i.da(s);if(r instanceof xb)o.push(s);else{const e=Db(r,c);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Dl(o);return new vb(a,s,i.fieldTransforms)}function Pb(e,t,n,r,i,o){const a=e.ya(1,t,n),s=[Lb(t,r,n)],c=[i];if(o.length%2!=0)throw new Zc(Jc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)s.push(Lb(t,o[d])),c.push(o[d+1]);const u=[],l=dh.empty();for(let d=s.length-1;d>=0;--d)if(!Vb(u,s[d])){const e=s[d];let t=c[d];t=vt(t);const n=a.da(e);if(t instanceof xb)u.push(e);else{const r=Db(t,n);null!=r&&(u.push(e),l.set(e,r))}}const h=new Dl(u);return new vb(l,h,a.fieldTransforms)}function Rb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Db(n,e.ya(r?4:3,t))}function Db(e,t){if(Mb(e=vt(e)))return jb("Unsupported field value:",t,e),Nb(e,t);if(e instanceof pb)return function(e,t){if(!bb(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Db(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=vt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Od(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pu.fromDate(e);return{timestampValue:Nf(t.serializer,n)}}if(e instanceof pu){const n=new pu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nf(t.serializer,n)}}if(e instanceof mb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof db)return{bytesValue:Mf(t.serializer,e._byteString)};if(e instanceof Kv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ff(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Vv(e)))}(e,t)}function Nb(e,t){const n={};return Il(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tl(e,((e,r)=>{const i=Db(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pu||e instanceof mb||e instanceof db||e instanceof Kv||e instanceof pb)}function jb(e,t,n){if(!Mb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Vv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Lb(e,t,n){if((t=vt(t))instanceof fb)return t._internalPath;if("string"==typeof t)return Ub(e,t);throw Bb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Fb=new RegExp("[~\\*/\\[\\]]");function Ub(e,t,n){if(t.search(Fb)>=0)throw Bb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new fb(...t.split("."))._internalPath}catch(dee){throw Bb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bb(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(i)),c+=")"),new Zc(Jc.INVALID_ARGUMENT,s+e+c)}function Vb(e,t){return e.some((e=>e.isEqual(t)))}class zb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qb extends zb{data(){return super.data()}}function Wb(e,t){return"string"==typeof t?Ub(e,t):t instanceof fb?t._internalPath:t._delegate._internalPath}function Gb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zc(Jc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hb{}class Kb extends Hb{}function Qb(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Hb&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Xb)).length,n=e.filter((e=>e instanceof Yb)).length;if(t>1||t>0&&n>0)throw new Zc(Jc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Yb extends Kb{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Yb(e,t,n)}_apply(e){const t=this._parse(e);return iw(e._query,t),new Qv(e.firestore,e.converter,nd(e._query,t))}_parse(e){const t=Sb(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){rw(a,o);const t=[];for(const n of a)t.push(nw(r,e,n));s={arrayValue:{values:t}}}else s=nw(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rw(a,o),s=Rb(n,"where",a,"in"===o||"not-in"===o);return _h.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Xb extends Hb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Sh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)iw(n,i),n=nd(n,i)}(e._query,t),new Qv(e.firestore,e.converter,nd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $b extends Kb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $b(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new vh(t,n);return function(e,t){if(null===$h(e)){const n=Jh(e);null!==n&&ow(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Qv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Kh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Jb extends Kb{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Jb(e,t,n)}_apply(e){return new Qv(e.firestore,e.converter,rd(e._query,this._limit,this._limitType))}}class Zb extends Kb{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Zb(e,t,n)}_apply(e){const t=tw(e,this.type,this._docOrFields,this._inclusive);return new Qv(e.firestore,e.converter,function(e,t){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ew extends Kb{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ew(e,t,n)}_apply(e){const t=tw(e,this.type,this._docOrFields,this._inclusive);return new Qv(e.firestore,e.converter,function(e,t){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function tw(e,t,n,r){if(n[0]=vt(n[0]),n[0]instanceof zb)return function(e,t,n,r,i){if(!r)throw new Zc(Jc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of ed(e))if(a.field.isKeyField())o.push(eh(t,r.key));else{const e=r.data.field(a.field);if(Bl(e))throw new Zc(Jc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new mh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Sb(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Zc(Jc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let c=0;c<i.length;c++){const o=i[c];if(a[c].field.isKeyField()){if("string"!=typeof o)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Zh(e)&&-1!==o.indexOf("/"))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(yu.fromString(o));if(!wu.isDocumentKey(n))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new wu(n);s.push(eh(t,i))}else{const e=Rb(n,r,o);s.push(e)}}return new mh(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function nw(e,t,n){if("string"==typeof(n=vt(n))){if(""===n)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zh(t)&&-1!==n.indexOf("/"))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(yu.fromString(n));if(!wu.isDocumentKey(r))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return eh(e,new wu(r))}if(n instanceof Kv)return eh(e,n._key);throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Vv(n),"."))}function rw(e,t){if(!Array.isArray(e)||0===e.length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function iw(e,t){if(t.isInequality()){const n=Jh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=$h(e);null!==i&&ow(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function ow(e,t,n){if(!n.isEqual(t))throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class aw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new mb(Fl(e.latitude),Fl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=Ll(e);return new pu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yu.fromString(e);Xc(sp(n));const r=new Wl(n.get(1),n.get(3)),i=new wu(n.popFirst(5));return r.isEqual(t)||Hc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function sw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class cw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new db(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kv(this.firestore,null,t)}}class uw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lw extends zb{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new hw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class hw extends lw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class dw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new hw(this._firestore,this._userDataWriter,n.key,n,new uw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zc(Jc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new hw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new uw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new hw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:fw(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function fw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yc()}}function pw(e,t){return e instanceof lw&&t instanceof lw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof dw&&t instanceof dw&&e._firestore===t._firestore&&Zv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class mw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new db(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kv(this.firestore,null,t)}}function gw(e){e=zv(e,Kv);const t=zv(e.firestore,rb),n=ib(t),r=new mw(t);return function(e,t){const n=new eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=$c(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Zc(Jc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=my(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Ov(e),t,n))),n.promise}(n,e._key).then((n=>new lw(t,r,e._key,n,new uw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function yw(e){e=zv(e,Qv);const t=zv(e.firestore,rb),n=ib(t),r=new mw(t);return function(e,t){const n=new eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await sg(e,t,!0),i=new Dy(t,r.ir),o=i.sc(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=my(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Ov(e),t,n))),n.promise}(n,e._query).then((n=>new dw(t,r,e,n)))}function vw(e,t,n){e=zv(e,Kv);const r=zv(e.firestore,rb),i=sw(e.converter,t,n);return Sw(r,[Eb(Sb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zd.none())])}function bw(e,t,n){e=zv(e,Kv);const r=zv(e.firestore,rb),i=Sb(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return o="string"==typeof(t=vt(t))||t instanceof fb?Pb(i,"updateDoc",e._key,t,n,s):Ab(i,"updateDoc",e._key,t),Sw(r,[o.toMutation(e._key,zd.exists(!0))])}function ww(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=vt(e);let s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||tb(n[c])||(s=n[c],c++);const u={includeMetadataChanges:s.includeMetadataChanges};if(tb(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let l,h,d;if(e instanceof Kv)h=zv(e.firestore,rb),d=Yh(e._key.path),l={next:t=>{n[c]&&n[c](Ew(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=zv(e,Qv);h=zv(t.firestore,rb),d=t._query;const r=new mw(h);l={next:e=>{n[c]&&n[c](new dw(h,r,t,e))},error:n[c+1],complete:n[c+2]},Gb(e._query)}return function(e,t,n,r){const i=new gv(r),o=new Iy(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>_y(await Pv(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Sy(await Pv(e),o)))}}(ib(h),d,u,l)}function _w(e,t){return function(e,t){const n=new gv(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){$c(e).ku.add(t),t.next()}(await Pv(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){$c(e).ku.delete(t)}(await Pv(e),n)))}}(ib(e=zv(e,rb)),tb(t)?t:{next:t})}function Sw(e,t){return function(e,t){const n=new eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=lv(e);try{const e=await function(e,t){const n=$c(e),r=pu.now(),i=t.reduce(((e,t)=>e.add(t.key)),Sd());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=fd(),c=Sd();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Qd(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new $d(e.key,t,fh(t.value.mapValue),zd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:gd(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Ol(hu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jy(r,e.changes),await ty(r.remoteStore)}catch(e){const t=my(e,"Failed to persist write");n.reject(t)}}(await kv(e),t,n))),n.promise}(ib(e),t)}function Ew(e,t,n){const r=n.docs.get(t._key),i=new mw(e);return new lw(e,i,t._key,r,new uw(n.hasPendingWrites,n.fromCache),t.converter)}const xw={maxAttempts:5};class Tw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sb(e)}set(e,t,n){this._verifyNotCommitted();const r=Iw(e,this._firestore),i=sw(r.converter,t,n),o=Eb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Iw(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=vt(t))||t instanceof fb?Pb(this._dataReader,"WriteBatch.update",r._key,t,n,a):Ab(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,zd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Iw(e,this._firestore);return this._mutations=this._mutations.concat(new tf(t._key,zd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zc(Jc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iw(e,t){if((e=vt(e)).firestore!==t)throw new Zc(Jc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ow extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sb(e)}get(e){const t=Iw(e,this._firestore),n=new cw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Yc();const r=e[0];if(r.isFoundDocument())return new zb(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zb(this._firestore,n,t._key,null,t.converter);throw Yc()}))}set(e,t,n){const r=Iw(e,this._firestore),i=sw(r.converter,t,n),o=Eb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Iw(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=vt(t))||t instanceof fb?Pb(this._dataReader,"Transaction.update",r._key,t,n,a):Ab(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Iw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Iw(e,this._firestore),n=new mw(this._firestore);return super.get(e).then((e=>new lw(this._firestore,n,t._key,e._document,new uw(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zc=e}(Qt),zt(new bt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new rb(new iu(e.getProvider("auth-internal")),new cu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zc(Jc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Zt(Bc,"3.13.0",e),Zt(Bc,"3.13.0","esm2017")}();function Cw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kw(){if("undefined"===typeof Uint8Array)throw new Zc("unimplemented","Uint8Arrays are not available in this environment.")}function Aw(){if("undefined"==typeof atob)throw new Zc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Pw{constructor(e){this._delegate=e}static fromBase64String(e){return Aw(),new Pw(db.fromBase64String(e))}static fromUint8Array(e){return kw(),new Pw(db.fromUint8Array(e))}toBase64(){return Aw(),this._delegate.toBase64()}toUint8Array(){return kw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Rw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Dw{enableIndexedDbPersistence(e,t){return function(e,t){hb(e=zv(e,rb));const n=ib(e);if(n._uninitializedComponentsProvider)throw new Zc(Jc.FAILED_PRECONDITION,"SDK cache is already specified.");Kc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new pv;return ab(n,i,new dv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){hb(e=zv(e,rb));const t=ib(e);if(t._uninitializedComponentsProvider)throw new Zc(Jc.FAILED_PRECONDITION,"SDK cache is already specified.");Kc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new pv;return ab(t,r,new fv(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Zc(Jc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new eu;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Mu.D())return Promise.resolve();const t=e+"main";await Mu.delete(t)}(Xm(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Nw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Hv(this._delegate,e,t,n)}enableNetwork(){return cb(this._delegate)}disableNetwork(){return ub(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Fv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return sb(this._delegate)}onSnapshotsInSync(e){return _w(this._delegate,e)}get app(){if(!this._appCompat)throw new Zc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qw(this,Xv(this._delegate,e))}catch(t){throw Bw(t,"collection()","Firestore.collection()")}}doc(e){try{return new Uw(this,$v(this._delegate,e))}catch(t){throw Bw(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gw(this,function(e,t){if(e=zv(e,Gv),Lv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Qv(e,null,function(e){return new Kh(yu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Bw(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=zv(e,rb);const r=Object.assign(Object.assign({},xw),n);return function(e){if(e.maxAttempts<1)throw new Zc(Jc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new eu;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Av(e);new bv(e.asyncQueue,i,n,t,r).run()})),r.promise}(ib(e),(n=>t(new Ow(e,n))),r)}(this._delegate,(t=>e(new jw(this,t))))}batch(){return ib(this._delegate),new Lw(new Tw(this._delegate,(e=>Sw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ib(e=zv(e,rb)),r=new nb;return Nv(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return lb(this._delegate,e).then((e=>e?new Gw(this,e):null))}}class Mw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pw(new db(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Uw.forKey(t,this.firestore,null)}}class jw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mw(e)}get(e){const t=Yw(e);return this._delegate.get(t).then((e=>new qw(this._firestore,new lw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Yw(e);return n?(Cw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Yw(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Yw(e);return this._delegate.delete(t),this}}class Lw{constructor(e){this._delegate=e}set(e,t,n){const r=Yw(e);return n?(Cw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Yw(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Yw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fw{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new hw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ww(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Fw.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Fw(e,new Mw(e),t),r.set(t,i)),i}}Fw.INSTANCES=new WeakMap;class Uw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mw(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Zc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Uw(t,new Kv(t._delegate,n,new wu(e)))}static forKey(e,t,n){return new Uw(t,new Kv(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Qw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qw(this.firestore,Xv(this._delegate,e))}catch(t){throw Bw(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=vt(e))instanceof Kv&&Jv(this._delegate,e)}set(e,t){t=Cw("DocumentReference.set",t);try{return t?vw(this._delegate,e,t):vw(this._delegate,e)}catch(n){throw Bw(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?bw(this._delegate,e):bw(this._delegate,e,t,...r)}catch(o){throw Bw(o,"updateDoc()","DocumentReference.update()")}}delete(){return Sw(zv((e=this._delegate).firestore,rb),[new tf(e._key,zd.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Vw(t),i=zw(t,(e=>new qw(this.firestore,new lw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ww(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?gw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zv(e,Kv);const t=zv(e.firestore,rb);return Rv(ib(t),e._key,{source:"server"}).then((n=>Ew(t,e,n)))}(this._delegate):function(e){e=zv(e,Kv);const t=zv(e.firestore,rb);return Rv(ib(t),e._key).then((n=>Ew(t,e,n)))}(this._delegate),t.then((e=>new qw(this.firestore,new lw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Uw(this.firestore,e?this._delegate.withConverter(Fw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bw(e,t,n){return e.message=e.message.replace(t,n),e}function Vw(e){for(const t of e)if("object"===typeof t&&!Rw(t))return t;return{}}function zw(e,t){var n,r;let i;return i=Rw(e[0])?e[0]:Rw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class qw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Uw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pw(this._delegate,e._delegate)}}class Ww extends qw{data(e){const t=this._delegate.data(e);return void 0!==t||Yc(),t}}class Gw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mw(e)}where(e,t,n){try{return new Gw(this.firestore,Qb(this._delegate,function(e,t,n){const r=t,i=Wb("where",e);return Yb._create(i,r,n)}(e,t,n)))}catch(r){throw Bw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gw(this.firestore,Qb(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Wb("orderBy",e);return $b._create(n,t)}(e,t)))}catch(n){throw Bw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gw(this.firestore,Qb(this._delegate,(qv("limit",t=e),Jb._create("limit",t,"F"))))}catch(n){throw Bw(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Gw(this.firestore,Qb(this._delegate,(qv("limitToLast",t=e),Jb._create("limitToLast",t,"L"))))}catch(n){throw Bw(n,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Gw(this.firestore,Qb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zb._create("startAt",t,!0)}(...arguments)))}catch(e){throw Bw(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Gw(this.firestore,Qb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zb._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Bw(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Gw(this.firestore,Qb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ew._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Bw(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Gw(this.firestore,Qb(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ew._create("endAt",t,!0)}(...arguments)))}catch(e){throw Bw(e,"endAt()","Query.endAt()")}}isEqual(e){return Zv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?yw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zv(e,Qv);const t=zv(e.firestore,rb),n=ib(t),r=new mw(t);return Dv(n,e._query,{source:"server"}).then((n=>new dw(t,r,e,n)))}(this._delegate):function(e){e=zv(e,Qv);const t=zv(e.firestore,rb),n=ib(t),r=new mw(t);return Gb(e._query),Dv(n,e._query).then((n=>new dw(t,r,e,n)))}(this._delegate),t.then((e=>new Kw(this.firestore,new dw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Vw(t),i=zw(t,(e=>new Kw(this.firestore,new dw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ww(this._delegate,r,i)}withConverter(e){return new Gw(this.firestore,e?this._delegate.withConverter(Fw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Ww(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Hw(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Ww(this._firestore,n))}))}isEqual(e){return pw(this._delegate,e._delegate)}}class Qw extends Gw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Uw(this.firestore,e):null}doc(e){try{return new Uw(this.firestore,void 0===e?$v(this._delegate):$v(this._delegate,e))}catch(t){throw Bw(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=zv(e.firestore,rb),r=$v(e),i=sw(e.converter,t);return Sw(n,[Eb(Sb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zd.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Uw(this.firestore,e)))}isEqual(e){return Jv(this._delegate,e._delegate)}withConverter(e){return new Qw(this.firestore,e?this._delegate.withConverter(Fw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yw(e){return zv(e,Kv)}class Xw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new fb(...t)}static documentId(){return new Xw(bu.keyField().canonicalString())}isEqual(e){return(e=vt(e))instanceof fb&&this._delegate._internalPath.isEqual(e._internalPath)}}class $w{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ib("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new $w(e)}static delete(){const e=new xb("deleteField");return e._methodName="FieldValue.delete",new $w(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ob("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new $w(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cb("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new $w(e)}static increment(e){const t=new kb("increment",e);return t._methodName="FieldValue.increment",new $w(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jw={Firestore:Nw,GeoPoint:mb,Timestamp:pu,Blob:Pw,Transaction:jw,WriteBatch:Lw,DocumentReference:Uw,DocumentSnapshot:qw,Query:Gw,QueryDocumentSnapshot:Ww,QuerySnapshot:Kw,CollectionReference:Qw,FieldPath:Xw,FieldValue:$w,setLogLevel:function(e){var t;t=e,qc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var Zw;(function(e,t){e.INTERNAL.registerComponent(new bt("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Jw)))})(Zw=bn,((e,t)=>new Nw(e,t,new Dw))),Zw.registerVersion("@firebase/firestore-compat","0.3.12");const e_="@firebase/database",t_="0.14.4";let n_="";function r_(e){n_=e}class i_{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:He(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class o_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ye(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const a_=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new i_(t)}}catch(t){}return new o_},s_=a_("localStorage"),c_=a_("sessionStorage"),u_=new At("@firebase/database"),l_=function(){let e=1;return function(){return e++}}(),h_=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,be(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new it;n.update(t);const r=n.digest();return Se.encodeByteArray(r)},d_=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=d_.apply(null,n):e+="object"===typeof n?Ke(n):n,e+=" "}return e};let f_=null,p_=!0;const m_=function(e,t){be(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(u_.logLevel=Tt.VERBOSE,f_=u_.log.bind(u_),t&&c_.set("logging_enabled",!0)):"function"===typeof e?f_=e:(f_=null,c_.remove("logging_enabled"))},g_=function(){if(!0===p_&&(p_=!1,null===f_&&!0===c_.get("logging_enabled")&&m_(!0)),f_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=d_.apply(null,t);f_(r)}},y_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];g_(e,...n)}},v_=function(){const e="FIREBASE INTERNAL ERROR: "+d_(...arguments);u_.error(e)},b_=function(){const e="FIREBASE FATAL ERROR: ".concat(d_(...arguments));throw u_.error(e),new Error(e)},w_=function(){const e="FIREBASE WARNING: "+d_(...arguments);u_.warn(e)},__=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},S_="[MIN_NAME]",E_="[MAX_NAME]",x_=function(e,t){if(e===t)return 0;if(e===S_||t===E_)return-1;if(t===S_||e===E_)return 1;{const n=R_(e),r=R_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},T_=function(e,t){return e===t?0:e<t?-1:1},I_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ke(t))},O_=function(e){if("object"!==typeof e||null===e)return Ke(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ke(t[r]),n+=":",n+=O_(e[t[r]]);return n+="}",n},C_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function k_(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const A_=function(e){be(!__(e),"Invalid JSON number");const t=1023;let n,r,i,o,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const s=[];for(a=52;a;a-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const c=s.join("");let u="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const P_=new RegExp("^-?(0*)\\d{1,10}$"),R_=function(e){if(P_.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},D_=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw w_("Exception was thrown by user callback.",e),t}),Math.floor(0))}},N_=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class M_{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){w_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class j_{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(g_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',w_(e)}}class L_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}L_.OWNER="owner";const F_="5",U_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B_="ac",V_="websocket",z_="long_polling";class q_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=s_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&s_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function W_(e,t,n){let r;if(be("string"===typeof t,"typeof type must == string"),be("object"===typeof n,"typeof params must == object"),t===V_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==z_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return k_(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class G_{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ye(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function(e){return Oe(void 0,e)}(this.counters_)}}const H_={},K_={};function Q_(e){const t=e.toString();return H_[t]||(H_[t]=new G_),H_[t]}class Y_{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&D_((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const X_="start";class $_{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=y_(e),this.stats_=Q_(t),this.urlFn=e=>(this.appCheckToken&&(e[B_]=this.appCheckToken),W_(t,z_,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Y_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ue()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new J_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,a,s,c]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===X_)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[X_]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=F_,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[B_]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&U_.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$_.forceAllow_=!0}static forceDisallow(){$_.forceDisallow_=!0}static isAvailable(){return!Ue()&&(!!$_.forceAllow_||!$_.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=xe(t),r=C_(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Ue())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ke(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class J_{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ue())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=l_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=J_.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){g_("frame writing exception"),i.stack&&g_(i.stack),g_(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||g_("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Ue()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{g_("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Z_=null;"undefined"!==typeof MozWebSocket?Z_=MozWebSocket:"undefined"!==typeof WebSocket&&(Z_=WebSocket);class eS{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=y_(this.connId),this.stats_=Q_(t),this.connURL=eS.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=F_,!Ue()&&"undefined"!==typeof location&&location.hostname&&U_.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[B_]=r),i&&(o.p=i),W_(e,V_,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,s_.set("previous_websocket_failure",!0);try{let e;if(Ue()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(F_,"/").concat(n_,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Z_(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){eS.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Z_&&!eS.forceDisallow_}static previouslyFailed(){return s_.isInMemoryStorage||!0===s_.get("previous_websocket_failure")}markConnectionHealthy(){s_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=He(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(be(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ke(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=C_(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eS.responsesRequiredToBeHealthy=2,eS.healthyTimeout=3e4;class tS{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$_,eS]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=eS&&eS.isAvailable();let n=t&&!eS.previouslyFailed();if(e.webSocketOnly&&(t||w_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[eS];else{const e=this.transports_=[];for(const t of tS.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);tS.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tS.globalTransportInitialized_=!1;class nS{constructor(e,t,n,r,i,o,a,s,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=y_("c:"+this.id+":"),this.transportManager_=new tS(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=N_((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=I_("t",e),n=I_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=I_("t",e),n=I_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=I_("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?v_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):v_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),F_!==n&&w_("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),N_((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):N_((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(s_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rS{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class iS{constructor(e){this.allowedEvents_=e,this.listeners_={},be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){be(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class oS extends iS{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ne()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new oS}getInitialEvent(e){return be("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const aS=32,sS=768;class cS{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function uS(){return new cS("")}function lS(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hS(e){return e.pieces_.length-e.pieceNum_}function dS(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new cS(e.pieces_,t)}function fS(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function mS(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new cS(t,0)}function gS(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof cS)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new cS(n,0)}function yS(e){return e.pieceNum_>=e.pieces_.length}function vS(e,t){const n=lS(e),r=lS(t);if(null===n)return t;if(n===r)return vS(dS(e),dS(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function bS(e,t){const n=pS(e,0),r=pS(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=x_(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function wS(e,t){if(hS(e)!==hS(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _S(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(hS(e)>hS(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class SS{constructor(e,t){this.errorPrefix_=t,this.parts_=pS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=dt(this.parts_[n]);ES(this)}}function ES(e){if(e.byteLength_>sS)throw new Error(e.errorPrefix_+"has a key path longer than "+sS+" bytes ("+e.byteLength_+").");if(e.parts_.length>aS)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aS+") or object contains a cycle "+xS(e))}function xS(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class TS extends iS{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new TS}getInitialEvent(e){return be("visible"===e,"Unknown event type: "+e),[this.visible_]}}const IS=1e3;class OS extends rS{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=OS.nextPersistentConnectionId_++,this.log_=y_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=IS,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!Ue())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TS.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&oS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ke(i)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Pe,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;OS.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ye(e,"w")){const n=Xe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();w_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Qe(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Qe(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):v_("Unrecognized action received from server: "+Ke(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=IS,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=IS,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=IS),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+OS.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},c=function(e){be(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,c]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?g_("getToken() completed but was canceled"):(g_("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=c&&c.token,a=new nS(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{w_(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(v_){this.log_("Failed to get token: "+v_),o||(this.repoInfo_.nodeAdmin&&w_(v_),s())}}}interrupt(e){g_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){g_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$e(this.interruptReasons_)&&(this.reconnectDelay_=IS,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>O_(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new cS(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){g_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){g_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Ue()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+n_.replace(/\./g,"-")]=1,Ne()?e["framework.cordova"]=1:Le()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oS.getInstance().currentlyOnline();return $e(this.interruptReasons_)&&e}}OS.nextPersistentConnectionId_=0,OS.nextConnectionId_=0;class CS{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new CS(e,t)}}class kS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new CS(S_,e),r=new CS(S_,t);return 0!==this.compare(n,r)}minPost(){return CS.MIN}}let AS;class PS extends kS{static get __EMPTY_NODE(){return AS}static set __EMPTY_NODE(e){AS=e}compare(e,t){return x_(e.name,t.name)}isDefinedOn(e){throw we("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return CS.MIN}maxPost(){return new CS(E_,AS)}makePost(e,t){return be("string"===typeof e,"KeyIndex indexValue must always be a string."),new CS(e,AS)}toString(){return".key"}}const RS=new PS;class DS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class NS{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:NS.RED,this.left=null!=r?r:MS.EMPTY_NODE,this.right=null!=i?i:MS.EMPTY_NODE}copy(e,t,n,r,i){return new NS(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return MS.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return MS.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,NS.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,NS.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}NS.RED=!0,NS.BLACK=!1;class MS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MS.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new MS(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,NS.BLACK,null,null))}remove(e){return new MS(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,NS.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new DS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new DS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new DS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new DS(this.root_,null,this.comparator_,!0,e)}}function jS(e,t){return x_(e.name,t.name)}function LS(e,t){return x_(e,t)}let FS;MS.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new NS(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const US=function(e){return"number"===typeof e?"number:"+A_(e):"string:"+e},BS=function(e){if(e.isLeafNode()){const t=e.val();be("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ye(t,".sv"),"Priority must be a string or number.")}else be(e===FS||e.isEmpty(),"priority of unexpected type.");be(e===FS||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VS,zS,qS;class WS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WS.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,be(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),BS(this.priorityNode_)}static set __childrenNodeConstructor(e){VS=e}static get __childrenNodeConstructor(){return VS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new WS(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:WS.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return yS(e)?this:".priority"===lS(e)?this.priorityNode_:WS.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:WS.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=lS(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(be(".priority"!==n||1===hS(e),".priority must be the last token in a path"),this.updateImmediateChild(n,WS.__childrenNodeConstructor.EMPTY_NODE.updateChild(dS(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+US(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?A_(this.value_):this.value_,this.lazyHash_=h_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===WS.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof WS.__childrenNodeConstructor?-1:(be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=WS.VALUE_TYPE_ORDER.indexOf(t),i=WS.VALUE_TYPE_ORDER.indexOf(n);return be(r>=0,"Unknown leaf type: "+t),be(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}WS.VALUE_TYPE_ORDER=["object","boolean","number","string"];const GS=new class extends kS{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x_(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return CS.MIN}maxPost(){return new CS(E_,new WS("[PRIORITY-POST]",qS))}makePost(e,t){const n=zS(e);return new CS(t,new WS("[PRIORITY-POST]",n))}toString(){return".priority"}},HS=Math.log(2);class KS{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/HS,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const QS=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new NS(s,a.node,NS.BLACK,null,null);{const c=parseInt(o/2,10)+t,u=i(t,c),l=i(c+1,r);return a=e[c],s=n?n(a):a,new NS(s,a.node,NS.BLACK,u,l)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const u=i(o+1,s),l=e[o],h=n?n(l):l;c(new NS(h,l.node,r,null,u))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,NS.BLACK):(s(r,NS.BLACK),s(r,NS.RED))}return o}(new KS(e.length));return new MS(r||t,o)};let YS;const XS={};class $S{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return be(XS&&GS,"ChildrenNode.ts has not been loaded"),YS=YS||new $S({".priority":XS},{".priority":GS}),YS}get(e){const t=Xe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof MS?t:null}hasIndex(e){return Ye(this.indexSet_,e.toString())}addIndex(e,t){be(e!==RS,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(CS.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?QS(n,e.getCompare()):XS;const s=e.toString(),c=Object.assign({},this.indexSet_);c[s]=e;const u=Object.assign({},this.indexes_);return u[s]=o,new $S(u,c)}addToIndexes(e,t){const n=Je(this.indexes_,((n,r)=>{const i=Xe(this.indexSet_,r);if(be(i,"Missing index implementation for "+r),n===XS){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(CS.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),QS(n,i.getCompare())}return XS}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new CS(e.name,r))),i.insert(e,e.node)}}));return new $S(n,this.indexSet_)}removeFromIndexes(e,t){const n=Je(this.indexes_,(n=>{if(n===XS)return n;{const r=t.get(e.name);return r?n.remove(new CS(e.name,r)):n}}));return new $S(n,this.indexSet_)}}let JS;class ZS{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&BS(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return JS||(JS=new ZS(new MS(LS),null,$S.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||JS}updatePriority(e){return this.children_.isEmpty()?this:new ZS(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?JS:t}}getChild(e){const t=lS(e);return null===t?this:this.getImmediateChild(t).getChild(dS(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(be(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new CS(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?JS:this.priorityNode_;return new ZS(r,o,i)}}updateChild(e,t){const n=lS(e);if(null===n)return t;{be(".priority"!==lS(e)||1===hS(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(dS(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(GS,((o,a)=>{t[o]=a.val(e),n++,i&&ZS.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+US(this.getPriority().val())+":"),this.forEachChild(GS,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":h_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new CS(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new CS(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new CS(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,CS.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,CS.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eE?-1:0}withIndex(e){if(e===RS||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ZS(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===RS||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(GS),n=t.getIterator(GS);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===RS?null:this.indexMap_.get(e.toString())}}ZS.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const eE=new class extends ZS{constructor(){super(new MS(LS),ZS.EMPTY_NODE,$S.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ZS.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(CS,{MIN:{value:new CS(S_,ZS.EMPTY_NODE)},MAX:{value:new CS(E_,eE)}}),PS.__EMPTY_NODE=ZS.EMPTY_NODE,WS.__childrenNodeConstructor=ZS,FS=eE,function(e){qS=e}(eE);const tE=!0;function nE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ZS.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),be(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new WS(e,nE(t))}if(e instanceof Array||!tE){let n=ZS.EMPTY_NODE;return k_(e,((t,r)=>{if(Ye(e,t)&&"."!==t.substring(0,1)){const e=nE(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(nE(t))}{const n=[];let r=!1;if(k_(e,((e,t)=>{if("."!==e.substring(0,1)){const i=nE(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new CS(e,i)))}})),0===n.length)return ZS.EMPTY_NODE;const i=QS(n,jS,(e=>e.name),LS);if(r){const e=QS(n,GS.getCompare());return new ZS(i,nE(t),new $S({".priority":e},{".priority":GS}))}return new ZS(i,nE(t),$S.Default)}}!function(e){zS=e}(nE);class rE extends kS{constructor(e){super(),this.indexPath_=e,be(!yS(e)&&".priority"!==lS(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x_(e.name,t.name):i}makePost(e,t){const n=nE(e),r=ZS.EMPTY_NODE.updateChild(this.indexPath_,n);return new CS(t,r)}maxPost(){const e=ZS.EMPTY_NODE.updateChild(this.indexPath_,eE);return new CS(E_,e)}toString(){return pS(this.indexPath_,0).join("/")}}const iE=new class extends kS{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?x_(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return CS.MIN}maxPost(){return CS.MAX}makePost(e,t){const n=nE(e);return new CS(t,n)}toString(){return".value"}};function oE(e){return{type:"value",snapshotNode:e}}function aE(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sE(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class uE{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){be(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(sE(t,a)):be(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(aE(t,n)):o.trackChildChange(cE(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(GS,((e,r)=>{t.hasChild(e)||n.trackChildChange(sE(e,r))})),t.isLeafNode()||t.forEachChild(GS,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(cE(t,r,i))}else n.trackChildChange(aE(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ZS.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lE{constructor(e){this.indexedFilter_=new uE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lE.getStartPost_(e),this.endPost_=lE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new CS(t,n))||(n=ZS.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ZS.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ZS.EMPTY_NODE);const i=this;return t.forEachChild(GS,((e,t)=>{i.matches(new CS(e,t))||(r=r.updateImmediateChild(e,ZS.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class hE{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new lE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new CS(t,n))||(n=ZS.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=ZS.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=ZS.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(ZS.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,ZS.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;be(a.numChildren()===this.limit_,"");const s=new CS(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let l=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=l&&(l.name===t||a.hasChild(l.name));)l=r.getChildAfterChild(this.index_,l,this.reverse_);const h=null==l?1:o(l,s);if(u&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(cE(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(sE(t,e));const n=a.updateImmediateChild(t,ZS.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=i&&i.trackChildChange(aE(l.name,l.node)),n.updateImmediateChild(l.name,l.node)):n}}return n.isEmpty()?e:u&&o(c,s)>=0?(null!=i&&(i.trackChildChange(sE(c.name,c.node)),i.trackChildChange(aE(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,ZS.EMPTY_NODE)):e}}class dE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=GS}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S_}hasEnd(){return this.endSet_}getIndexEndValue(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:E_}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===GS}copy(){const e=new dE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fE(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function pE(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function mE(e,t){const n=e.copy();return n.index_=t,n}function gE(e){const t={};if(e.isDefault())return t;let n;if(e.index_===GS?n="$priority":e.index_===iE?n="$value":e.index_===RS?n="$key":(be(e.index_ instanceof rE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ke(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ke(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ke(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ke(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ke(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function yE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==GS&&(t.i=e.index_.toString()),t}class vE extends rS{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=y_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=vE.getListenId_(e,n),a={};this.listens_[o]=a;const s=gE(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),Xe(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=vE.getListenId_(e,t);delete this.listens_[n]}get(e){const t=gE(e._queryParams),n=e._path.toString(),r=new Pe;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tt(t);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=He(s.responseText)}catch(e){w_("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&w_("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))}}class bE{constructor(){this.rootNode_=ZS.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function wE(){return{value:null,children:new Map}}function _E(e,t,n){if(yS(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=lS(t);e.children.has(r)||e.children.set(r,wE());_E(e.children.get(r),t=dS(t),n)}}function SE(e,t){if(yS(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(GS,((t,n)=>{_E(e,new cS(t),n)})),SE(e,t)}}if(e.children.size>0){const n=lS(t);if(t=dS(t),e.children.has(n)){SE(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function EE(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{EE(r,new cS(t.toString()+"/"+e),n)}))}class xE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&k_(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class TE{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new xE(e);const n=1e4+2e4*Math.random();N_(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;k_(e,((e,r)=>{r>0&&Ye(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),N_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var IE;function OE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(IE||(IE={}));class CE{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=IE.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(yS(this.path)){if(null!=this.affectedTree.value)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new cS(e));return new CE(uS(),t,this.revert)}}return be(lS(this.path)===e,"operationForChild called for unrelated child."),new CE(dS(this.path),this.affectedTree,this.revert)}}class kE{constructor(e,t){this.source=e,this.path=t,this.type=IE.LISTEN_COMPLETE}operationForChild(e){return yS(this.path)?new kE(this.source,uS()):new kE(this.source,dS(this.path))}}class AE{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=IE.OVERWRITE}operationForChild(e){return yS(this.path)?new AE(this.source,uS(),this.snap.getImmediateChild(e)):new AE(this.source,dS(this.path),this.snap)}}class PE{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=IE.MERGE}operationForChild(e){if(yS(this.path)){const t=this.children.subtree(new cS(e));return t.isEmpty()?null:t.value?new AE(this.source,uS(),t.value):new PE(this.source,uS(),t)}return be(lS(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new PE(this.source,dS(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class RE{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(yS(e))return this.isFullyInitialized()&&!this.filtered_;const t=lS(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class DE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function NE(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw we("Should only compare child_ events.");const r=new CS(t.childName,t.snapshotNode),i=new CS(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ME(e,t){return{eventCache:e,serverCache:t}}function jE(e,t,n,r){return ME(new RE(t,n,r),e.serverCache)}function LE(e,t,n,r){return ME(e.eventCache,new RE(t,n,r))}function FE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function UE(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let BE;class VE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(BE||(BE=new MS(T_)),BE);this.value=e,this.children=t}static fromObject(e){let t=new VE(null);return k_(e,((e,n)=>{t=t.set(new cS(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:uS(),value:this.value};if(yS(e))return null;{const n=lS(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(dS(e),t);if(null!=i){return{path:gS(new cS(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(yS(e))return this;{const t=lS(e),n=this.children.get(t);return null!==n?n.subtree(dS(e)):new VE(null)}}set(e,t){if(yS(e))return new VE(t,this.children);{const n=lS(e),r=(this.children.get(n)||new VE(null)).set(dS(e),t),i=this.children.insert(n,r);return new VE(this.value,i)}}remove(e){if(yS(e))return this.children.isEmpty()?new VE(null):new VE(null,this.children);{const t=lS(e),n=this.children.get(t);if(n){const r=n.remove(dS(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new VE(null):new VE(this.value,i)}return this}}get(e){if(yS(e))return this.value;{const t=lS(e),n=this.children.get(t);return n?n.get(dS(e)):null}}setTree(e,t){if(yS(e))return t;{const n=lS(e),r=(this.children.get(n)||new VE(null)).setTree(dS(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new VE(this.value,i)}}fold(e){return this.fold_(uS(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(gS(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,uS(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(yS(e))return null;{const r=lS(e),i=this.children.get(r);return i?i.findOnPath_(dS(e),gS(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,uS(),t)}foreachOnPath_(e,t,n){if(yS(e))return this;{this.value&&n(t,this.value);const r=lS(e),i=this.children.get(r);return i?i.foreachOnPath_(dS(e),gS(t,r),n):new VE(null)}}foreach(e){this.foreach_(uS(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(gS(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class zE{constructor(e){this.writeTree_=e}static empty(){return new zE(new VE(null))}}function qE(e,t,n){if(yS(t))return new zE(new VE(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=vS(i,t);return o=o.updateChild(a,n),new zE(e.writeTree_.set(i,o))}{const r=new VE(n),i=e.writeTree_.setTree(t,r);return new zE(i)}}}function WE(e,t,n){let r=e;return k_(n,((e,n)=>{r=qE(r,gS(t,e),n)})),r}function GE(e,t){if(yS(t))return zE.empty();{const n=e.writeTree_.setTree(t,new VE(null));return new zE(n)}}function HE(e,t){return null!=KE(e,t)}function KE(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(vS(n.path,t)):null}function QE(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(GS,((e,n)=>{t.push(new CS(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new CS(e,n.value))})),t}function YE(e,t){if(yS(t))return e;{const n=KE(e,t);return new zE(null!=n?new VE(n):e.writeTree_.subtree(t))}}function XE(e){return e.writeTree_.isEmpty()}function $E(e,t){return JE(uS(),e.writeTree_,t)}function JE(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(be(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=JE(gS(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(gS(e,".priority"),r)),n}}function ZE(e,t){return dx(t,e)}function ex(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));be(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&tx(t,r.path)?i=!1:_S(r.path,t.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=rx(e.allWrites,nx,uS()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=GE(e.visibleWrites,r.path);else{k_(r.children,(t=>{e.visibleWrites=GE(e.visibleWrites,gS(r.path,t))}))}return!0}return!1}function tx(e,t){if(e.snap)return _S(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_S(gS(e.path,n),t))return!0;return!1}function nx(e){return e.visible}function rx(e,t,n){let r=zE.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)_S(n,e)?(t=vS(n,e),r=qE(r,t,o.snap)):_S(e,n)&&(t=vS(e,n),r=qE(r,uS(),o.snap.getChild(t)));else{if(!o.children)throw we("WriteRecord should have .snap or .children");if(_S(n,e))t=vS(n,e),r=WE(r,t,o.children);else if(_S(e,n))if(t=vS(e,n),yS(t))r=WE(r,uS(),o.children);else{const e=Xe(o.children,lS(t));if(e){const n=e.getChild(dS(t));r=qE(r,uS(),n)}}}}}return r}function ix(e,t,n,r,i){if(r||i){const o=YE(e.visibleWrites,t);if(!i&&XE(o))return n;if(i||null!=n||HE(o,uS())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(_S(e.path,t)||_S(t,e.path))};return $E(rx(e.allWrites,o,t),n||ZS.EMPTY_NODE)}return null}{const r=KE(e.visibleWrites,t);if(null!=r)return r;{const r=YE(e.visibleWrites,t);if(XE(r))return n;if(null!=n||HE(r,uS())){return $E(r,n||ZS.EMPTY_NODE)}return null}}}function ox(e,t,n,r){return ix(e.writeTree,e.treePath,t,n,r)}function ax(e,t){return function(e,t,n){let r=ZS.EMPTY_NODE;const i=KE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(GS,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=YE(e.visibleWrites,t);return n.forEachChild(GS,((e,t)=>{const n=$E(YE(i,new cS(e)),t);r=r.updateImmediateChild(e,n)})),QE(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return QE(YE(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function sx(e,t,n,r){return function(e,t,n,r,i){be(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=gS(t,n);if(HE(e.visibleWrites,o))return null;{const t=YE(e.visibleWrites,o);return XE(t)?i.getChild(n):$E(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function cx(e,t){return function(e,t){return KE(e.visibleWrites,t)}(e.writeTree,gS(e.treePath,t))}function ux(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const c=YE(e.visibleWrites,t),u=KE(c,uS());if(null!=u)s=u;else{if(null==n)return[];s=$E(c,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function lx(e,t,n){return function(e,t,n,r){const i=gS(t,n),o=KE(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return $E(YE(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function hx(e,t){return dx(gS(e.treePath,t),e.writeTree)}function dx(e,t){return{treePath:e,writeTree:t}}class fx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;be("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),be(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,cE(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,sE(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,aE(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw we("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,cE(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const px=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class mx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new RE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lx(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:UE(this.viewCache_),i=ux(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function gx(e,t,n,r,i){const o=new fx;let a,s;if(n.type===IE.OVERWRITE){const c=n;c.source.fromUser?a=bx(e,t,c.path,c.snap,r,i,o):(be(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!yS(c.path),a=vx(e,t,c.path,c.snap,r,i,s,o))}else if(n.type===IE.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,c)=>{const u=gS(n,r);wx(t,lS(u))&&(s=bx(e,s,u,c,i,o,a))})),r.foreach(((r,c)=>{const u=gS(n,r);wx(t,lS(u))||(s=bx(e,s,u,c,i,o,a))})),s}(e,t,c.path,c.children,r,i,o):(be(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=Sx(e,t,c.path,c.children,r,i,s,o))}else if(n.type===IE.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=cx(r,n))return t;{const s=new mx(r,t,i),c=t.eventCache.getNode();let u;if(yS(n)||".priority"===lS(n)){let n;if(t.serverCache.isFullyInitialized())n=ox(r,UE(t));else{const e=t.serverCache.getNode();be(e instanceof ZS,"serverChildren would be complete if leaf node"),n=ax(r,e)}u=e.filter.updateFullNode(c,n,o)}else{const i=lS(n);let l=lx(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=c.getImmediateChild(i)),u=null!=l?e.filter.updateChild(c,i,l,dS(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,ZS.EMPTY_NODE,dS(n),s,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ox(r,UE(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=cx(r,uS()),jE(t,u,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=cx(i,n))return t;const s=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(yS(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return vx(e,t,n,c.getNode().getChild(n),i,o,s,a);if(yS(n)){let r=new VE(null);return c.getNode().forEachChild(RS,((e,t)=>{r=r.set(new cS(e),t)})),Sx(e,t,n,r,i,o,s,a)}return t}{let u=new VE(null);return r.foreach(((e,t)=>{const r=gS(n,e);c.isCompleteForPath(r)&&(u=u.set(e,c.getNode().getChild(r)))})),Sx(e,t,n,u,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==IE.LISTEN_COMPLETE)throw we("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache,a=LE(t,o.getNode(),o.isFullyInitialized()||yS(n),o.isFiltered());return yx(e,a,n,r,px,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=FE(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(oE(FE(t)))}}(t,a,c),{viewCache:a,changes:c}}function yx(e,t,n,r,i,o){const a=t.eventCache;if(null!=cx(r,n))return t;{let s,c;if(yS(n))if(be(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=UE(t),i=ax(r,n instanceof ZS?n:ZS.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ox(r,UE(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=lS(n);if(".priority"===u){be(1===hS(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const o=sx(r,n,i,c);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const l=dS(n);let h;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=sx(r,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(u).updateChild(l,e):a.getNode().getImmediateChild(u)}else h=lx(r,u,t.serverCache);s=null!=h?e.filter.updateChild(a.getNode(),u,h,l,i,o):a.getNode()}}return jE(t,s,a.isFullyInitialized()||yS(n),e.filter.filtersNodes())}}function vx(e,t,n,r,i,o,a,s){const c=t.serverCache;let u;const l=a?e.filter:e.filter.getIndexedFilter();if(yS(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),e,null)}else{const e=lS(n);if(!c.isCompleteForPath(n)&&hS(n)>1)return t;const i=dS(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?l.updatePriority(c.getNode(),o):l.updateChild(c.getNode(),e,o,i,px,null)}const h=LE(t,u,c.isFullyInitialized()||yS(n),l.filtersNodes());return yx(e,h,n,i,new mx(i,h,o),s)}function bx(e,t,n,r,i,o,a){const s=t.eventCache;let c,u;const l=new mx(i,t,o);if(yS(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=jE(t,u,!0,e.filter.filtersNodes());else{const i=lS(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),c=jE(t,u,s.isFullyInitialized(),s.isFiltered());else{const o=dS(n),u=s.getNode().getImmediateChild(i);let h;if(yS(o))h=r;else{const e=l.getCompleteChild(i);h=null!=e?".priority"===fS(o)&&e.getChild(mS(o)).isEmpty()?e:e.updateChild(o,r):ZS.EMPTY_NODE}if(u.equals(h))c=t;else{c=jE(t,e.filter.updateChild(s.getNode(),i,h,o,l,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function wx(e,t){return e.eventCache.isCompleteForChild(t)}function _x(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Sx(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,u=t;c=yS(n)?r:new VE(null).setTree(n,r);const l=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(l.hasChild(n)){const c=_x(0,t.serverCache.getNode().getImmediateChild(n),r);u=vx(e,u,new cS(n),c,i,o,a,s)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!c){const c=_x(0,t.serverCache.getNode().getImmediateChild(n),r);u=vx(e,u,new cS(n),c,i,o,a,s)}})),u}class Ex{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new uE(n.getIndex()),i=(o=n).loadsAllData()?new uE(o.getIndex()):o.hasLimit()?new hE(o):new lE(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,c=r.updateFullNode(ZS.EMPTY_NODE,a.getNode(),null),u=i.updateFullNode(ZS.EMPTY_NODE,s.getNode(),null),l=new RE(c,a.isFullyInitialized(),r.filtersNodes()),h=new RE(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=ME(h,l),this.eventGenerator_=new DE(this.query_)}get query(){return this.query_}}function xx(e,t){const n=UE(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!yS(t)&&!n.getImmediateChild(lS(t)).isEmpty())?n.getChild(t):null}function Tx(e){return 0===e.eventRegistrations_.length}function Ix(e,t,n){const r=[];if(n){be(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Ox(e,t,n,r){t.type===IE.MERGE&&null!==t.source.queryId&&(be(UE(e.viewCache_),"We should always have a full cache before handling merges"),be(FE(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=gx(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,be(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),be(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),be(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Cx(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Cx(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),NE(e,i,"child_removed",t,r,n),NE(e,i,"child_added",t,r,n),NE(e,i,"child_moved",o,r,n),NE(e,i,"child_changed",t,r,n),NE(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let kx,Ax;class Px{constructor(){this.views=new Map}}function Rx(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return be(null!=o,"SyncTree gave us an op for an invalid query."),Ox(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Ox(o,t,n,r));return i}}function Dx(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=ox(n,i?r:null),o=!1;e?o=!0:r instanceof ZS?(e=ax(n,r),o=!1):(e=ZS.EMPTY_NODE,o=!1);const a=ME(new RE(e,o,!1),new RE(r,i,!1));return new Ex(t,a)}return a}function Nx(e,t,n,r,i,o){const a=Dx(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(GS,((e,t)=>{r.push(aE(e,t))}));return n.isFullyInitialized()&&r.push(oE(n.getNode())),Cx(e,r,n.getNode(),t)}(a,n)}function Mx(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=Bx(e);if("default"===i)for(const[c,u]of e.views.entries())a=a.concat(Ix(u,n,r)),Tx(u)&&(e.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(i);t&&(a=a.concat(Ix(t,n,r)),Tx(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!Bx(e)&&o.push(new(be(kx,"Reference.ts has not been loaded"),kx)(t._repo,t._path)),{removed:o,events:a}}function jx(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Lx(e,t){let n=null;for(const r of e.views.values())n=n||xx(r,t);return n}function Fx(e,t){if(t._queryParams.loadsAllData())return Vx(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Ux(e,t){return null!=Fx(e,t)}function Bx(e){return null!=Vx(e)}function Vx(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let zx=1;class qx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new VE(null),this.pendingWriteTree_={visibleWrites:zE.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wx(e,t,n,r,i){return function(e,t,n,r,i){be(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=qE(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Zx(e,new AE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gx(e,t,n,r){!function(e,t,n,r){be(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=WE(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=VE.fromObject(n);return Zx(e,new PE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ex(e.pendingWriteTree_,t)){let t=new VE(null);return null!=r.snap?t=t.set(uS(),!0):k_(r.children,(e=>{t=t.set(new cS(e),!0)})),Zx(e,new CE(r.path,t,n))}return[]}function Kx(e,t,n){return Zx(e,new AE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Qx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||Ux(a,t))){const c=Mx(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=c.removed;if(s=c.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Bx(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Bx(t)){return[Vx(t)]}{let e=[];return t&&(e=jx(t)),k_(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=nT(e,r);e.listenProvider_.startListening(cT(i),rT(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(cT(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(iT(t));e.listenProvider_.stopListening(cT(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=iT(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return s}function Yx(e,t,n,r){const i=oT(e,r);if(null!=i){const r=aT(i),o=r.path,a=r.queryId,s=vS(o,t);return sT(e,o,new AE(OE(a),s,n))}return[]}function Xx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=vS(e,i);o=o||Lx(t,n),a=a||Bx(t)}));let s,c=e.syncPointTree_.get(i);if(c?(a=a||Bx(c),o=o||Lx(c,uS())):(c=new Px,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=o)s=!0;else{s=!1,o=ZS.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Lx(t,uS());n&&(o=o.updateImmediateChild(e,n))}))}const u=Ux(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=iT(t);be(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=zx++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let l=Nx(c,t,n,ZE(e.pendingWriteTree_,i),o,s);if(!u&&!a&&!r){const n=Fx(c,t);l=l.concat(function(e,t,n){const r=t._path,i=rT(e,t),o=nT(e,n),a=e.listenProvider_.startListening(cT(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)be(!Bx(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!yS(e)&&t&&Bx(t))return[Vx(t).query];{let e=[];return t&&(e=e.concat(jx(t).map((e=>e.query)))),k_(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(cT(r),rT(e,r))}}return a}(e,t,n))}return l}function $x(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Lx(n,vS(e,t));if(r)return r}));return ix(r,t,i,n,!0)}function Jx(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=vS(e,n);r=r||Lx(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Lx(i,uS()):(i=new Px,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new RE(r,!0,!1):null;return function(e){return FE(e.viewCache_)}(Dx(i,t,ZE(e.pendingWriteTree_,t._path),o?a.getNode():ZS.EMPTY_NODE,o))}function Zx(e,t){return eT(t,e.syncPointTree_,null,ZE(e.pendingWriteTree_,uS()))}function eT(e,t,n,r){if(yS(e.path))return tT(e,t,n,r);{const i=t.get(uS());null==n&&null!=i&&(n=Lx(i,uS()));let o=[];const a=lS(e.path),s=e.operationForChild(a),c=t.children.get(a);if(c&&s){const e=n?n.getImmediateChild(a):null,t=hx(r,a);o=o.concat(eT(s,c,e,t))}return i&&(o=o.concat(Rx(i,e,r,n))),o}}function tT(e,t,n,r){const i=t.get(uS());null==n&&null!=i&&(n=Lx(i,uS()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=hx(r,t),c=e.operationForChild(t);c&&(o=o.concat(tT(c,i,a,s)))})),i&&(o=o.concat(Rx(i,e,r,n))),o}function nT(e,t){const n=t.query,r=rT(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ZS.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=oT(e,n);if(r){const n=aT(r),i=n.path,o=n.queryId,a=vS(i,t);return sT(e,i,new kE(OE(o),a))}return[]}(e,n._path,r):function(e,t){return Zx(e,new kE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Qx(e,n,null,r)}}}}function rT(e,t){const n=iT(t);return e.queryToTagMap.get(n)}function iT(e){return e._path.toString()+"$"+e._queryIdentifier}function oT(e,t){return e.tagToQueryMap.get(t)}function aT(e){const t=e.indexOf("$");return be(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new cS(e.substr(0,t))}}function sT(e,t,n){const r=e.syncPointTree_.get(t);be(r,"Missing sync point for query tag that we're tracking");return Rx(r,n,ZE(e.pendingWriteTree_,t),null)}function cT(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(be(Ax,"Reference.ts has not been loaded"),Ax)(e._repo,e._path):e}class uT{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new uT(t)}node(){return this.node_}}class lT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=gS(this.path_,e);return new lT(this.syncTree_,t)}node(){return $x(this.syncTree_,this.path_)}}const hT=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},dT=function(e,t,n){return e&&"object"===typeof e?(be(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?fT(e[".sv"],t,n):"object"===typeof e[".sv"]?pT(e[".sv"],t):void be(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fT=function(e,t,n){if("timestamp"===e)return n.timestamp;be(!1,"Unexpected server value: "+e)},pT=function(e,t,n){e.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&be(!1,"Unexpected increment value: "+r);const i=t.node();if(be(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},mT=function(e,t,n,r){return yT(t,new lT(n,e),r)},gT=function(e,t,n){return yT(e,new uT(t),n)};function yT(e,t,n){const r=e.getPriority().val(),i=dT(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=dT(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new WS(o,nE(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new WS(i))),r.forEachChild(GS,((e,r)=>{const i=yT(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class vT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function bT(e,t){let n=t instanceof cS?t:new cS(t),r=e,i=lS(n);for(;null!==i;){const e=Xe(r.node.children,i)||{children:{},childCount:0};r=new vT(i,r,e),n=dS(n),i=lS(n)}return r}function wT(e){return e.node.value}function _T(e,t){e.node.value=t,IT(e)}function ST(e){return e.node.childCount>0}function ET(e,t){k_(e.node.children,((n,r)=>{t(new vT(n,e,r))}))}function xT(e,t,n,r){n&&!r&&t(e),ET(e,(e=>{xT(e,t,!0,r)})),n&&r&&t(e)}function TT(e){return new cS(null===e.parent?e.name:TT(e.parent)+"/"+e.name)}function IT(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===wT(e)&&!ST(e)}(n),i=Ye(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,IT(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,IT(e))}(e.parent,e.name,e)}const OT=/[\[\].#$\/\u0000-\u001F\u007F]/,CT=/[\[\].#$\u0000-\u001F\u007F]/,kT=10485760,AT=function(e){return"string"===typeof e&&0!==e.length&&!OT.test(e)},PT=function(e){return"string"===typeof e&&0!==e.length&&!CT.test(e)},RT=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!__(e)||e&&"object"===typeof e&&Ye(e,".sv")},DT=function(e,t,n,r){r&&void 0===t||NT(ut(e,"value"),t,n)},NT=function(e,t,n){const r=n instanceof cS?new SS(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+xS(r));if("function"===typeof t)throw new Error(e+"contains a function "+xS(r)+" with contents = "+t.toString());if(__(t))throw new Error(e+"contains "+t.toString()+" "+xS(r));if("string"===typeof t&&t.length>kT/3&&dt(t)>kT)throw new Error(e+"contains a string greater than "+kT+" utf8 bytes "+xS(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(k_(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!AT(t)))throw new Error(e+" contains an invalid key ("+t+") "+xS(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=dt(t),ES(e)}(r,t),NT(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=dt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+xS(r)+" in addition to actual children.")}},MT=function(e,t,n,r){if(r&&void 0===t)return;const i=ut(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];k_(t,((e,t)=>{const r=new cS(e);if(NT(i,t,gS(n,r)),".priority"===fS(r)&&!RT(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=pS(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!AT(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(bS);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&_S(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},jT=function(e,t,n){if(!n||void 0!==t){if(__(t))throw new Error(ut(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!RT(t))throw new Error(ut(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},LT=function(e,t,n,r){if((!r||void 0!==n)&&!AT(n))throw new Error(ut(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},FT=function(e,t,n,r){if((!r||void 0!==n)&&!PT(n))throw new Error(ut(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},UT=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FT(e,t,n,r)},BT=function(e,t){if(".info"===lS(t))throw new Error(e+" failed = Can't modify data under /.info/")},VT=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!AT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PT(e)}(n))throw new Error(ut(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class zT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qT(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||wS(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function WT(e,t,n){qT(e,n),HT(e,(e=>wS(e,t)))}function GT(e,t,n){qT(e,n),HT(e,(e=>_S(e,t)||_S(t,e)))}function HT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(KT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function KT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();f_&&g_("event: "+n.toString()),D_(r)}}}const QT="repo_interrupt",YT=25;class XT{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wE(),this.transactionQueueTree_=new vT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $T(e,t,n){if(e.stats_=Q_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vE(e.repoInfo_,((t,n,r,i)=>{eI(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>tI(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new OS(e.repoInfo_,t,((t,n,r,i)=>{eI(e,t,n,r,i)}),(t=>{tI(e,t)}),(t=>{!function(e,t){k_(t,((t,n)=>{nI(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return K_[n]||(K_[n]=t()),K_[n]}(e.repoInfo_,(()=>new TE(e.stats_,e.server_))),e.infoData_=new bE,e.infoSyncTree_=new qx({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Kx(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),nI(e,"connected",!1),e.serverSyncTree_=new qx({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);GT(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function JT(e){const t=e.infoData_.getNode(new cS(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ZT(e){return hT({timestamp:JT(e)})}function eI(e,t,n,r,i){e.dataUpdateCount++;const o=new cS(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Je(n,(e=>nE(e)));a=function(e,t,n,r){const i=oT(e,r);if(i){const r=aT(i),o=r.path,a=r.queryId,s=vS(o,t),c=VE.fromObject(n);return sT(e,o,new PE(OE(a),s,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=nE(n);a=Yx(e.serverSyncTree_,o,t,i)}else if(r){const t=Je(n,(e=>nE(e)));a=function(e,t,n){const r=VE.fromObject(n);return Zx(e,new PE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=nE(n);a=Kx(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=fI(e,o)),GT(e.eventQueue_,s,a)}function tI(e,t){nI(e,"connected",t),!1===t&&function(e){uI(e,"onDisconnectEvents");const t=ZT(e),n=wE();EE(e.onDisconnect_,uS(),((r,i)=>{const o=mT(r,i,e.serverSyncTree_,t);_E(n,r,o)}));let r=[];EE(n,uS(),((t,n)=>{r=r.concat(Kx(e.serverSyncTree_,t,n));const i=vI(e,t);fI(e,i)})),e.onDisconnect_=wE(),GT(e.eventQueue_,uS(),r)}(e)}function nI(e,t,n){const r=new cS("/.info/"+t),i=nE(n);e.infoData_.updateSnapshot(r,i);const o=Kx(e.infoSyncTree_,r,i);GT(e.eventQueue_,r,o)}function rI(e){return e.nextWriteId_++}function iI(e,t,n,r,i){uI(e,"set",{path:t.toString(),value:n,priority:r});const o=ZT(e),a=nE(n,r),s=$x(e.serverSyncTree_,t),c=gT(a,s,o),u=rI(e),l=Wx(e.serverSyncTree_,t,c,u,!0);qT(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||w_("set at "+t+" failed: "+n);const a=Hx(e.serverSyncTree_,u,!o);GT(e.eventQueue_,t,a),lI(e,i,n,r)}));const h=vI(e,t);fI(e,h),GT(e.eventQueue_,h,[])}function oI(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&SE(e.onDisconnect_,t),lI(e,n,r,i)}))}function aI(e,t,n,r){const i=nE(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&_E(e.onDisconnect_,t,i),lI(e,r,n,o)}))}function sI(e,t,n){let r;r=".info"===lS(t._path)?Qx(e.infoSyncTree_,t,n):Qx(e.serverSyncTree_,t,n),WT(e.eventQueue_,t._path,r)}function cI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(QT)}function uI(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g_(t,...r)}function lI(e,t,n,r){t&&D_((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function hI(e,t,n){return $x(e.serverSyncTree_,t,n)||ZS.EMPTY_NODE}function dI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||yI(e,t),wT(t)){const n=mI(e,t);be(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=hI(e,t,r);let o=i;const a=i.hash();for(let u=0;u<n.length;u++){const e=n[u];be(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=vS(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const s=o.val(!0),c=t;e.server_.put(c.toString(),s,(r=>{uI(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Hx(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();yI(e,bT(e.transactionQueueTree_,t)),dI(e,e.transactionQueueTree_),GT(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)D_(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{w_("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}fI(e,t)}}),a)}(e,TT(t),n)}else ST(t)&&ET(t,(t=>{dI(e,t)}))}function fI(e,t){const n=pI(e,t),r=TT(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const o=t[c],u=vS(n,o.path);let l,h=!1;if(be(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,l=o.abortReason,i=i.concat(Hx(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=YT)h=!0,l="maxretry",i=i.concat(Hx(e.serverSyncTree_,o.currentWriteId,!0));else{const n=hI(e,o.path,a);o.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){NT("transaction failed: Data returned ",r,o.path);let t=nE(r);"object"===typeof r&&null!=r&&Ye(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=o.currentWriteId,c=ZT(e),u=gT(t,n,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=rI(e),a.splice(a.indexOf(s),1),i=i.concat(Wx(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),i=i.concat(Hx(e.serverSyncTree_,s,!0))}else h=!0,l="nodata",i=i.concat(Hx(e.serverSyncTree_,o.currentWriteId,!0))}GT(e.eventQueue_,n,i),i=[],h&&(t[c].status=2,s=t[c].unwatcher,setTimeout(s,Math.floor(0)),t[c].onComplete&&("nodata"===l?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(l),!1,null)))))}var s;yI(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)D_(r[c]);dI(e,e.transactionQueueTree_)}(e,mI(e,n),r),r}function pI(e,t){let n,r=e.transactionQueueTree_;for(n=lS(t);null!==n&&void 0===wT(r);)r=bT(r,n),n=lS(t=dS(t));return r}function mI(e,t){const n=[];return gI(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function gI(e,t,n){const r=wT(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ET(t,(t=>{gI(e,t,n)}))}function yI(e,t){const n=wT(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,_T(t,n.length>0?n:void 0)}ET(t,(t=>{yI(e,t)}))}function vI(e,t){const n=TT(pI(e,t)),r=bT(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{bI(e,t)})),bI(e,r),xT(r,(t=>{bI(e,t)})),n}function bI(e,t){const n=wT(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(be(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(be(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Hx(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?_T(t,void 0):n.length=o+1,GT(e.eventQueue_,TT(t),i);for(let e=0;e<r.length;e++)D_(r[e])}}const wI=function(e,t){const n=_I(e),r=n.namespace;"firebase.com"===n.domain&&b_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||b_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&w_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new q_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new cS(n.pathString)}},_I=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",c=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let l=e.indexOf("/");-1===l&&(l=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(l,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):w_("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(a="https"===s||"wss"===s,c=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},SI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EI=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=SI.charAt(n%64),n=Math.floor(n/64);be(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=SI.charAt(t[i]);return be(20===a.length,"nextPushId: Length should be 20."),a}}();class xI{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class TI{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class II{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return be(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class OI{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Pe;return oI(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){BT("OnDisconnect.remove",this._path);const e=new Pe;return aI(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){BT("OnDisconnect.set",this._path),DT("OnDisconnect.set",e,this._path,!1);const t=new Pe;return aI(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){BT("OnDisconnect.setWithPriority",this._path),DT("OnDisconnect.setWithPriority",e,this._path,!1),jT("OnDisconnect.setWithPriority",t,!1);const n=new Pe;return function(e,t,n,r,i){const o=nE(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&_E(e.onDisconnect_,t,o),lI(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){BT("OnDisconnect.update",this._path),MT("OnDisconnect.update",e,this._path,!1);const t=new Pe;return function(e,t,n,r){if($e(n))return g_("onDisconnect().update() called with empty data.  Don't do anything."),void lI(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&k_(n,((n,r)=>{const i=nE(r);_E(e.onDisconnect_,gS(t,n),i)})),lI(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class CI{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return yS(this._path)?null:fS(this._path)}get ref(){return new RI(this._repo,this._path)}get _queryIdentifier(){const e=yE(this._queryParams),t=O_(e);return"{}"===t?"default":t}get _queryObject(){return yE(this._queryParams)}isEqual(e){if(!((e=vt(e))instanceof CI))return!1;const t=this._repo===e._repo,n=wS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function kI(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function AI(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===RS){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==S_)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==E_)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===GS){if(null!=t&&!RT(t)||null!=n&&!RT(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(be(e.getIndex()instanceof rE||e.getIndex()===iE,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PI(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class RI extends CI{constructor(e,t){super(e,t,new dE,!1)}get parent(){const e=mS(this._path);return null===e?null:new RI(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class DI{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new cS(e),n=jI(this.ref,e);return new DI(this._node.getChild(t),n,GS)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new DI(n,jI(this.ref,t),GS))))}hasChild(e){const t=new cS(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function NI(e,t){return(e=vt(e))._checkNotDeleted("ref"),void 0!==t?jI(e._root,t):e._root}function MI(e,t){(e=vt(e))._checkNotDeleted("refFromURL");const n=wI(t,e._repo.repoInfo_.nodeAdmin);VT("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||b_("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),NI(e,n.path.toString())}function jI(e,t){return null===lS((e=vt(e))._path)?UT("child","path",t,!1):FT("child","path",t,!1),new RI(e._repo,gS(e._path,t))}function LI(e,t){e=vt(e),BT("set",e._path),DT("set",t,e._path,!1);const n=new Pe;return iI(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function FI(e,t){MT("update",t,e._path,!1);const n=new Pe;return function(e,t,n,r){uI(e,"update",{path:t.toString(),value:n});let i=!0;const o=ZT(e),a={};if(k_(n,((n,r)=>{i=!1,a[n]=mT(gS(t,n),nE(r),e.serverSyncTree_,o)})),i)g_("update() called with empty data.  Don't do anything."),lI(0,r,"ok",void 0);else{const i=rI(e),o=Gx(e.serverSyncTree_,t,a,i);qT(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const a="ok"===n;a||w_("update at "+t+" failed: "+n);const s=Hx(e.serverSyncTree_,i,!a),c=s.length>0?fI(e,t):t;GT(e.eventQueue_,c,s),lI(0,r,n,o)})),k_(n,(n=>{const r=vI(e,gS(t,n));fI(e,r)})),GT(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function UI(e){e=vt(e);const t=new II((()=>{})),n=new BI(t);return function(e,t,n){const r=Jx(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=nE(r).withIndex(t._queryParams.getIndex());let o;if(Xx(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Kx(e.serverSyncTree_,t._path,i);else{const n=rT(e.serverSyncTree_,t);o=Yx(e.serverSyncTree_,t._path,i,n)}return GT(e.eventQueue_,t._path,o),Qx(e.serverSyncTree_,t,n,null,!0),i}),(n=>(uI(e,"get for query "+Ke(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new DI(t,new RI(e._repo,e._path),e._queryParams.getIndex())))}class BI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new xI("value",this,new DI(e.snapshotNode,new RI(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new TI(this,e,t):null}matches(e){return e instanceof BI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class VI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new TI(this,e,t):null}createEvent(e,t){be(null!=e.childName,"Child events should have a childName.");const n=jI(new RI(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xI(e.type,this,new DI(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof VI&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function zI(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{sI(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new II(n,o||void 0),s="value"===t?new BI(a):new VI(t,a);return function(e,t,n){let r;r=".info"===lS(t._path)?Xx(e.infoSyncTree_,t,n):Xx(e.serverSyncTree_,t,n),WT(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>sI(e._repo,e,s)}function qI(e,t,n,r){return zI(e,"value",t,n,r)}function WI(e,t,n,r){return zI(e,"child_added",t,n,r)}function GI(e,t,n,r){return zI(e,"child_changed",t,n,r)}function HI(e,t,n,r){return zI(e,"child_moved",t,n,r)}function KI(e,t,n,r){return zI(e,"child_removed",t,n,r)}function QI(e,t,n){let r=null;const i=n?new II(n):null;"value"===t?r=new BI(i):t&&(r=new VI(t,i)),sI(e._repo,e,r)}class YI{}class XI extends YI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){DT("endAt",this._value,e._path,!0);const t=pE(e._queryParams,this._value,this._key);if(PI(t),AI(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new CI(e._repo,e._path,t,e._orderByCalled)}}class $I extends YI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){DT("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===RS||n?pE(e,t,n):pE(e,t,S_),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(PI(t),AI(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new CI(e._repo,e._path,t,e._orderByCalled)}}class JI extends YI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){DT("startAt",this._value,e._path,!0);const t=fE(e._queryParams,this._value,this._key);if(PI(t),AI(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new CI(e._repo,e._path,t,e._orderByCalled)}}class ZI extends YI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){DT("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===RS||n?fE(e,t,n):fE(e,t,E_),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(PI(t),AI(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new CI(e._repo,e._path,t,e._orderByCalled)}}class eO extends YI{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new CI(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class tO extends YI{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new CI(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class nO extends YI{constructor(e){super(),this._path=e}_apply(e){kI(e,"orderByChild");const t=new cS(this._path);if(yS(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new rE(t),r=mE(e._queryParams,n);return AI(r),new CI(e._repo,e._path,r,!0)}}class rO extends YI{_apply(e){kI(e,"orderByKey");const t=mE(e._queryParams,RS);return AI(t),new CI(e._repo,e._path,t,!0)}}class iO extends YI{_apply(e){kI(e,"orderByPriority");const t=mE(e._queryParams,GS);return AI(t),new CI(e._repo,e._path,t,!0)}}class oO extends YI{_apply(e){kI(e,"orderByValue");const t=mE(e._queryParams,iE);return AI(t),new CI(e._repo,e._path,t,!0)}}class aO extends YI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(DT("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new XI(this._value,this._key)._apply(new JI(this._value,this._key)._apply(e))}}function sO(e){let t=vt(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){be(!kx,"__referenceConstructor has already been defined"),kx=e}(RI),function(e){be(!Ax,"__referenceConstructor has already been defined"),Ax=e}(RI);const cO="FIREBASE_DATABASE_EMULATOR_HOST",uO={};let lO=!1;function hO(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||b_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),g_("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,s,c=wI(o,i),u=c.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/TechGeneration",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[cO]),s?(a=!0,o="http://".concat(s,"?ns=").concat(u.namespace),c=wI(o,i),u=c.repoInfo):a=!c.repoInfo.secure;const l=i&&a?new L_(L_.OWNER):new j_(e.name,e.options,t);VT("Invalid Firebase Database URL",c),yS(c.path)||b_("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=uO[t.name];i||(i={},uO[t.name]=i);let o=i[e.toURLString()];o&&b_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new XT(e,lO,n,r),i[e.toURLString()]=o,o}(u,e,l,new M_(e.name,n));return new dO(h,e)}class dO{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($T(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new RI(this._repo,uS())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=uO[t];n&&n[e.key]===e||b_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),cI(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&b_("Cannot call "+e+" on a deleted database.")}}function fO(){tS.IS_TRANSPORT_INITIALIZED&&w_("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function pO(){fO(),$_.forceDisallow()}function mO(){fO(),eS.forceDisallow(),$_.forceAllow()}function gO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=vt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&b_("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&b_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new L_(L_.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Re(r.mockUserToken,e.app.options.projectId);o=new L_(t)}!function(e,t,n,r){e.repoInfo_=new q_("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function yO(e){var t;(e=vt(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(QT)}function vO(e,t){m_(e,t)}const bO={".sv":"timestamp"};class wO{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function _O(e,t,n){var r;if(e=vt(e),BT("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new Pe,a=qI(e,(()=>{}));return function(e,t,n,r,i,o){uI(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:l_(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=hI(e,t,void 0);a.currentInputSnapshot=s;const c=a.update(s.val());if(void 0===c)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{NT("transaction failed: Data returned ",c,a.path),a.status=0;const n=bT(e.transactionQueueTree_,t),r=wT(n)||[];let i;r.push(a),_T(n,r),"object"===typeof c&&null!==c&&Ye(c,".priority")?(i=Xe(c,".priority"),be(RT(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=($x(e.serverSyncTree_,t)||ZS.EMPTY_NODE).getPriority().val();const o=ZT(e),u=nE(c,i),l=gT(u,s,o);a.currentOutputSnapshotRaw=u,a.currentOutputSnapshotResolved=l,a.currentWriteId=rI(e);const h=Wx(e.serverSyncTree_,t,l,a.currentWriteId,a.applyLocally);GT(e.eventQueue_,t,h),dI(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new DI(r,new RI(e._repo,e._path),GS),o.resolve(new wO(n,i)))}),a,i),o.promise}OS.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},OS.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){r_(Qt),zt(new bt("database",((e,t)=>{let{instanceIdentifier:n}=t;return hO(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zt(e_,t_,e),Zt(e_,t_,"esm2017")}();const SO=new At("@firebase/database-compat"),EO=function(e){const t="FIREBASE WARNING: "+e;SO.warn(t)};class xO{constructor(e){this._delegate=e}cancel(e){ct("OnDisconnect.cancel",0,1,arguments.length),lt("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){ct("OnDisconnect.remove",0,1,arguments.length),lt("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){ct("OnDisconnect.set",1,2,arguments.length),lt("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){ct("OnDisconnect.setWithPriority",2,3,arguments.length),lt("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(ct("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,EO("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class TO{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return ct("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class IO{constructor(e,t){this._database=e,this._delegate=t}val(){return ct("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ct("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ct("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ct("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ct("DataSnapshot.child",0,1,arguments.length),e=String(e),FT("DataSnapshot.child","path",e,!1),new IO(this._database,this._delegate.child(e))}hasChild(e){return ct("DataSnapshot.hasChild",1,1,arguments.length),FT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ct("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ct("DataSnapshot.forEach",1,1,arguments.length),lt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new IO(this._database,t))))}hasChildren(){return ct("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ct("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ct("DataSnapshot.ref",0,0,arguments.length),new CO(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class OO{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;ct("Query.on",2,4,arguments.length),lt("Query.on","callback",t,!1);const o=OO.getCancelAndContextArgs_("Query.on",n,r),a=(e,n)=>{t.call(o.context,new IO(this.database,e),n)};a.userCallback=t,a.context=o.context;const s=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return qI(this._delegate,a,s),t;case"child_added":return WI(this._delegate,a,s),t;case"child_removed":return KI(this._delegate,a,s),t;case"child_changed":return GI(this._delegate,a,s),t;case"child_moved":return HI(this._delegate,a,s),t;default:throw new Error(ut("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(ct("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ut(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),lt("Query.off","callback",t,!0),ht("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,QI(this._delegate,e,r)}else QI(this._delegate,e)}get(){return UI(this._delegate).then((e=>new IO(this.database,e)))}once(e,t,n,r){ct("Query.once",1,4,arguments.length),lt("Query.once","callback",t,!0);const i=OO.getCancelAndContextArgs_("Query.once",n,r),o=new Pe,a=(e,n)=>{const r=new IO(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};a.userCallback=t,a.context=i.context;const s=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":qI(this._delegate,a,s,{onlyOnce:!0});break;case"child_added":WI(this._delegate,a,s,{onlyOnce:!0});break;case"child_removed":KI(this._delegate,a,s,{onlyOnce:!0});break;case"child_changed":GI(this._delegate,a,s,{onlyOnce:!0});break;case"child_moved":HI(this._delegate,a,s,{onlyOnce:!0});break;default:throw new Error(ut("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ct("Query.limitToFirst",1,1,arguments.length),new OO(this.database,sO(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eO(e)}(e)))}limitToLast(e){return ct("Query.limitToLast",1,1,arguments.length),new OO(this.database,sO(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tO(e)}(e)))}orderByChild(e){return ct("Query.orderByChild",1,1,arguments.length),new OO(this.database,sO(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return FT("orderByChild","path",e,!1),new nO(e)}(e)))}orderByKey(){return ct("Query.orderByKey",0,0,arguments.length),new OO(this.database,sO(this._delegate,new rO))}orderByPriority(){return ct("Query.orderByPriority",0,0,arguments.length),new OO(this.database,sO(this._delegate,new iO))}orderByValue(){return ct("Query.orderByValue",0,0,arguments.length),new OO(this.database,sO(this._delegate,new oO))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ct("Query.startAt",0,2,arguments.length),new OO(this.database,sO(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return LT("startAt","key",t,!0),new JI(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ct("Query.startAfter",0,2,arguments.length),new OO(this.database,sO(this._delegate,function(e,t){return LT("startAfter","key",t,!0),new ZI(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ct("Query.endAt",0,2,arguments.length),new OO(this.database,sO(this._delegate,function(e,t){return LT("endAt","key",t,!0),new XI(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ct("Query.endBefore",0,2,arguments.length),new OO(this.database,sO(this._delegate,function(e,t){return LT("endBefore","key",t,!0),new $I(e,t)}(e,t)))}equalTo(e,t){return ct("Query.equalTo",1,2,arguments.length),new OO(this.database,sO(this._delegate,function(e,t){return LT("equalTo","key",t,!0),new aO(e,t)}(e,t)))}toString(){return ct("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ct("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ct("Query.isEqual",1,1,arguments.length),!(e instanceof OO)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,lt(e,"cancel",r.cancel,!0),r.context=n,ht(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(ut(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new CO(this.database,new RI(this._delegate._repo,this._delegate._path))}}class CO extends OO{constructor(e,t){super(e,new CI(t._repo,t._path,new dE,!1)),this.database=e,this._delegate=t}getKey(){return ct("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ct("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new CO(this.database,jI(this._delegate,e))}getParent(){ct("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new CO(this.database,e):null}getRoot(){return ct("Reference.root",0,0,arguments.length),new CO(this.database,this._delegate.root)}set(e,t){ct("Reference.set",1,2,arguments.length),lt("Reference.set","onComplete",t,!0);const n=LI(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(ct("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,EO("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}BT("Reference.update",this._delegate._path),lt("Reference.update","onComplete",t,!0);const n=FI(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){ct("Reference.setWithPriority",2,3,arguments.length),lt("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(BT("setWithPriority",e._path),DT("setWithPriority",t,e._path,!1),jT("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Pe;return iI(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){ct("Reference.remove",0,1,arguments.length),lt("Reference.remove","onComplete",e,!0);const t=function(e){return BT("remove",e._path),LI(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){ct("Reference.transaction",1,3,arguments.length),lt("Reference.transaction","transactionUpdate",e,!1),lt("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(ut(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=_O(this._delegate,e,{applyLocally:n}).then((e=>new TO(e.committed,new IO(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){ct("Reference.setPriority",1,2,arguments.length),lt("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=vt(e),BT("setPriority",e._path),jT("setPriority",t,!1);const n=new Pe;return iI(e._repo,gS(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){ct("Reference.push",0,2,arguments.length),lt("Reference.push","onComplete",t,!0);const n=function(e,t){e=vt(e),BT("push",e._path),DT("push",t,e._path,!0);const n=JT(e._repo),r=EI(n),i=jI(e,r),o=jI(e,r);let a;return a=null!=t?LI(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}(this._delegate,e),r=n.then((e=>new CO(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new CO(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return BT("Reference.onDisconnect",this._delegate._path),new xO(new OI(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class kO{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:pO,forceLongPolling:mO}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gO(this._delegate,e,t,n)}ref(e){if(ct("database.ref",0,1,arguments.length),e instanceof CO){const t=MI(this._delegate,e.toString());return new CO(this,t)}{const t=NI(this._delegate,e);return new CO(this,t)}}refFromURL(e){ct("database.refFromURL",1,1,arguments.length);const t=MI(this._delegate,e);return new CO(this,t)}goOffline(){return ct("database.goOffline",0,0,arguments.length),function(e){(e=vt(e))._checkNotDeleted("goOffline"),cI(e._repo)}(this._delegate)}goOnline(){return ct("database.goOnline",0,0,arguments.length),yO(this._delegate)}}kO.ServerValue={TIMESTAMP:bO,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var AO=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,namespace:o,nodeAdmin:a=!1}=e;r_(r);const s=new _t("auth-internal",new Et("database-standalone"));return s.setComponent(new bt("auth-internal",(()=>i),"PRIVATE")),{instance:new kO(hO(t,s,void 0,n,a),t),namespace:o}}});const PO=kO.ServerValue;!function(e){e.INTERNAL.registerComponent(new bt("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new kO(i,r)}),"PUBLIC").setServiceProps({Reference:CO,Query:OO,Database:kO,DataSnapshot:IO,enableLogging:vO,INTERNAL:AO,ServerValue:PO}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(bn);var RO=n(5971);const DO={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},NO="EMAIL_SIGNIN",MO="PASSWORD_RESET",jO="RECOVER_EMAIL",LO="REVERT_SECOND_FACTOR_ADDITION",FO="VERIFY_AND_CHANGE_EMAIL",UO="VERIFY_EMAIL";function BO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VO=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},zO=BO,qO=new We("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),WO=new At("@firebase/auth");function GO(e){if(WO.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];WO.error("Auth (".concat(Qt,"): ").concat(e),...n)}}function HO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw XO(e,...n)}function KO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XO(e,...n)}function QO(e,t,n){const r=Object.assign(Object.assign({},zO()),{[t]:n});return new We("auth","Firebase",r).create(t,{appName:e.name})}function YO(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&HO(e,"argument-error"),QO(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function XO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qO.create(e,...n)}function $O(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw XO(t,...r)}}function JO(e){const t="INTERNAL ASSERTION FAILED: "+e;throw GO(t),new Error(t)}function ZO(e,t){e||JO(t)}function eC(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tC(){return"http:"===nC()||"https:"===nC()}function nC(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class rC{constructor(e,t){this.shortDelay=e,this.longDelay=t,ZO(t>e,"Short delay should be less than long delay!"),this.isMobile=Ne()||Le()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tC()||je()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function iC(e,t){ZO(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class oC{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void JO("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void JO("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void JO("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sC=new rC(3e4,6e4);function cC(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function uC(e,t,n,r){return lC(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=tt(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),oC.fetch()(dC(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function lC(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},aC),t);try{const t=new fC(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pC(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pC(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw pC(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw pC(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw QO(e,s,a);HO(e,s)}}catch(i){if(i instanceof qe)throw i;HO(e,"network-request-failed",{message:String(i)})}}async function hC(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await uC(e,t,n,r,i);return"mfaPendingCredential"in o&&HO(e,"multi-factor-auth-required",{_serverResponse:o}),o}function dC(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?iC(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class fC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(KO(this.auth,"network-request-failed"))),sC.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function pC(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=KO(e,t,r);return i.customData._tokenResponse=n,i}function mC(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function gC(e){return 1e3*Number(e)}function yC(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return GO("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ie(n);return e?JSON.parse(e):(GO("Failed to decode base64 JWT payload"),null)}catch(i){return GO("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function vC(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof qe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class wC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mC(this.lastLoginAt),this.creationTime=mC(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _C(e){var t;const n=e.auth,r=await e.getIdToken(),i=await vC(e,async function(e,t){return uC(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));$O(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=(0,RO.__rest)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(c=e.providerData,u=a,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const l=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),d=!!l&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new wC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class SC{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$O(e.idToken,"internal-error"),$O("undefined"!==typeof e.idToken,"internal-error"),$O("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=yC(e);return $O(t,"internal-error"),$O("undefined"!==typeof t.exp,"internal-error"),$O("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return $O(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await lC(e,{},(async()=>{const n=tt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=dC(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oC.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new SC;return n&&($O("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&($O("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&($O("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new SC,this.toJSON())}_performRefresh(){return JO("not implemented")}}function EC(e,t){$O("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xC{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,RO.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await vC(this,this.stsTokenManager.getToken(this.auth,e));return $O(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=vt(e),r=await n.getIdToken(t),i=yC(r);$O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:mC(gC(i.auth_time)),issuedAtTime:mC(gC(i.iat)),expirationTime:mC(gC(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vt(e);await _C(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&($O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xC(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _C(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vC(this,async function(e,t){return uC(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;$O(v&&S,e,"internal-error");const E=SC.fromJSON(this.name,S);$O("string"===typeof v,e,"internal-error"),EC(l,e.name),EC(h,e.name),$O("boolean"===typeof b,e,"internal-error"),$O("boolean"===typeof w,e,"internal-error"),EC(d,e.name),EC(f,e.name),EC(p,e.name),EC(m,e.name),EC(g,e.name),EC(y,e.name);const x=new xC({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new SC;r.updateFromServerResponse(t);const i=new xC({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await _C(i),i}}const TC=new Map;function IC(e){ZO(e instanceof Function,"Expected a class definition");let t=TC.get(e);return t?(ZO(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,TC.set(e,t),t)}class OC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OC.type="NONE";const CC=OC;function kC(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class AC{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=kC(this.userKey,r.apiKey,i),this.fullPersistenceKey=kC("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xC._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new AC(IC(CC),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||IC(CC);const o=kC(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=xC._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(ov){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(ov){}}))),new AC(i,e,n)):new AC(i,e,n)}}function PC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LC(t))return"Blackberry";if(FC(t))return"Webos";if(DC(t))return"Safari";if((t.includes("chrome/")||NC(t))&&!t.includes("edge/"))return"Chrome";if(jC(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function RC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/firefox\//i.test(e)}function DC(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:De()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/crios\//i.test(e)}function MC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/iemobile/i.test(e)}function jC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/android/i.test(e)}function LC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/blackberry/i.test(e)}function FC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/webos/i.test(e)}function UC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function BC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return UC(e)||jC(e)||FC(e)||LC(e)||/windows phone/i.test(e)||MC(e)}function VC(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=PC(De());break;case"Worker":t="".concat(PC(De()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qt,"/").concat(r)}async function zC(e,t){return uC(e,"GET","/v2/recaptchaConfig",cC(e,t))}function qC(e){return void 0!==e&&void 0!==e.getResponse}function WC(e){return void 0!==e&&void 0!==e.enterprise}class GC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function HC(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=KO("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function KC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class QC{constructor(e){this.type="recaptcha-enterprise",this.auth=JC(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;WC(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new GC(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&WC(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));HC("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function YC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new QC(e);let o;try{o=await i.verify(n)}catch(v_){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class XC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class $C{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZC(this),this.idTokenSubscription=new ZC(this),this.beforeStateQueue=new XC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=IC(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await AC.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $O(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _C(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?vt(e):null;return t&&$O(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&$O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(IC(e))}))}async initializeRecaptchaConfig(){const e=await zC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new GC(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new QC(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new We("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&IC(e)||this._popupRedirectResolver;$O(t,this,"argument-error"),this.redirectPersistenceManager=await AC.create(this,[IC(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $O(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(WO.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];WO.warn("Auth (".concat(Qt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function JC(e){return vt(e)}class ZC{constructor(e){this.auth=e,this.observer=null,this.addObserver=ot((e=>this.observer=e))}get next(){return $O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ek(e,t,n){const r=JC(e);$O(r._canInitEmulator,r,"emulator-config-failed"),$O(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=tk(t),{host:a,port:s}=function(e){const t=tk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:nk(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:nk(t)}}}(t),c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class rk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return JO("not implemented")}_getIdTokenResponse(e){return JO("not implemented")}_linkToIdToken(e,t){return JO("not implemented")}_getReauthenticationResolver(e){return JO("not implemented")}}async function ik(e,t){return uC(e,"POST","/v1/accounts:resetPassword",cC(e,t))}async function ok(e,t){return uC(e,"POST","/v1/accounts:update",t)}async function ak(e,t){return hC(e,"POST","/v1/accounts:signInWithPassword",cC(e,t))}async function sk(e,t){return uC(e,"POST","/v1/accounts:sendOobCode",cC(e,t))}async function ck(e,t){return sk(e,t)}async function uk(e,t){return sk(e,t)}class lk extends rk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lk(e,t,"password")}static _fromEmailAndCode(e,t){return new lk(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await YC(e,n,"signInWithPassword");return ak(e,t)}return ak(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await YC(e,n,"signInWithPassword");return ak(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return hC(e,"POST","/v1/accounts:signInWithEmailLink",cC(e,t))}(e,{email:this._email,oobCode:this._password});default:HO(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ok(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return hC(e,"POST","/v1/accounts:signInWithEmailLink",cC(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:HO(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hk(e,t){return hC(e,"POST","/v1/accounts:signInWithIdp",cC(e,t))}class dk extends rk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new dk(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):HO("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,RO.__rest)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new dk(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return hk(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hk(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hk(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tt(t)}return e}}const fk={USER_NOT_FOUND:"user-not-found"};class pk extends rk{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pk({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pk({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hC(e,"POST","/v1/accounts:signInWithPhoneNumber",cC(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await hC(e,"POST","/v1/accounts:signInWithPhoneNumber",cC(e,t));if(n.temporaryProof)throw pC(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hC(e,"POST","/v1/accounts:signInWithPhoneNumber",cC(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fk)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new pk({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class mk{constructor(e){var t,n,r,i,o,a;const s=nt(rt(e)),c=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);$O(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=nt(rt(e)).link,n=t?nt(rt(t)).deep_link_id:null,r=nt(rt(e)).deep_link_id;return(r?nt(rt(r)).link:null)||r||n||t||e}(e);try{return new mk(t)}catch(ov){return null}}}class gk{constructor(){this.providerId=gk.PROVIDER_ID}static credential(e,t){return lk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=mk.parseLink(t);return $O(n,"argument-error"),lk._fromEmailAndCode(e,n.code,n.tenantId)}}gk.PROVIDER_ID="password",gk.EMAIL_PASSWORD_SIGN_IN_METHOD="password",gk.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vk extends yk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bk extends vk{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return $O("providerId"in t&&"signInMethod"in t,"argument-error"),dk._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return $O(e.idToken||e.accessToken,"argument-error"),dk._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bk.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bk.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new bk(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(c){return null}}}class wk extends vk{constructor(){super("facebook.com")}static credential(e){return dk._fromParams({providerId:wk.PROVIDER_ID,signInMethod:wk.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wk.credentialFromTaggedObject(e)}static credentialFromError(e){return wk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wk.credential(t.oauthAccessToken)}catch(ov){return null}}}wk.FACEBOOK_SIGN_IN_METHOD="facebook.com",wk.PROVIDER_ID="facebook.com";class _k extends vk{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return dk._fromParams({providerId:_k.PROVIDER_ID,signInMethod:_k.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _k.credentialFromTaggedObject(e)}static credentialFromError(e){return _k.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _k.credential(n,r)}catch(ov){return null}}}_k.GOOGLE_SIGN_IN_METHOD="google.com",_k.PROVIDER_ID="google.com";class Sk extends vk{constructor(){super("github.com")}static credential(e){return dk._fromParams({providerId:Sk.PROVIDER_ID,signInMethod:Sk.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sk.credentialFromTaggedObject(e)}static credentialFromError(e){return Sk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Sk.credential(t.oauthAccessToken)}catch(ov){return null}}}Sk.GITHUB_SIGN_IN_METHOD="github.com",Sk.PROVIDER_ID="github.com";class Ek extends rk{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return hk(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,hk(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hk(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ek(n,i):null}static _create(e,t){return new Ek(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xk extends yk{constructor(e){$O(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return xk.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return xk.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ek.fromJSON(e);return $O(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ek._create(r,n)}catch(i){return null}}}class Tk extends vk{constructor(){super("twitter.com")}static credential(e,t){return dk._fromParams({providerId:Tk.PROVIDER_ID,signInMethod:Tk.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tk.credentialFromTaggedObject(e)}static credentialFromError(e){return Tk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Tk.credential(n,r)}catch(ov){return null}}}async function Ik(e,t){return hC(e,"POST","/v1/accounts:signUp",cC(e,t))}Tk.TWITTER_SIGN_IN_METHOD="twitter.com",Tk.PROVIDER_ID="twitter.com";class Ok{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await xC._fromIdTokenResponse(e,n,r),o=Ck(n);return new Ok({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ck(n);return new Ok({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ck(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class kk extends qe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kk.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new kk(e,t,n,r)}}function Ak(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw kk._fromErrorAndOperation(e,n,t,r);throw n}))}function Pk(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Rk(e,t){const n=vt(e);await Nk(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return uC(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Pk(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Dk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await vC(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ok._forOperation(e,"link",r)}async function Nk(e,t,n){await _C(t);const r=!1===e?"provider-already-linked":"no-such-provider";$O(Pk(t.providerData).has(n)===e,t.auth,r)}async function Mk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await vC(e,Ak(r,i,t,e),n);$O(o.idToken,r,"internal-error");const a=yC(o.idToken);$O(a,r,"internal-error");const{sub:s}=a;return $O(e.uid===s,r,"user-mismatch"),Ok._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&HO(r,"user-mismatch"),o}}async function jk(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ak(e,r,t),o=await Ok._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Lk(e,t){return jk(JC(e),t)}async function Fk(e,t){const n=vt(e);return await Nk(!1,n,t.providerId),Dk(n,t)}async function Uk(e,t){return Mk(vt(e),t)}async function Bk(e,t){const n=JC(e),r=await async function(e,t){return hC(e,"POST","/v1/accounts:signInWithCustomToken",cC(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ok._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Vk{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?zk._fromServerResponse(e,t):"totpInfo"in t?qk._fromServerResponse(e,t):HO(e,"internal-error")}}class zk extends Vk{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new zk(t)}}class qk extends Vk{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new qk(t)}}function Wk(e,t,n){var r;$O((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$O("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($O(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($O(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Gk(e,t){await async function(e,t){return uC(e,"POST","/v1/accounts:update",cC(e,t))}(vt(e),{oobCode:t})}async function Hk(e,t){const n=vt(e),r=await ik(n,{oobCode:t}),i=r.requestType;switch($O(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$O(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$O(r.mfaInfo,n,"internal-error");default:$O(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Vk._fromServerResponse(JC(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Kk(e,t){const n={identifier:t,continueUri:tC()?eC():"http://localhost"},{signinMethods:r}=await async function(e,t){return uC(e,"POST","/v1/accounts:createAuthUri",cC(e,t))}(vt(e),n);return r||[]}async function Qk(e,t){const n=vt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Wk(n.auth,r,t);const{email:i}=await async function(e,t){return sk(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Yk(e,t,n){const r=vt(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Wk(r.auth,i,n);const{email:o}=await async function(e,t){return sk(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Xk(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=vt(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await vC(i,async function(e,t){return uC(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function $k(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await vC(e,ok(r,i));await e._updateTokensIfNecessary(o,!0)}class Jk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Zk extends Jk{constructor(e,t,n,r){super(e,t,n),this.username=r}}class eA extends Jk{constructor(e,t){super(e,"facebook.com",t)}}class tA extends Zk{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class nA extends Jk{constructor(e,t){super(e,"google.com",t)}}class rA extends Zk{constructor(e,t,n){super(e,"twitter.com",t,n)}}function iA(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=yC(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Jk(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new eA(o,i);case"github.com":return new tA(o,i);case"google.com":return new nA(o,i);case"twitter.com":return new rA(o,i,e.screenName||null);case"custom":case"anonymous":return new Jk(o,null);default:return new Jk(o,r,i)}}(n)}class oA{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new oA("enroll",e,t)}static _fromMfaPendingCredential(e){return new oA("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return oA._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return oA._fromIdtoken(e.multiFactorSession.idToken)}return null}}class aA{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=JC(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Vk._fromServerResponse(n,e)));$O(r.mfaPendingCredential,n,"internal-error");const o=oA._fromMfaPendingCredential(r.mfaPendingCredential);return new aA(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ok._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return $O(t.user,n,"internal-error"),Ok._forOperation(t.user,t.operationType,a);default:HO(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class sA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Vk._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new sA(e)}async getSession(){return oA._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await vC(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await vC(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},uC(r,"POST","/v2/accounts/mfaEnrollment:withdraw",cC(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const cA=new WeakMap;const uA="__sak";class lA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uA,"1"),this.storage.removeItem(uA),Promise.resolve(!0)):Promise.resolve(!1)}catch(ov){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class hA extends lA{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=De();return DC(e)||UC(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=BC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fe()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const dA=hA;class fA extends lA{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fA.type="SESSION";const pA=fA;class mA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new mA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mA.receivers=[];class yA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const c=gA("",20);r.port1.start();const u=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function vA(){return window}function bA(){return"undefined"!==typeof vA().WorkerGlobalScope&&"function"===typeof vA().importScripts}const wA="firebaseLocalStorageDb",_A="firebaseLocalStorage",SA="fbase_key";class EA{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xA(e,t){return e.transaction([_A],t?"readwrite":"readonly").objectStore(_A)}function TA(){const e=indexedDB.open(wA,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(_A,{keyPath:SA})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(_A)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wA);return new EA(e).toPromise()}(),t(await TA()))}))}))}async function IA(e,t,n){const r=xA(e,!0).put({[SA]:t,value:n});return new EA(r).toPromise()}function OA(e,t){const n=xA(e,!0).delete(t);return new EA(n).toPromise()}class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await TA()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mA._getInstance(bA()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(ov){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TA();return await IA(e,uA,"1"),await OA(e,uA),!0}catch(ov){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>IA(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xA(e,!1).get(t),r=await new EA(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>OA(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xA(e,!1).getAll();return new EA(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}CA.type="LOCAL";const kA=CA;const AA=1e12;class PA{constructor(e){this.auth=e,this.counter=AA,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new RA(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||AA;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||AA;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||AA;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class RA{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;$O(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const DA=KC("rcb"),NA=new rC(3e4,6e4);class MA{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=vA().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $O(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&qC(vA().grecaptcha)?Promise.resolve(vA().grecaptcha):new Promise(((n,r)=>{const i=vA().setTimeout((()=>{r(KO(e,"network-request-failed"))}),NA.get());vA()[DA]=()=>{vA().clearTimeout(i),delete vA()[DA];const o=vA().grecaptcha;if(!o||!qC(o))return void r(KO(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};HC("".concat("https://www.google.com/recaptcha/api.js?","?").concat(tt({onload:DA,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(KO(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=vA().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jA{async load(e){return new PA(e)}clearedOneInstance(){}}const LA="recaptcha",FA={theme:"light",type:"image"};class UA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},FA),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=LA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=JC(n),this.isInvisible="invisible"===this.parameters.size,$O("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;$O(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jA:new MA,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){$O(!this.parameters.sitekey,this.auth,"argument-error"),$O(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$O("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=vA()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){$O(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){$O(tC()&&!bA(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await uC(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);$O(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return $O(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class BA{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=pk._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function VA(e,t,n){var r;const i=await n.verify();try{let o;if($O("string"===typeof i,e,"argument-error"),$O(n.type===LA,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){$O("enroll"===t.type,e,"internal-error");const n=await function(e,t){return uC(e,"POST","/v2/accounts/mfaEnrollment:start",cC(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{$O("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;$O(n,e,"missing-multi-factor-info");const a=await function(e,t){return uC(e,"POST","/v2/accounts/mfaSignIn:start",cC(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return uC(e,"POST","/v1/accounts:sendVerificationCode",cC(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class zA{constructor(e){this.providerId=zA.PROVIDER_ID,this.auth=JC(e)}verifyPhoneNumber(e,t){return VA(this.auth,e,vt(t))}static credential(e,t){return pk._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zA.credentialFromTaggedObject(t)}static credentialFromError(e){return zA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?pk._fromTokenResponse(n,r):null}}function qA(e,t){return t?IC(t):($O(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zA.PROVIDER_ID="phone",zA.PHONE_SIGN_IN_METHOD="phone";class WA extends rk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hk(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hk(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hk(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GA(e){return jk(e.auth,new WA(e),e.bypassAuthState)}function HA(e){const{auth:t,user:n}=e;return $O(n,t,"internal-error"),Mk(n,new WA(e),e.bypassAuthState)}async function KA(e){const{auth:t,user:n}=e;return $O(n,t,"internal-error"),Dk(n,new WA(e),e.bypassAuthState)}class QA{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GA;case"linkViaPopup":case"linkViaRedirect":return KA;case"reauthViaPopup":case"reauthViaRedirect":return HA;default:HO(this.auth,"internal-error")}}resolve(e){ZO(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ZO(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YA=new rC(2e3,1e4);class XA extends QA{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,XA.currentPopupAction&&XA.currentPopupAction.cancel(),XA.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $O(e,this.auth,"internal-error"),e}async onExecution(){ZO(1===this.filter.length,"Popup operations only handle one event");const e=gA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(KO(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(KO(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,XA.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(KO(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,YA.get())};e()}}XA.currentPopupAction=null;const $A="pendingRedirect",JA=new Map;class ZA extends QA{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=JA.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rP(t),r=nP(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}JA.set(this.auth._key(),e)}return this.bypassAuthState||JA.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function eP(e,t){return nP(e)._set(rP(t),"true")}function tP(e,t){JA.set(e._key(),t)}function nP(e){return IC(e._redirectPersistence)}function rP(e){return kC($A,e.config.apiKey,e.name)}function iP(e,t,n){return async function(e,t,n){const r=JC(e);YO(e,t,yk),await r._initializationPromise;const i=qA(r,n);return await eP(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function oP(e,t,n){return async function(e,t,n){const r=vt(e);YO(r.auth,t,yk),await r.auth._initializationPromise;const i=qA(r.auth,n);await eP(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function aP(e,t,n){return async function(e,t,n){const r=vt(e);YO(r.auth,t,yk),await r.auth._initializationPromise;const i=qA(r.auth,n);await Nk(!1,r,t.providerId),await eP(i,r.auth);const o=await cP(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function sP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=JC(e),i=qA(r,t),o=new ZA(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function cP(e){const t=gA("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class uP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!hP(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(KO(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lP(e))}saveEventToCache(e){this.cachedEventUids.add(lP(e)),this.lastProcessedEventTime=Date.now()}}function lP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function hP(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function dP(e){return uC(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const fP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pP=/^https?/;function mP(e){const t=eC(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!pP.test(n))return!1;if(fP.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gP=new rC(3e4,6e4);function yP(){const e=vA().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let vP=null;function bP(e){return vP=vP||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){yP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yP(),n(KO(e,"network-request-failed"))},timeout:gP.get()})}if(null===(i=null===(r=vA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=vA().gapi)||void 0===o?void 0:o.load)){const t=KC("iframefcb");return vA()[t]=()=>{gapi.load?a():n(KO(e,"network-request-failed"))},HC("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw vP=null,e}))}(e),vP}const wP=new rC(5e3,15e3),_P="__/auth/iframe",SP="emulator/auth/iframe",EP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(e){const t=e.config;$O(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iC(t,SP):"https://".concat(e.config.authDomain,"/").concat(_P),r={apiKey:t.apiKey,appName:e.name,v:Qt},i=xP.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(tt(r).slice(1))}const IP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class OP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function CP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},IP),{width:r.toString(),height:i.toString(),top:o,left:a}),u=De().toLowerCase();n&&(s=NC(u)?"_blank":n),RC(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return UC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:De())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new OP(null);const h=window.open(t||"",s,l);$O(h,e,"popup-blocked");try{h.focus()}catch(d){}return new OP(h)}const kP="__/auth/handler",AP="emulator/auth/handler",PP=encodeURIComponent("fac");async function RP(e,t,n,r,i,o){$O(e.config.authDomain,e,"auth-domain-config-required"),$O(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qt,eventId:i};if(t instanceof yk){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",$e(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof vk){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const l of Object.keys(s))void 0===s[l]&&delete s[l];const c=await e._getAppCheckToken(),u=c?"#".concat(PP,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kP);return iC(t,AP)}(e),"?").concat(tt(s).slice(1)).concat(u)}const DP="webStorageSupport";const NP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=sP,this._overrideRedirectResult=tP}async _openPopup(e,t,n,r){var i;ZO(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return CP(e,await RP(e,t,n,eC(),r),gA())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vA().location.href=e}(await RP(e,t,n,eC(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ZO(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await bP(e),n=vA().gapi;return $O(n,e,"internal-error"),t.open({where:document.body,url:TP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EP,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=KO(e,"network-request-failed"),o=vA().setTimeout((()=>{r(i)}),wP.get());function a(){vA().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new uP(e);return t.register("authEvent",(t=>{$O(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(DP,{type:DP},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[DP];void 0!==i&&t(!!i),HO(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dP(e);for(const n of t)try{if(mP(n))return}catch(ov){}HO(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BC()||DC()||UC()}};class MP{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return JO("unexpected MultiFactorSessionType")}}}class jP extends MP{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new jP(e)}_finalizeEnroll(e,t,n){return function(e,t){return uC(e,"POST","/v2/accounts/mfaEnrollment:finalize",cC(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return uC(e,"POST","/v2/accounts/mfaSignIn:finalize",cC(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class LP{constructor(){}static assertion(e){return jP._fromCredential(e)}}LP.FACTOR_ID="phone";var FP="@firebase/auth",UP="0.23.2";class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=ke())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var VP;function zP(){return window}VP="Browser",zt(new bt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;$O(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:VP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VC(VP)},u=new $C(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(IC);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),zt(new bt("auth-internal",(e=>(e=>new BP(e))(JC(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Zt(FP,UP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(VP)),Zt(FP,UP,"esm2017");async function qP(e,t,n){var r;const{BuildInfo:i}=zP();ZO(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(ZO(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return UC()?a.ibi=i.packageName:jC()?a.apn=i.packageName:HO(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,RP(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function WP(e){const{cordova:t}=zP();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const GP=20;class HP extends uP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function KP(e){const t=await XP()._get($P(e));return t&&await XP()._remove($P(e)),t}function QP(e,t){var n,r;const i=function(e){const t=JP(e),n=t.link?decodeURIComponent(t.link):void 0,r=JP(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return JP(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=JP(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?KO(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function YP(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<GP;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function XP(){return IC(dA)}function $P(e){return kC("authEvent",e.config.apiKey,e.name)}function JP(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return nt(n.join("?"))}const ZP=class{constructor(){this._redirectPersistence=pA,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sP,this._overrideRedirectResult=tP}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new HP(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){HO(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,c,u,l;const h=zP();$O("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$O("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$O("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$O("function"===typeof(null===(c=null===(s=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$O("function"===typeof(null===(l=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),JA.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:YP(),postBody:null,tenantId:e.tenantId,error:KO(e,"no-auth-event")}}(e,n,r);await function(e,t){return XP()._set($P(e),t)}(e,o);const a=await qP(e,o,t);return async function(e,t,n){const{cordova:r}=zP();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){s||(s=window.setTimeout((()=>{a(KO(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),jC()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await WP(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zP(),n={};UC()?n.iosBundleId=t.packageName:jC()?n.androidPackageName=t.packageName:HO(e,"operation-not-supported-in-this-environment"),await dP(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zP(),o=setTimeout((async()=>{await KP(e),t.onEvent(eR())}),500),a=async n=>{clearTimeout(o);const r=await KP(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=QP(r,n.url)),t.onEvent(i||eR())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,c="".concat(i.packageName.toLowerCase(),"://");zP().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"===typeof s)try{s(e)}catch(t){console.error(t)}}}};function eR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:KO("no-auth-event")}}function tR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return!("file:"!==tR()&&"ionic:"!==tR()&&"capacitor:"!==tR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return Fe()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De();return/Edge\/\d+/.test(e)}(e)}function iR(){try{const e=self.localStorage,t=gA();if(e)return e.setItem(t,"1"),e.removeItem(t),!rR()||Be()}catch(e){return oR()&&Be()}return!1}function oR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function aR(){return("http:"===tR()||"https:"===tR()||je()||nR())&&!(Le()||Me())&&iR()&&!oR()}function sR(){return nR()&&"undefined"!==typeof document}const cR={LOCAL:"local",NONE:"none",SESSION:"session"},uR=$O,lR="persistence";async function hR(e){await e._initializationPromise;const t=dR(),n=kC(lR,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function dR(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const fR=$O;class pR{constructor(){this.browserResolver=IC(NP),this.cordovaResolver=IC(ZP),this.underlyingResolver=null,this._redirectPersistence=pA,this._completeRedirectFn=sP,this._overrideRedirectResult=tP}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sR()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fR(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!sR()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function mR(e){return e.unwrap()}function gR(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new wR(e,function(e,t){var n;const r=vt(e),i=t;return $O(t.customData.operationType,r,"argument-error"),$O(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),aA._fromError(r,i)}(e,t))}else if(r){const e=yR(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function yR(e){const{_tokenResponse:t}=e instanceof qe?e.customData:e;if(!t)return null;if(!(e instanceof qe)&&"temporaryProof"in t&&"phoneNumber"in t)return zA.credentialFromResult(e);const n=t.providerId;if(!n||n===DO.PASSWORD)return null;let r;switch(n){case DO.GOOGLE:r=_k;break;case DO.FACEBOOK:r=wk;break;case DO.GITHUB:r=Sk;break;case DO.TWITTER:r=Tk;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?Ek._create(n,a):dk._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new bk(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof qe?r.credentialFromError(e):r.credentialFromResult(e)}function vR(e,t){return t.catch((t=>{throw t instanceof qe&&gR(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,yR(r)),additionalUserInfo:iA(e),user:_R.getOrCreate(n)};var r}))}async function bR(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>vR(e,n.confirm(t))}}class wR{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vR(mR(this.auth),this.resolver.resolveSignIn(e))}}class _R{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=vt(e);return cA.has(t)||cA.set(t,sA._fromUser(t)),cA.get(t)}(e)}static getOrCreate(e){return _R.USER_MAP.has(e)||_R.USER_MAP.set(e,new _R(e)),_R.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vR(this.auth,Fk(this._delegate,e))}async linkWithPhoneNumber(e,t){return bR(this.auth,async function(e,t,n){const r=vt(e);await Nk(!1,r,"phone");const i=await VA(r.auth,t,vt(n));return new BA(i,(e=>Fk(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return vR(this.auth,async function(e,t,n){const r=vt(e);YO(r.auth,t,yk);const i=qA(r.auth,n);return new XA(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,pR))}async linkWithRedirect(e){return await hR(JC(this.auth)),aP(this._delegate,e,pR)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vR(this.auth,Uk(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return bR(this.auth,async function(e,t,n){const r=vt(e),i=await VA(r.auth,t,vt(n));return new BA(i,(e=>Uk(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return vR(this.auth,async function(e,t,n){const r=vt(e);YO(r.auth,t,yk);const i=qA(r.auth,n);return new XA(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,pR))}async reauthenticateWithRedirect(e){return await hR(JC(this.auth)),oP(this._delegate,e,pR)}sendEmailVerification(e){return Qk(this._delegate,e)}async unlink(e){return await Rk(this._delegate,e),this}updateEmail(e){return function(e,t){return $k(vt(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return $k(vt(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Dk(vt(e),t)}(this._delegate,e)}updateProfile(e){return Xk(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Yk(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_R.USER_MAP=new WeakMap;const SR=$O;class ER{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;SR(n,"invalid-api-key",{appName:e.name}),SR(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?pR:void 0;this._delegate=t.initialize({options:{persistence:TR(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(VO),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_R.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ek(this._delegate,e,t)}applyActionCode(e){return Gk(this._delegate,e)}checkActionCode(e){return Hk(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ik(vt(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return vR(this._delegate,async function(e,t,n){var r;const i=JC(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await YC(i,o,"signUpPassword");a=Ik(i,e)}else a=Ik(i,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await YC(i,o,"signUpPassword");return Ik(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),c=await Ok._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(c.user),c}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Kk(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=mk.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){SR(aR(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await JC(e)._initializationPromise,sP(e,t,!1)}(this._delegate,pR);return e?vR(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){JC(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=xR(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=xR(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=JC(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){$O(t.handleCodeInApp,i,"argument-error"),t&&Wk(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await YC(i,o,"getOobCode",!0);a(e,n),await uk(i,e)}else a(o,n),await uk(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await YC(i,o,"getOobCode",!0);a(e,n),await uk(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=JC(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await YC(i,o,"getOobCode",!0);n&&Wk(i,e,n),await ck(i,e)}else n&&Wk(i,o,n),await ck(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await YC(i,o,"getOobCode",!0);n&&Wk(i,e,n),await ck(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){uR(Object.values(cR).includes(t),e,"invalid-persistence-type"),Le()?uR(t!==cR.SESSION,e,"unsupported-persistence-type"):Me()?uR(t===cR.NONE,e,"unsupported-persistence-type"):oR()?uR(t===cR.NONE||t===cR.LOCAL&&Be(),e,"unsupported-persistence-type"):uR(t===cR.NONE||iR(),e,"unsupported-persistence-type")}(this._delegate,e),e){case cR.SESSION:t=pA;break;case cR.LOCAL:t=await IC(kA)._isAvailable()?kA:dA;break;case cR.NONE:t=CC;break;default:return HO("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vR(this._delegate,async function(e){var t;const n=JC(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ok({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ik(n,{returnSecureToken:!0}),i=await Ok._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return vR(this._delegate,Lk(this._delegate,e))}signInWithCustomToken(e){return vR(this._delegate,Bk(this._delegate,e))}signInWithEmailAndPassword(e,t){return vR(this._delegate,function(e,t,n){return Lk(vt(e),gk.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return vR(this._delegate,async function(e,t,n){const r=vt(e),i=gk.credentialWithLink(t,n||eC());return $O(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lk(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return bR(this._delegate,async function(e,t,n){const r=JC(e),i=await VA(r,t,vt(n));return new BA(i,(e=>Lk(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return SR(aR(),this._delegate,"operation-not-supported-in-this-environment"),vR(this._delegate,async function(e,t,n){const r=JC(e);YO(e,t,yk);const i=qA(r,n);return new XA(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,pR))}async signInWithRedirect(e){return SR(aR(),this._delegate,"operation-not-supported-in-this-environment"),await hR(this._delegate),iP(this._delegate,e,pR)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Hk(vt(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function xR(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&_R.getOrCreate(e)),error:t,complete:n}}function TR(e,t){const n=function(e,t){const n=dR();if(!n)return[];const r=kC(lR,e,t);switch(n.getItem(r)){case cR.NONE:return[CC];case cR.LOCAL:return[kA,pA];case cR.SESSION:return[pA];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(kA)||n.push(kA),"undefined"!==typeof window)for(const r of[dA,pA])n.includes(r)||n.push(r);return n.includes(CC)||n.push(CC),n}ER.Persistence=cR;class IR{constructor(){this.providerId="phone",this._delegate=new zA(mR(bn.auth()))}static credential(e,t){return zA.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}IR.PHONE_SIGN_IN_METHOD=zA.PHONE_SIGN_IN_METHOD,IR.PROVIDER_ID=zA.PROVIDER_ID;const OR=$O;class CR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn.app();var r;OR(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new UA(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new bt("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ER(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:NO,PASSWORD_RESET:MO,RECOVER_EMAIL:jO,REVERT_SECOND_FACTOR_ADDITION:LO,VERIFY_AND_CHANGE_EMAIL:FO,VERIFY_EMAIL:UO}},EmailAuthProvider:gk,FacebookAuthProvider:wk,GithubAuthProvider:Sk,GoogleAuthProvider:_k,OAuthProvider:bk,SAMLAuthProvider:xk,PhoneAuthProvider:IR,PhoneMultiFactorGenerator:LP,RecaptchaVerifier:CR,TwitterAuthProvider:Tk,Auth:ER,AuthCredential:rk,Error:qe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(bn);const kR="firebasestorage.googleapis.com",AR="storageBucket";class PR extends qe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(NR(e),"Firebase Storage: ".concat(t," (").concat(NR(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,PR.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return NR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var RR,DR;function NR(e){return"storage/"+e}function MR(){return new PR(RR.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jR(){return new PR(RR.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LR(){return new PR(RR.CANCELED,"User canceled the upload/download.")}function FR(){return new PR(RR.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UR(e){return new PR(RR.INVALID_ARGUMENT,e)}function BR(){return new PR(RR.APP_DELETED,"The Firebase app was deleted.")}function VR(e){return new PR(RR.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zR(e,t){return new PR(RR.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qR(e){throw new PR(RR.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(RR||(RR={}));class WR{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=WR.makeFromUrl(e,t)}catch(i){return new WR(e,"")}if(""===n.path)return n;throw r=e,new PR(RR.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===kR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<s.length;c++){const t=s[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new WR(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new PR(RR.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class GR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function HR(e){return"string"===typeof e||e instanceof String}function KR(e){return QR()&&e instanceof Blob}function QR(){return"undefined"!==typeof Blob&&!Me()}function YR(e,t,n,r){if(r<t)throw UR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw UR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function XR(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function $R(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function JR(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(DR||(DR={}));class ZR{constructor(e,t,n,r,i,o,a,s,c,u,l){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new eD(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===DR.NO_ERROR,i=n.getStatus();if(!t||JR(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===DR.ABORT;return void e(!1,new eD(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new eD(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=MR();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?BR():LR())}else{r(jR())}};this.canceled_?t(0,new eD(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return 2===s}let u=!1;function l(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call(null,e,...n);if(c()||a)return d(),void l.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),o=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eD{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function tD(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function nD(){const e=tD();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(QR())return new Blob(n);throw new PR(RR.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function rD(e){if("undefined"===typeof atob)throw t="base-64",new PR(RR.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const iD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oD{constructor(e,t){this.data=e,this.contentType=t||null}}function aD(e,t){switch(e){case iD.RAW:return new oD(sD(t));case iD.BASE64:case iD.BASE64URL:return new oD(cD(e,t));case iD.DATA_URL:return new oD(function(e){const t=new uD(e);return t.base64?cD(iD.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw zR(iD.DATA_URL,"Malformed data URL.")}return sD(t)}(t.rest)}(t),new uD(t).contentType)}throw MR()}function sD(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cD(e,t){switch(e){case iD.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw zR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case iD.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw zR(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rD(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw zR(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class uD{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zR(iD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class lD{constructor(e,t){let n=0,r="";KR(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(KR(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new lD(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new lD(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(QR()){const e=t.map((e=>e instanceof lD?e.data_:e));return new lD(nD.apply(null,e))}{const e=t.map((e=>HR(e)?aD(iD.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new lD(r,!0)}}uploadData(){return this.data_}}function hD(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dD(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fD(e,t){return t}class pD{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fD}}let mD=null;function gD(){if(mD)return mD;const e=[];e.push(new pD("bucket")),e.push(new pD("generation")),e.push(new pD("metageneration")),e.push(new pD("name","fullPath",!0));const t=new pD("name");t.xform=function(e,t){return function(e){return!HR(e)||e.length<2?e:dD(e)}(t)},e.push(t);const n=new pD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new pD("timeCreated")),e.push(new pD("updated")),e.push(new pD("md5Hash",null,!0)),e.push(new pD("cacheControl",null,!0)),e.push(new pD("contentDisposition",null,!0)),e.push(new pD("contentEncoding",null,!0)),e.push(new pD("contentLanguage",null,!0)),e.push(new pD("contentType",null,!0)),e.push(new pD("metadata","customMetadata",!0)),mD=e,mD}function yD(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new WR(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vD(e,t,n){const r=hD(t);if(null===r)return null;return yD(e,r,n)}function bD(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const wD="prefixes",_D="items";function SD(e,t,n){const r=hD(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wD])for(const i of n[wD]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new WR(t,n));r.prefixes.push(o)}if(n[_D])for(const i of n[_D]){const n=e._makeStorageReference(new WR(t,i.name));r.items.push(n)}return r}(e,t,r)}class ED{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xD(e){if(!e)throw MR()}function TD(e,t){return function(n,r){const i=vD(e,r,t);return xD(null!==i),i}}function ID(e,t){return function(n,r){const i=vD(e,r,t);return xD(null!==i),function(e,t,n,r){const i=hD(t);if(null===i)return null;if(!HR(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent,s=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return XR("/b/"+a(i)+"/o/"+a(o),n,r)+$R({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function OD(e){return function(t,n){let r;var i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new PR(RR.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new PR(RR.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new PR(RR.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===t.getStatus()?function(e){return new PR(RR.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function CD(e){const t=OD(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=function(e){return new PR(RR.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),i.serverResponse=r.serverResponse,i}}function kD(e,t,n){const r=XR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ED(r,"GET",TD(e,n),i);return o.errorHandler=CD(t),o}function AD(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=XR(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,c=new ED(a,"GET",function(e,t){return function(n,r){const i=SD(e,t,r);return xD(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=OD(t),c}function PD(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function RD(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const c=PD(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bD(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=lD.getBlob(u,r,l);if(null===h)throw FR();const d={name:c.fullPath},f=XR(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ED(f,"POST",TD(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=OD(t),m}class DD{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function ND(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){xD(!1)}return xD(!!n&&-1!==(t||["active"]).indexOf(n)),n}const MD=262144;function jD(e,t,n,r,i,o,a,s){const c=new DD(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new PR(RR.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const u=c.total-c.current;let l=u;i>0&&(l=Math.min(l,i));const h=c.current,d=h+l;let f="";f=0===l?"finalize":u===l?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw FR();const g=t.maxUploadRetryTime,y=new ED(n,"POST",(function(e,n){const i=ND(e,["active","final"]),a=c.current+l,s=r.size();let u;return u="final"===i?TD(t,o)(e,n):null,new DD(a,s,"final"===i,u)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=s||null,y.errorHandler=OD(e),y}const LD={STATE_CHANGED:"state_changed"},FD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UD(e){switch(e){case"running":case"pausing":case"canceling":return FD.RUNNING;case"paused":return FD.PAUSED;case"success":return FD.SUCCESS;case"canceled":return FD.CANCELED;default:return FD.ERROR}}class BD{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function VD(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let zD=null;class qD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=DR.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=DR.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=DR.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw qR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qR("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw qR("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qR("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WD extends qD{initXhr(){this.xhr_.responseType="text"}}function GD(){return zD?zD():new WD}class HD{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=gD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(RR.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(JR(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=jR()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(RR.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a=PD(t,r,i),s={name:a.fullPath},c=XR(o,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=bD(a,n),h=e.maxUploadRetryTime,d=new ED(c,"POST",(function(e){let t;ND(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){xD(!1)}return xD(HR(t)),t}),h);return d.urlParams=s,d.headers=u,d.body=l,d.errorHandler=OD(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,GD,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new ED(n,"POST",(function(e){const t=ND(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){xD(!1)}n||xD(!1);const i=Number(n);return xD(!isNaN(i)),new DD(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=OD(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,GD,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=MD*this._chunkMultiplier,t=new DD(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=jD(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(s){return this._error=s,void this._transition("error")}const a=this._ref.storage._makeRequest(o,GD,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(MD*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=kD(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,GD,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=RD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,GD,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=LR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=UD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new BD(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(UD(this._state)){case FD.SUCCESS:VD(this._resolve.bind(null,this.snapshot))();break;case FD.CANCELED:case FD.ERROR:VD(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UD(this._state)){case FD.RUNNING:case FD.PAUSED:e.next&&VD(e.next.bind(e,this.snapshot))();break;case FD.SUCCESS:e.complete&&VD(e.complete.bind(e))();break;default:e.error&&VD(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class KD{constructor(e,t){this._service=e,this._location=t instanceof WR?t:WR.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new KD(e,t)}get root(){const e=new WR(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dD(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new WR(this._location.bucket,e);return new KD(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw VR(e)}}function QD(e){const t={prefixes:[],items:[]};return YD(e,t).then((()=>t))}async function YD(e,t,n){const r={pageToken:n},i=await XD(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await YD(e,t,i.nextPageToken)}function XD(e,t){null!=t&&"number"===typeof t.maxResults&&YR("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=AD(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,GD)}function $D(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=XR(t.fullServerUrl(),e.host,e._protocol),o=bD(n,r),a=e.maxOperationRetryTime,s=new ED(i,"PATCH",TD(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=CD(t),s}(e.storage,e._location,t,gD());return e.storage.makeRequestWithTokens(n,GD)}function JD(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=XR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ED(r,"GET",ID(e,n),i);return o.errorHandler=CD(t),o}(e.storage,e._location,gD());return e.storage.makeRequestWithTokens(t,GD).then((e=>{if(null===e)throw new PR(RR.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ZD(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=XR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ED(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=CD(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,GD)}function eN(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new WR(e._location.bucket,n);return new KD(e.storage,r)}function tN(e,t){if(e instanceof iN){const n=e;if(null==n._bucket)throw new PR(RR.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AR+"' property when initializing the app?");const r=new KD(n,n._bucket);return null!=t?tN(r,t):r}return void 0!==t?eN(e,t):e}function nN(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof iN)return new KD(e,t);throw UR("To use ref(service, url), the first argument must be a Storage instance.")}return tN(e,t)}function rN(e,t){const n=null===t||void 0===t?void 0:t[AR];return null==n?null:WR.makeFromBucketSpec(n,e)}class iN{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=kR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?WR.makeFromBucketSpec(r,this._host):rN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=WR.makeFromBucketSpec(this._url,e):this._bucket=rN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new KD(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new GR(BR());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=$R(e.urlParams),c=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ZR(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const oN="@firebase/storage",aN="0.11.2",sN="storage";function cN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new HD(e,new lD(t),n)}(e=vt(e),t,n)}function uN(e){return function(e){e._throwIfRoot("getMetadata");const t=kD(e.storage,e._location,gD());return e.storage.makeRequestWithTokens(t,GD)}(e=vt(e))}function lN(e,t){return nN(e=vt(e),t)}function hN(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Re(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function dN(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new iN(r,i,o,n,Qt)}zt(new bt(sN,dN,"PUBLIC").setMultipleInstances(!0)),Zt(oN,aN,""),Zt(oN,aN,"esm2017");class fN{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fN(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new fN(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new fN(e,this,this._ref)):{next:t.next?e=>t.next(new fN(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class mN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new gN(e,this._service)))}get items(){return this._delegate.items.map((e=>new gN(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gN{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return eN(e,t)}(this._delegate,e);return new gN(t,this.storage)}get root(){return new gN(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gN(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new pN(cN(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iD.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=aD(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pN(new HD(this._delegate,new lD(r.data,!0),i),this)}listAll(){return function(e){return QD(e=vt(e))}(this._delegate).then((e=>new mN(e,this.storage)))}list(e){return function(e,t){return XD(e=vt(e),t)}(this._delegate,e||void 0).then((e=>new mN(e,this.storage)))}getMetadata(){return uN(this._delegate)}updateMetadata(e){return function(e,t){return $D(e=vt(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return JD(e=vt(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return ZD(e=vt(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw VR(e)}}class yN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(vN(e))throw UR("ref() expected a child path but got a URL, use refFromURL instead.");return new gN(lN(this._delegate,e),this)}refFromURL(e){if(!vN(e))throw UR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{WR.makeFromUrl(e,this._delegate.host)}catch(t){throw UR("refFromUrl() expected a valid full URL but got an invalid one.")}return new gN(lN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hN(this._delegate,e,t,n)}}function vN(e){return/^[A-Za-z]+:\/\//.test(e)}function bN(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new yN(r,i)}!function(e){const t={TaskState:FD,TaskEvent:LD,StringFormat:iD,Storage:yN,Reference:gN};e.INTERNAL.registerComponent(new bt("storage-compat",bN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(bn),bn.initializeApp({apiKey:"AIzaSyBk4cJ4xKXQPKGoPaCH_iAee_sT_hDJyws",authDomain:"air-wut.firebaseapp.com",databaseURL:"https://air-wut-default-rtdb.firebaseio.com/",projectId:"air-wut",storageBucket:"air-wut.appspot.com",messagingSenderId:"932136813553",appId:"1:932136813553:web:e90ca94db1c088f0c6fa50"}),bn.analytics(),bn.firestore().settings({timestampsInSnapshots:!0});const wN=bn;function _N(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var SN=_N();SN.withExtraArgument=_N;const EN=SN;function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(this,arguments)}var TN;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(TN||(TN={}));const IN="popstate";function ON(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function CN(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function kN(e,t){return{usr:e.state,key:e.key,idx:t}}function AN(e,t,n,r){return void 0===n&&(n=null),xN({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?RN(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function PN(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function RN(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DN(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=TN.Pop,c=null,u=l();function l(){return(a.state||{idx:null}).idx}function h(){s=TN.Pop;let e=l(),t=null==e?null:e-u;u=e,c&&c({action:s,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:PN(e);return ON(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,a.replaceState(xN({},a.state,{idx:u}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(IN,h),c=e,()=>{i.removeEventListener(IN,h),c=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=TN.Push;let r=AN(f.location,e,t);n&&n(r,e),u=l()+1;let h=kN(r,u),d=f.createHref(r);try{a.pushState(h,"",d)}catch(v_){if(v_ instanceof DOMException&&"DataCloneError"===v_.name)throw v_;i.location.assign(d)}o&&c&&c({action:s,location:f.location,delta:1})},replace:function(e,t){s=TN.Replace;let r=AN(f.location,e,t);n&&n(r,e),u=l();let i=kN(r,u),h=f.createHref(r);a.replaceState(i,"",h),o&&c&&c({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var NN;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(NN||(NN={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function MN(e,t,n){void 0===n&&(n="/");let r=YN(("string"===typeof t?RN(t):t).pathname||"/",n);if(null==r)return null;let i=jN(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=HN(i[a],QN(r));return o}function jN(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(ON(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=ZN([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(ON(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),jN(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:GN(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of LN(e.path))i(e,t,r);else i(e,t)})),t}function LN(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=LN(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const FN=/^:\w+$/,UN=3,BN=2,VN=1,zN=10,qN=-2,WN=e=>"*"===e;function GN(e,t){let n=e.split("/"),r=n.length;return n.some(WN)&&(r+=qN),t&&(r+=BN),n.filter((e=>!WN(e))).reduce(((e,t)=>e+(FN.test(t)?UN:""===t?VN:zN)),r)}function HN(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=KN({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c);if(!u)return null;Object.assign(r,u.params);let l=e.route;o.push({params:r,pathname:ZN([i,u.pathname]),pathnameBase:eM(ZN([i,u.pathnameBase])),route:l}),"/"!==u.pathnameBase&&(i=ZN([i,u.pathnameBase]))}return o}function KN(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);CN("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(v_){return CN(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+v_+")."),e}}(c||"",r),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function QN(e){try{return decodeURI(e)}catch(v_){return CN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+v_+")."),e}}function YN(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function XN(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function JN(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=RN(e):(i=xN({},e),ON(!i.pathname||!i.pathname.includes("?"),XN("?","pathname","search",i)),ON(!i.pathname||!i.pathname.includes("#"),XN("#","pathname","hash",i)),ON(!i.search||!i.search.includes("#"),XN("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?RN(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:tM(r),hash:nM(i)}}(i,o),u=s&&"/"!==s&&s.endsWith("/"),l=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!l||(c.pathname+="/"),c}const ZN=e=>e.join("/").replace(/\/\/+/g,"/"),eM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tM=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",nM=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function rM(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const iM=["post","put","patch","delete"],oM=(new Set(iM),["get",...iM]);new Set(oM),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aM.apply(this,arguments)}const sM=r.createContext(null);const cM=r.createContext(null);const uM=r.createContext(null);const lM=r.createContext(null);const hM=r.createContext({outlet:null,matches:[],isDataRoute:!1});const dM=r.createContext(null);function fM(){return null!=r.useContext(lM)}function pM(){return fM()||ON(!1),r.useContext(lM).location}function mM(e){r.useContext(uM).static||r.useLayoutEffect(e)}function gM(){let{isDataRoute:e}=r.useContext(hM);return e?function(){let{router:e}=TM(EM.UseNavigateStable),t=OM(xM.UseNavigateStable),n=r.useRef(!1);mM((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,aM({fromRouteId:t},i)))}),[e,t]);return i}():function(){fM()||ON(!1);let e=r.useContext(sM),{basename:t,navigator:n}=r.useContext(uM),{matches:i}=r.useContext(hM),{pathname:o}=pM(),a=JSON.stringify($N(i).map((e=>e.pathnameBase))),s=r.useRef(!1);mM((()=>{s.current=!0}));let c=r.useCallback((function(r,i){if(void 0===i&&(i={}),!s.current)return;if("number"===typeof r)return void n.go(r);let c=JN(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:ZN([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,a,o,e]);return c}()}function yM(e,t,n){fM()||ON(!1);let{navigator:i}=r.useContext(uM),{matches:o}=r.useContext(hM),a=o[o.length-1],s=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,l=pM();if(t){var h;let e="string"===typeof t?RN(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||ON(!1),u=e}else u=l;let d=u.pathname||"/",f=MN(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});let p=SM(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ZN([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ZN([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n);return t&&p?r.createElement(lM.Provider,{value:{location:aM({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:TN.Pop}},p):p}function vM(){let e=function(){var e;let t=r.useContext(dM),n=IM(xM.UseRouteError),i=OM(xM.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=rM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const bM=r.createElement(vM,null);class wM extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(hM.Provider,{value:this.props.routeContext},r.createElement(dM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _M(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(sM);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(hM.Provider,{value:t},i)}function SM(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||ON(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,i,o)=>{let c=i.route.id?null==s?void 0:s[i.route.id]:null,u=null;n&&(u=i.route.errorElement||bM);let l=t.concat(a.slice(0,o+1)),h=()=>{let t;return t=c?u:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(_M,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(wM,{location:n.location,revalidation:n.revalidation,component:u,error:c,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}var EM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EM||{}),xM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xM||{});function TM(e){let t=r.useContext(sM);return t||ON(!1),t}function IM(e){let t=r.useContext(cM);return t||ON(!1),t}function OM(e){let t=function(e){let t=r.useContext(hM);return t||ON(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||ON(!1),n.route.id}i.startTransition;function CM(e){let{to:t,replace:n,state:i,relative:o}=e;fM()||ON(!1);let{matches:a}=r.useContext(hM),{pathname:s}=pM(),c=gM(),u=JN(t,$N(a).map((e=>e.pathnameBase)),s,"path"===o),l=JSON.stringify(u);return r.useEffect((()=>c(JSON.parse(l),{replace:n,state:i,relative:o})),[c,l,o,n,i]),null}function kM(e){ON(!1)}function AM(e){let{basename:t="/",children:n=null,location:i,navigationType:o=TN.Pop,navigator:a,static:s=!1}=e;fM()&&ON(!1);let c=t.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:c,navigator:a,static:s})),[c,a,s]);"string"===typeof i&&(i=RN(i));let{pathname:l="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=YN(l,c);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:o}}),[c,l,h,d,f,p,o]);return null==m?null:r.createElement(uM.Provider,{value:u},r.createElement(lM.Provider,{children:n,value:m}))}function PM(e){let{children:t,location:n}=e;return yM(RM(t),n)}new Promise((()=>{}));r.Component;function RM(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,RM(e.props.children,o));e.type!==kM&&ON(!1),e.props.index&&e.props.children&&ON(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=RM(e.props.children,o)),n.push(a)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const DM=i.startTransition;a.flushSync;function NM(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),DN((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return AN("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:PN(t)}),null,s)));let c=a.current,[u,l]=r.useState({action:c.action,location:c.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&DM?DM((()=>l(e))):l(e)}),[l,h]);return r.useLayoutEffect((()=>c.listen(d)),[c,d]),r.createElement(AM,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var MM,jM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MM||(MM={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jM||(jM={}));function LM(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function FM(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function UM(e){if(!FM(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=UM(e[n])})),t}function BM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?I({},e):e;return FM(e)&&FM(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(FM(t[i])&&i in e&&FM(e[i])?r[i]=BM(e[i],t[i],n):n.clone?r[i]=FM(t[i])?UM(t[i]):t[i]:r[i]=t[i])})),r}const VM=["values","unit","step"],zM=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>I({},e,{[t.key]:t.val})),{})};const qM={borderRadius:4},WM={xs:0,sm:600,md:900,lg:1200,xl:1536},GM={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(WM[e],"px)")};function HM(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||GM;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||GM;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||WM).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function KM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function QM(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function YM(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let a;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}function XM(e){if("string"!==typeof e)throw new Error(LM(7));return e.charAt(0).toUpperCase()+e.slice(1)}function $M(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function JM(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:$M(e,n)||i,t&&(r=t(r,i,e)),r}const ZM=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=$M(e.theme,r)||{};return HM(e,o,(e=>{let r=JM(a,i,e);return e===r&&"string"===typeof e&&(r=JM(a,i,"".concat(t).concat("default"===e?"":XM(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const ej=function(e,t){return t?BM(e,t,{clone:!1}):e};const tj={m:"margin",p:"padding"},nj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ij=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!rj[e])return[e];e=rj[e]}const[t,n]=e.split(""),r=tj[t],i=nj[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),oj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],aj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],sj=[...oj,...aj];function cj(e,t,n,r){var i;const o=null!=(i=$M(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function uj(e){return cj(e,"spacing",8)}function lj(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function hj(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=lj(t,n),e)),{})}(ij(n),r);return HM(e,e[n],i)}function dj(e,t){const n=uj(e.theme);return Object.keys(e).map((r=>hj(e,t,r,n))).reduce(ej,{})}function fj(e){return dj(e,oj)}function pj(e){return dj(e,aj)}function mj(e){return dj(e,sj)}fj.propTypes={},fj.filterProps=oj,pj.propTypes={},pj.filterProps=aj,mj.propTypes={},mj.filterProps=sj;const gj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?ej(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function yj(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function vj(e,t){return ZM({prop:e,themeKey:"borders",transform:t})}const bj=vj("border",yj),wj=vj("borderTop",yj),_j=vj("borderRight",yj),Sj=vj("borderBottom",yj),Ej=vj("borderLeft",yj),xj=vj("borderColor"),Tj=vj("borderTopColor"),Ij=vj("borderRightColor"),Oj=vj("borderBottomColor"),Cj=vj("borderLeftColor"),kj=vj("outline",yj),Aj=vj("outlineColor"),Pj=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=cj(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:lj(t,e)});return HM(e,e.borderRadius,n)}return null};Pj.propTypes={},Pj.filterProps=["borderRadius"];gj(bj,wj,_j,Sj,Ej,xj,Tj,Ij,Oj,Cj,Pj,kj,Aj);const Rj=e=>{if(void 0!==e.gap&&null!==e.gap){const t=cj(e.theme,"spacing",8),n=e=>({gap:lj(t,e)});return HM(e,e.gap,n)}return null};Rj.propTypes={},Rj.filterProps=["gap"];const Dj=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=cj(e.theme,"spacing",8),n=e=>({columnGap:lj(t,e)});return HM(e,e.columnGap,n)}return null};Dj.propTypes={},Dj.filterProps=["columnGap"];const Nj=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=cj(e.theme,"spacing",8),n=e=>({rowGap:lj(t,e)});return HM(e,e.rowGap,n)}return null};Nj.propTypes={},Nj.filterProps=["rowGap"];gj(Rj,Dj,Nj,ZM({prop:"gridColumn"}),ZM({prop:"gridRow"}),ZM({prop:"gridAutoFlow"}),ZM({prop:"gridAutoColumns"}),ZM({prop:"gridAutoRows"}),ZM({prop:"gridTemplateColumns"}),ZM({prop:"gridTemplateRows"}),ZM({prop:"gridTemplateAreas"}),ZM({prop:"gridArea"}));function Mj(e,t){return"grey"===t?t:e}gj(ZM({prop:"color",themeKey:"palette",transform:Mj}),ZM({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Mj}),ZM({prop:"backgroundColor",themeKey:"palette",transform:Mj}));function jj(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Lj=ZM({prop:"width",transform:jj}),Fj=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||WM[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:jj(t)}};return HM(e,e.maxWidth,t)}return null};Fj.filterProps=["maxWidth"];const Uj=ZM({prop:"minWidth",transform:jj}),Bj=ZM({prop:"height",transform:jj}),Vj=ZM({prop:"maxHeight",transform:jj}),zj=ZM({prop:"minHeight",transform:jj}),qj=(ZM({prop:"size",cssProperty:"width",transform:jj}),ZM({prop:"size",cssProperty:"height",transform:jj}),gj(Lj,Fj,Uj,Bj,Vj,zj,ZM({prop:"boxSizing"})),{border:{themeKey:"borders",transform:yj},borderTop:{themeKey:"borders",transform:yj},borderRight:{themeKey:"borders",transform:yj},borderBottom:{themeKey:"borders",transform:yj},borderLeft:{themeKey:"borders",transform:yj},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yj},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pj},color:{themeKey:"palette",transform:Mj},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Mj},backgroundColor:{themeKey:"palette",transform:Mj},p:{style:pj},pt:{style:pj},pr:{style:pj},pb:{style:pj},pl:{style:pj},px:{style:pj},py:{style:pj},padding:{style:pj},paddingTop:{style:pj},paddingRight:{style:pj},paddingBottom:{style:pj},paddingLeft:{style:pj},paddingX:{style:pj},paddingY:{style:pj},paddingInline:{style:pj},paddingInlineStart:{style:pj},paddingInlineEnd:{style:pj},paddingBlock:{style:pj},paddingBlockStart:{style:pj},paddingBlockEnd:{style:pj},m:{style:fj},mt:{style:fj},mr:{style:fj},mb:{style:fj},ml:{style:fj},mx:{style:fj},my:{style:fj},margin:{style:fj},marginTop:{style:fj},marginRight:{style:fj},marginBottom:{style:fj},marginLeft:{style:fj},marginX:{style:fj},marginY:{style:fj},marginInline:{style:fj},marginInlineStart:{style:fj},marginInlineEnd:{style:fj},marginBlock:{style:fj},marginBlockStart:{style:fj},marginBlockEnd:{style:fj},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rj},rowGap:{style:Nj},columnGap:{style:Dj},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:jj},maxWidth:{style:Fj},minWidth:{transform:jj},height:{transform:jj},maxHeight:{transform:jj},minHeight:{transform:jj},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),Wj=qj;const Gj=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:c,style:u}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const l=$M(n,s)||{};if(u)return u(i);return HM(i,t,(t=>{let n=JM(l,c,t);return t===n&&"string"===typeof t&&(n=JM(l,c,"".concat(e).concat("default"===t?"":XM(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=null!=(r=o.unstable_sxConfig)?r:Wj;function s(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=KM(o.breakpoints),s=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],u=o,"function"===typeof s?s(u):s);var s,u;if(null!==i&&void 0!==i)if("object"===typeof i)if(a[n])c=ej(c,e(n,i,o,a));else{const e=HM({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?c=ej(c,e):c[n]=t({sx:i,theme:o})}else c=ej(c,e(n,i,o,a))})),QM(s,c)}return Array.isArray(i)?i.map(s):s(i)}}();Gj.filterProps=["sx"];const Hj=Gj,Kj=["breakpoints","palette","spacing","shape"];const Qj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=O(e,Kj),a=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=O(e,VM),o=zM(t),a=Object.keys(o);function s(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const o=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100).concat(n,")")}return I({keys:a,values:o,up:s,down:c,between:u,only:function(e){return a.indexOf(e)+1<a.length?u(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?c(a[t]):u(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=uj({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let c=BM({breakpoints:a,direction:"ltr",components:{},palette:I({mode:"light"},n),spacing:s,shape:I({},qM,i)},o);for(var u=arguments.length,l=new Array(u>1?u-1:0),h=1;h<u;h++)l[h-1]=arguments[h];return c=l.reduce(((e,t)=>BM(e,t)),c),c.unstable_sxConfig=I({},Wj,null==o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Hj({sx:e,theme:this})},c};function Yj(e,t){return I({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function Xj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function $j(e){if(e.type)return e;if("#"===e.charAt(0))return $j(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(LM(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(LM(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function Jj(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Zj(e){let t="hsl"===(e=$j(e)).type||"hsla"===e.type?$j(function(e){e=$j(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),Jj({type:s,values:c})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function eL(e,t){return e=$j(e),t=Xj(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Jj(e)}function tL(e,t){if(e=$j(e),t=Xj(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Jj(e)}function nL(e,t){if(e=$j(e),t=Xj(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Jj(e)}const rL={black:"#000",white:"#fff"},iL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},oL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},aL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cL={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},uL={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},hL=["mode","contrastThreshold","tonalOffset"],dL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rL.white,default:rL.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fL={text:{primary:rL.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rL.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function pL(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=nL(e.main,i):"dark"===t&&(e.dark=tL(e.main,o)))}function mL(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=O(e,hL),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cL[200],light:cL[50],dark:cL[400]}:{main:cL[700],light:cL[400],dark:cL[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oL[200],light:oL[50],dark:oL[400]}:{main:oL[500],light:oL[300],dark:oL[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:aL[500],light:aL[300],dark:aL[700]}:{main:aL[700],light:aL[400],dark:aL[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:uL[400],light:uL[300],dark:uL[700]}:{main:uL[700],light:uL[500],dark:uL[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lL[400],light:lL[300],dark:lL[700]}:{main:lL[800],light:lL[500],dark:lL[900]}}(t),l=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sL[400],light:sL[300],dark:sL[700]}:{main:"#ed6c02",light:sL[500],dark:sL[900]}}(t);function h(e){const t=function(e,t){const n=Zj(e),r=Zj(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,fL.text.primary)>=n?fL.text.primary:dL.text.primary;return t}const d=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t=I({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(LM(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(LM(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return pL(t,"light",o,r),pL(t,"dark",a,r),t.contrastText||(t.contrastText=h(t.main)),t},f={dark:fL,light:dL};return BM(I({common:I({},rL),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:l,name:"warning"}),info:d({color:c,name:"info"}),success:d({color:u,name:"success"}),grey:iL,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[t]),i)}const gL=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function yL(e){return Math.round(1e5*e)/1e5}const vL={textTransform:"uppercase"},bL='"Roboto", "Helvetica", "Arial", sans-serif';function wL(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=bL,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:l,pxToRem:h}=n,d=O(n,gL);const f=i/14,p=h||(e=>"".concat(e/u*f,"rem")),m=(e,t,n,i,o)=>I({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===bL?{letterSpacing:"".concat(yL(i/t),"em")}:{},o,l),g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(s,14,1.75,.4,vL),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,vL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return BM(I({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:c},g),d,{clone:!1})}function _L(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const SL=["none",_L(0,2,1,-1,0,1,1,0,0,1,3,0),_L(0,3,1,-2,0,2,2,0,0,1,5,0),_L(0,3,3,-2,0,3,4,0,0,1,8,0),_L(0,2,4,-1,0,4,5,0,0,1,10,0),_L(0,3,5,-1,0,5,8,0,0,1,14,0),_L(0,3,5,-1,0,6,10,0,0,1,18,0),_L(0,4,5,-2,0,7,10,1,0,2,16,1),_L(0,5,5,-3,0,8,10,1,0,3,14,2),_L(0,5,6,-3,0,9,12,1,0,3,16,2),_L(0,6,6,-3,0,10,14,1,0,4,18,3),_L(0,6,7,-4,0,11,15,1,0,4,20,3),_L(0,7,8,-4,0,12,17,2,0,5,22,4),_L(0,7,8,-4,0,13,19,2,0,5,24,4),_L(0,7,9,-4,0,14,21,2,0,5,26,4),_L(0,8,9,-5,0,15,22,2,0,6,28,5),_L(0,8,10,-5,0,16,24,2,0,6,30,5),_L(0,8,11,-5,0,17,26,2,0,6,32,5),_L(0,9,11,-5,0,18,28,2,0,7,34,6),_L(0,9,12,-6,0,19,29,2,0,7,36,6),_L(0,10,13,-6,0,20,31,3,0,8,38,7),_L(0,10,13,-6,0,21,33,3,0,8,40,7),_L(0,10,14,-6,0,22,35,3,0,8,42,7),_L(0,11,14,-7,0,23,36,3,0,9,44,8),_L(0,11,15,-7,0,24,38,3,0,9,46,8)],EL=["duration","easing","delay"],xL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},TL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IL(e){return"".concat(Math.round(e),"ms")}function OL(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function CL(e){const t=I({},xL,e.easing),n=I({},TL,e.duration);return I({getAutoHeightDuration:OL,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;O(r,EL);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:IL(i)," ").concat(o," ").concat("string"===typeof a?a:IL(a)))).join(",")}},e,{easing:t,duration:n})}const kL={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},AL=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function PL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=O(e,AL);if(e.vars)throw new Error(LM(18));const a=mL(n),s=Qj(e);let c=BM(s,{mixins:Yj(s.breakpoints,t),palette:a,shadows:SL.slice(),typography:wL(a,i),transitions:CL(r),zIndex:I({},kL)});c=BM(c,o);for(var u=arguments.length,l=new Array(u>1?u-1:0),h=1;h<u;h++)l[h-1]=arguments[h];return c=l.reduce(((e,t)=>BM(e,t)),c),c.unstable_sxConfig=I({},Wj,null==o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Hj({sx:e,theme:this})},c}const RL=PL,DL={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"};const NL=r.createContext(null);function ML(){return r.useContext(NL)}const jL="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var LL=n(184);const FL=function(e){const{children:t,theme:n}=e,i=ML(),o=r.useMemo((()=>{const e=null===i?n:function(e,t){if("function"===typeof t)return t(e);return I({},e,t)}(i,n);return null!=e&&(e[jL]=null!==i),e}),[n,i]);return(0,LL.jsx)(NL.Provider,{value:o,children:t})};var UL=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),BL=Math.abs,VL=String.fromCharCode,zL=Object.assign;function qL(e){return e.trim()}function WL(e,t,n){return e.replace(t,n)}function GL(e,t){return e.indexOf(t)}function HL(e,t){return 0|e.charCodeAt(t)}function KL(e,t,n){return e.slice(t,n)}function QL(e){return e.length}function YL(e){return e.length}function XL(e,t){return t.push(e),e}var $L=1,JL=1,ZL=0,eF=0,tF=0,nF="";function rF(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:$L,column:JL,length:a,return:""}}function iF(e,t){return zL(rF("",null,null,"",null,null,0),e,{length:-e.length},t)}function oF(){return tF=eF>0?HL(nF,--eF):0,JL--,10===tF&&(JL=1,$L--),tF}function aF(){return tF=eF<ZL?HL(nF,eF++):0,JL++,10===tF&&(JL=1,$L++),tF}function sF(){return HL(nF,eF)}function cF(){return eF}function uF(e,t){return KL(nF,e,t)}function lF(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hF(e){return $L=JL=1,ZL=QL(nF=e),eF=0,[]}function dF(e){return nF="",e}function fF(e){return qL(uF(eF-1,gF(91===e?e+2:40===e?e+1:e)))}function pF(e){for(;(tF=sF())&&tF<33;)aF();return lF(e)>2||lF(tF)>3?"":" "}function mF(e,t){for(;--t&&aF()&&!(tF<48||tF>102||tF>57&&tF<65||tF>70&&tF<97););return uF(e,cF()+(t<6&&32==sF()&&32==aF()))}function gF(e){for(;aF();)switch(tF){case e:return eF;case 34:case 39:34!==e&&39!==e&&gF(tF);break;case 40:41===e&&gF(e);break;case 92:aF()}return eF}function yF(e,t){for(;aF()&&e+tF!==57&&(e+tF!==84||47!==sF()););return"/*"+uF(t,eF-1)+"*"+VL(47===e?e:aF())}function vF(e){for(;!lF(sF());)aF();return uF(e,eF)}var bF="-ms-",wF="-moz-",_F="-webkit-",SF="comm",EF="rule",xF="decl",TF="@keyframes";function IF(e,t){for(var n="",r=YL(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function OF(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case xF:return e.return=e.return||e.value;case SF:return"";case TF:return e.return=e.value+"{"+IF(e.children,r)+"}";case EF:e.value=e.props.join(",")}return QL(n=IF(e.children,r))?e.return=e.value+"{"+n+"}":""}function CF(e){return function(t){t.root||(t=t.return)&&e(t)}}function kF(e){return dF(AF("",null,null,null,[""],e=hF(e),0,[0],e))}function AF(e,t,n,r,i,o,a,s,c){for(var u=0,l=0,h=a,d=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",w=i,_=o,S=r,E=b;g;)switch(p=v,v=aF()){case 40:if(108!=p&&58==HL(E,h-1)){-1!=GL(E+=WL(fF(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=fF(v);break;case 9:case 10:case 13:case 32:E+=pF(p);break;case 92:E+=mF(cF()-1,7);continue;case 47:switch(sF()){case 42:case 47:XL(RF(yF(aF(),cF()),t,n),c);break;default:E+="/"}break;case 123*m:s[u++]=QL(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+l:-1==y&&(E=WL(E,/\f/g,"")),f>0&&QL(E)-h&&XL(f>32?DF(E+";",r,n,h-1):DF(WL(E," ","")+";",r,n,h-2),c);break;case 59:E+=";";default:if(XL(S=PF(E,t,n,u,l,i,s,b,w=[],_=[],h),o),123===v)if(0===l)AF(E,t,S,S,w,o,h,s,_);else switch(99===d&&110===HL(E,3)?100:d){case 100:case 108:case 109:case 115:AF(e,S,S,r&&XL(PF(e,S,S,0,0,i,s,b,i,w=[],h),_),i,_,h,s,r?w:_);break;default:AF(E,S,S,S,[""],_,0,s,_)}}u=l=f=0,m=y=1,b=E="",h=a;break;case 58:h=1+QL(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==oF())continue;switch(E+=VL(v),v*m){case 38:y=l>0?1:(E+="\f",-1);break;case 44:s[u++]=(QL(E)-1)*y,y=1;break;case 64:45===sF()&&(E+=fF(aF())),d=sF(),l=h=QL(b=E+=vF(cF())),v++;break;case 45:45===p&&2==QL(E)&&(m=0)}}return o}function PF(e,t,n,r,i,o,a,s,c,u,l){for(var h=i-1,d=0===i?o:[""],f=YL(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=KL(e,h+1,h=BL(m=a[p])),b=e;y<f;++y)(b=qL(m>0?d[y]+" "+v:WL(v,/&\f/g,d[y])))&&(c[g++]=b);return rF(e,t,n,0===i?EF:s,c,u,l)}function RF(e,t,n){return rF(e,t,n,SF,VL(tF),KL(e,2,-2),0)}function DF(e,t,n,r){return rF(e,t,n,xF,KL(e,0,r),KL(e,r+1,-1),r)}var NF=function(e,t,n){for(var r=0,i=0;r=i,i=sF(),38===r&&12===i&&(t[n]=1),!lF(i);)aF();return uF(e,eF)},MF=function(e,t){return dF(function(e,t){var n=-1,r=44;do{switch(lF(r)){case 0:38===r&&12===sF()&&(t[n]=1),e[n]+=NF(eF-1,t,n);break;case 2:e[n]+=fF(r);break;case 4:if(44===r){e[++n]=58===sF()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=VL(r)}}while(r=aF());return e}(hF(e),t))},jF=new WeakMap,LF=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jF.get(n))&&!r){jF.set(e,!0);for(var i=[],o=MF(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},FF=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function UF(e,t){switch(function(e,t){return 45^HL(e,0)?(((t<<2^HL(e,0))<<2^HL(e,1))<<2^HL(e,2))<<2^HL(e,3):0}(e,t)){case 5103:return _F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _F+e+wF+e+bF+e+e;case 6828:case 4268:return _F+e+bF+e+e;case 6165:return _F+e+bF+"flex-"+e+e;case 5187:return _F+e+WL(e,/(\w+).+(:[^]+)/,_F+"box-$1$2"+bF+"flex-$1$2")+e;case 5443:return _F+e+bF+"flex-item-"+WL(e,/flex-|-self/,"")+e;case 4675:return _F+e+bF+"flex-line-pack"+WL(e,/align-content|flex-|-self/,"")+e;case 5548:return _F+e+bF+WL(e,"shrink","negative")+e;case 5292:return _F+e+bF+WL(e,"basis","preferred-size")+e;case 6060:return _F+"box-"+WL(e,"-grow","")+_F+e+bF+WL(e,"grow","positive")+e;case 4554:return _F+WL(e,/([^-])(transform)/g,"$1"+_F+"$2")+e;case 6187:return WL(WL(WL(e,/(zoom-|grab)/,_F+"$1"),/(image-set)/,_F+"$1"),e,"")+e;case 5495:case 3959:return WL(e,/(image-set\([^]*)/,_F+"$1$`$1");case 4968:return WL(WL(e,/(.+:)(flex-)?(.*)/,_F+"box-pack:$3"+bF+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_F+e+e;case 4095:case 3583:case 4068:case 2532:return WL(e,/(.+)-inline(.+)/,_F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(QL(e)-1-t>6)switch(HL(e,t+1)){case 109:if(45!==HL(e,t+4))break;case 102:return WL(e,/(.+:)(.+)-([^]+)/,"$1"+_F+"$2-$3$1"+wF+(108==HL(e,t+3)?"$3":"$2-$3"))+e;case 115:return~GL(e,"stretch")?UF(WL(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==HL(e,t+1))break;case 6444:switch(HL(e,QL(e)-3-(~GL(e,"!important")&&10))){case 107:return WL(e,":",":"+_F)+e;case 101:return WL(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_F+(45===HL(e,14)?"inline-":"")+"box$3$1"+_F+"$2$3$1"+bF+"$2box$3")+e}break;case 5936:switch(HL(e,t+11)){case 114:return _F+e+bF+WL(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _F+e+bF+WL(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _F+e+bF+WL(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _F+e+bF+e+e}return e}var BF=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case xF:e.return=UF(e.value,e.length);break;case TF:return IF([iF(e,{value:WL(e.value,"@","@"+_F)})],r);case EF:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return IF([iF(e,{props:[WL(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return IF([iF(e,{props:[WL(t,/:(plac\w+)/,":"+_F+"input-$1")]}),iF(e,{props:[WL(t,/:(plac\w+)/,":-moz-$1")]}),iF(e,{props:[WL(t,/:(plac\w+)/,bF+"input-$1")]})],r)}return""}))}}],VF=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||BF;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c=[LF,FF];var u,l=[OF,CF((function(e){u.insert(e)}))],h=function(e){var t=YL(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(c.concat(r,l));o=function(e,t,n,r){u=n,function(e){IF(kF(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new UL({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d};var zF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function qF(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var WF=/[A-Z]|^ms/g,GF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HF=function(e){return 45===e.charCodeAt(1)},KF=function(e){return null!=e&&"boolean"!==typeof e},QF=qF((function(e){return HF(e)?e:e.replace(WF,"-$&").toLowerCase()})),YF=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(GF,(function(e,t,n){return $F={name:t,styles:n,next:$F},t}))}return 1===zF[e]||HF(e)||"number"!==typeof t||0===t?t:t+"px"};function XF(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return $F={name:n.name,styles:n.styles,next:$F},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)$F={name:r.name,styles:r.styles,next:$F},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=XF(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":KF(a)&&(r+=QF(o)+":"+YF(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=XF(e,t,a);switch(o){case"animation":case"animationName":r+=QF(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)KF(a[c])&&(r+=QF(o)+":"+YF(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=$F,o=n(e);return $F=i,XF(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var $F,JF=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ZF=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";$F=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=XF(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=XF(n,t,e[a]),r&&(i+=o[a]);JF.lastIndex=0;for(var s,c="";null!==(s=JF.exec(i));)c+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:u,styles:i,next:$F}},eU=!!i.useInsertionEffect&&i.useInsertionEffect,tU=eU||function(e){return e()},nU=eU||r.useLayoutEffect,rU=r.createContext("undefined"!==typeof HTMLElement?VF({key:"css"}):null);rU.Provider;var iU=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(rU);return e(t,i,n)}))};var oU=r.createContext({});const aU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(oU);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},sU={};function cU(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.useMemo((()=>{const r=e&&t[e]||t;if("function"===typeof n){const o=n(r),a=e?I({},t,{[e]:o}):o;return i?()=>a:a}return I({},t,e?{[e]:n}:n)}),[e,t,n,i])}const uU=function(e){const{children:t,theme:n,themeId:r}=e,i=aU(sU),o=ML()||sU,a=cU(r,i,n),s=cU(r,o,n,!0);return(0,LL.jsx)(FL,{theme:s,children:(0,LL.jsx)(oU.Provider,{value:a,children:t})})},lU="$$material",hU=["theme"];function dU(e){let{theme:t}=e,n=O(e,hU);const r=t[lU];return(0,LL.jsx)(uU,I({},n,{themeId:r?lU:void 0,theme:r||t}))}const fU=(0,r.createContext)(),pU=()=>(0,r.useContext)(fU),mU=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!1);return(0,LL.jsx)(fU.Provider,{value:[n,i],children:t})};var gU=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===yU}(e)}(e)};var yU="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function vU(e,t){return!1!==t.clone&&t.isMergeableObject(e)?wU(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function bU(e,t,n){return e.concat(t).map((function(e){return vU(e,n)}))}function wU(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||bU,n.isMergeableObject=n.isMergeableObject||gU;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=vU(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=wU(e[i],t[i],n):r[i]=vU(t[i],n)})),r}(e,t,n):vU(t,n)}wU.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return wU(e,n,t)}),{})};const _U=wU;const SU="object"==typeof global&&global&&global.Object===Object&&global;var EU="object"==typeof self&&self&&self.Object===Object&&self;const xU=SU||EU||Function("return this")();const TU=xU.Symbol;var IU=Object.prototype,OU=IU.hasOwnProperty,CU=IU.toString,kU=TU?TU.toStringTag:void 0;const AU=function(e){var t=OU.call(e,kU),n=e[kU];try{e[kU]=void 0;var r=!0}catch(o){}var i=CU.call(e);return r&&(t?e[kU]=n:delete e[kU]),i};var PU=Object.prototype.toString;const RU=function(e){return PU.call(e)};var DU=TU?TU.toStringTag:void 0;const NU=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":DU&&DU in Object(e)?AU(e):RU(e)};const MU=function(e,t){return function(n){return e(t(n))}};const jU=MU(Object.getPrototypeOf,Object);const LU=function(e){return null!=e&&"object"==typeof e};var FU=Function.prototype,UU=Object.prototype,BU=FU.toString,VU=UU.hasOwnProperty,zU=BU.call(Object);const qU=function(e){if(!LU(e)||"[object Object]"!=NU(e))return!1;var t=jU(e);if(null===t)return!0;var n=VU.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&BU.call(n)==zU};var WU=n(77),GU=n.n(WU);const HU=function(e,t){};const KU=function(){this.__data__=[],this.size=0};const QU=function(e,t){return e===t||e!==e&&t!==t};const YU=function(e,t){for(var n=e.length;n--;)if(QU(e[n][0],t))return n;return-1};var XU=Array.prototype.splice;const $U=function(e){var t=this.__data__,n=YU(t,e);return!(n<0)&&(n==t.length-1?t.pop():XU.call(t,n,1),--this.size,!0)};const JU=function(e){var t=this.__data__,n=YU(t,e);return n<0?void 0:t[n][1]};const ZU=function(e){return YU(this.__data__,e)>-1};const eB=function(e,t){var n=this.__data__,r=YU(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function tB(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tB.prototype.clear=KU,tB.prototype.delete=$U,tB.prototype.get=JU,tB.prototype.has=ZU,tB.prototype.set=eB;const nB=tB;const rB=function(){this.__data__=new nB,this.size=0};const iB=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const oB=function(e){return this.__data__.get(e)};const aB=function(e){return this.__data__.has(e)};const sB=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const cB=function(e){if(!sB(e))return!1;var t=NU(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const uB=xU["__core-js_shared__"];var lB=function(){var e=/[^.]+$/.exec(uB&&uB.keys&&uB.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const hB=function(e){return!!lB&&lB in e};var dB=Function.prototype.toString;const fB=function(e){if(null!=e){try{return dB.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var pB=/^\[object .+?Constructor\]$/,mB=Function.prototype,gB=Object.prototype,yB=mB.toString,vB=gB.hasOwnProperty,bB=RegExp("^"+yB.call(vB).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wB=function(e){return!(!sB(e)||hB(e))&&(cB(e)?bB:pB).test(fB(e))};const _B=function(e,t){return null==e?void 0:e[t]};const SB=function(e,t){var n=_B(e,t);return wB(n)?n:void 0};const EB=SB(xU,"Map");const xB=SB(Object,"create");const TB=function(){this.__data__=xB?xB(null):{},this.size=0};const IB=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var OB=Object.prototype.hasOwnProperty;const CB=function(e){var t=this.__data__;if(xB){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return OB.call(t,e)?t[e]:void 0};var kB=Object.prototype.hasOwnProperty;const AB=function(e){var t=this.__data__;return xB?void 0!==t[e]:kB.call(t,e)};const PB=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xB&&void 0===t?"__lodash_hash_undefined__":t,this};function RB(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}RB.prototype.clear=TB,RB.prototype.delete=IB,RB.prototype.get=CB,RB.prototype.has=AB,RB.prototype.set=PB;const DB=RB;const NB=function(){this.size=0,this.__data__={hash:new DB,map:new(EB||nB),string:new DB}};const MB=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const jB=function(e,t){var n=e.__data__;return MB(t)?n["string"==typeof t?"string":"hash"]:n.map};const LB=function(e){var t=jB(this,e).delete(e);return this.size-=t?1:0,t};const FB=function(e){return jB(this,e).get(e)};const UB=function(e){return jB(this,e).has(e)};const BB=function(e,t){var n=jB(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function VB(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}VB.prototype.clear=NB,VB.prototype.delete=LB,VB.prototype.get=FB,VB.prototype.has=UB,VB.prototype.set=BB;const zB=VB;const qB=function(e,t){var n=this.__data__;if(n instanceof nB){var r=n.__data__;if(!EB||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zB(r)}return n.set(e,t),this.size=n.size,this};function WB(e){var t=this.__data__=new nB(e);this.size=t.size}WB.prototype.clear=rB,WB.prototype.delete=iB,WB.prototype.get=oB,WB.prototype.has=aB,WB.prototype.set=qB;const GB=WB;const HB=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const KB=function(){try{var e=SB(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const QB=function(e,t,n){"__proto__"==t&&KB?KB(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var YB=Object.prototype.hasOwnProperty;const XB=function(e,t,n){var r=e[t];YB.call(e,t)&&QU(r,n)&&(void 0!==n||t in e)||QB(e,t,n)};const $B=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?QB(n,s,c):XB(n,s,c)}return n};const JB=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const ZB=function(e){return LU(e)&&"[object Arguments]"==NU(e)};var eV=Object.prototype,tV=eV.hasOwnProperty,nV=eV.propertyIsEnumerable,rV=ZB(function(){return arguments}())?ZB:function(e){return LU(e)&&tV.call(e,"callee")&&!nV.call(e,"callee")};const iV=rV;const oV=Array.isArray;const aV=function(){return!1};var sV="object"==typeof exports&&exports&&!exports.nodeType&&exports,cV=sV&&"object"==typeof module&&module&&!module.nodeType&&module,uV=cV&&cV.exports===sV?xU.Buffer:void 0;const lV=(uV?uV.isBuffer:void 0)||aV;var hV=/^(?:0|[1-9]\d*)$/;const dV=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&hV.test(e))&&e>-1&&e%1==0&&e<t};const fV=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var pV={};pV["[object Float32Array]"]=pV["[object Float64Array]"]=pV["[object Int8Array]"]=pV["[object Int16Array]"]=pV["[object Int32Array]"]=pV["[object Uint8Array]"]=pV["[object Uint8ClampedArray]"]=pV["[object Uint16Array]"]=pV["[object Uint32Array]"]=!0,pV["[object Arguments]"]=pV["[object Array]"]=pV["[object ArrayBuffer]"]=pV["[object Boolean]"]=pV["[object DataView]"]=pV["[object Date]"]=pV["[object Error]"]=pV["[object Function]"]=pV["[object Map]"]=pV["[object Number]"]=pV["[object Object]"]=pV["[object RegExp]"]=pV["[object Set]"]=pV["[object String]"]=pV["[object WeakMap]"]=!1;const mV=function(e){return LU(e)&&fV(e.length)&&!!pV[NU(e)]};const gV=function(e){return function(t){return e(t)}};var yV="object"==typeof exports&&exports&&!exports.nodeType&&exports,vV=yV&&"object"==typeof module&&module&&!module.nodeType&&module,bV=vV&&vV.exports===yV&&SU.process;const wV=function(){try{var e=vV&&vV.require&&vV.require("util").types;return e||bV&&bV.binding&&bV.binding("util")}catch(t){}}();var _V=wV&&wV.isTypedArray;const SV=_V?gV(_V):mV;var EV=Object.prototype.hasOwnProperty;const xV=function(e,t){var n=oV(e),r=!n&&iV(e),i=!n&&!r&&lV(e),o=!n&&!r&&!i&&SV(e),a=n||r||i||o,s=a?JB(e.length,String):[],c=s.length;for(var u in e)!t&&!EV.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||dV(u,c))||s.push(u);return s};var TV=Object.prototype;const IV=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||TV)};const OV=MU(Object.keys,Object);var CV=Object.prototype.hasOwnProperty;const kV=function(e){if(!IV(e))return OV(e);var t=[];for(var n in Object(e))CV.call(e,n)&&"constructor"!=n&&t.push(n);return t};const AV=function(e){return null!=e&&fV(e.length)&&!cB(e)};const PV=function(e){return AV(e)?xV(e):kV(e)};const RV=function(e,t){return e&&$B(t,PV(t),e)};const DV=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var NV=Object.prototype.hasOwnProperty;const MV=function(e){if(!sB(e))return DV(e);var t=IV(e),n=[];for(var r in e)("constructor"!=r||!t&&NV.call(e,r))&&n.push(r);return n};const jV=function(e){return AV(e)?xV(e,!0):MV(e)};const LV=function(e,t){return e&&$B(t,jV(t),e)};var FV="object"==typeof exports&&exports&&!exports.nodeType&&exports,UV=FV&&"object"==typeof module&&module&&!module.nodeType&&module,BV=UV&&UV.exports===FV?xU.Buffer:void 0,VV=BV?BV.allocUnsafe:void 0;const zV=function(e,t){if(t)return e.slice();var n=e.length,r=VV?VV(n):new e.constructor(n);return e.copy(r),r};const qV=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const WV=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const GV=function(){return[]};var HV=Object.prototype.propertyIsEnumerable,KV=Object.getOwnPropertySymbols,QV=KV?function(e){return null==e?[]:(e=Object(e),WV(KV(e),(function(t){return HV.call(e,t)})))}:GV;const YV=QV;const XV=function(e,t){return $B(e,YV(e),t)};const $V=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var JV=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$V(t,YV(e)),e=jU(e);return t}:GV;const ZV=JV;const ez=function(e,t){return $B(e,ZV(e),t)};const tz=function(e,t,n){var r=t(e);return oV(e)?r:$V(r,n(e))};const nz=function(e){return tz(e,PV,YV)};const rz=function(e){return tz(e,jV,ZV)};const iz=SB(xU,"DataView");const oz=SB(xU,"Promise");const az=SB(xU,"Set");const sz=SB(xU,"WeakMap");var cz="[object Map]",uz="[object Promise]",lz="[object Set]",hz="[object WeakMap]",dz="[object DataView]",fz=fB(iz),pz=fB(EB),mz=fB(oz),gz=fB(az),yz=fB(sz),vz=NU;(iz&&vz(new iz(new ArrayBuffer(1)))!=dz||EB&&vz(new EB)!=cz||oz&&vz(oz.resolve())!=uz||az&&vz(new az)!=lz||sz&&vz(new sz)!=hz)&&(vz=function(e){var t=NU(e),n="[object Object]"==t?e.constructor:void 0,r=n?fB(n):"";if(r)switch(r){case fz:return dz;case pz:return cz;case mz:return uz;case gz:return lz;case yz:return hz}return t});const bz=vz;var wz=Object.prototype.hasOwnProperty;const _z=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&wz.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const Sz=xU.Uint8Array;const Ez=function(e){var t=new e.constructor(e.byteLength);return new Sz(t).set(new Sz(e)),t};const xz=function(e,t){var n=t?Ez(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var Tz=/\w*$/;const Iz=function(e){var t=new e.constructor(e.source,Tz.exec(e));return t.lastIndex=e.lastIndex,t};var Oz=TU?TU.prototype:void 0,Cz=Oz?Oz.valueOf:void 0;const kz=function(e){return Cz?Object(Cz.call(e)):{}};const Az=function(e,t){var n=t?Ez(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const Pz=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ez(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return xz(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Az(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Iz(e);case"[object Symbol]":return kz(e)}};var Rz=Object.create,Dz=function(){function e(){}return function(t){if(!sB(t))return{};if(Rz)return Rz(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Nz=Dz;const Mz=function(e){return"function"!=typeof e.constructor||IV(e)?{}:Nz(jU(e))};const jz=function(e){return LU(e)&&"[object Map]"==bz(e)};var Lz=wV&&wV.isMap;const Fz=Lz?gV(Lz):jz;const Uz=function(e){return LU(e)&&"[object Set]"==bz(e)};var Bz=wV&&wV.isSet;const Vz=Bz?gV(Bz):Uz;var zz="[object Arguments]",qz="[object Function]",Wz="[object Object]",Gz={};Gz[zz]=Gz["[object Array]"]=Gz["[object ArrayBuffer]"]=Gz["[object DataView]"]=Gz["[object Boolean]"]=Gz["[object Date]"]=Gz["[object Float32Array]"]=Gz["[object Float64Array]"]=Gz["[object Int8Array]"]=Gz["[object Int16Array]"]=Gz["[object Int32Array]"]=Gz["[object Map]"]=Gz["[object Number]"]=Gz[Wz]=Gz["[object RegExp]"]=Gz["[object Set]"]=Gz["[object String]"]=Gz["[object Symbol]"]=Gz["[object Uint8Array]"]=Gz["[object Uint8ClampedArray]"]=Gz["[object Uint16Array]"]=Gz["[object Uint32Array]"]=!0,Gz["[object Error]"]=Gz[qz]=Gz["[object WeakMap]"]=!1;const Hz=function e(t,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!sB(t))return t;var h=oV(t);if(h){if(s=_z(t),!c)return qV(t,s)}else{var d=bz(t),f=d==qz||"[object GeneratorFunction]"==d;if(lV(t))return zV(t,c);if(d==Wz||d==zz||f&&!o){if(s=u||f?{}:Mz(t),!c)return u?ez(t,LV(s,t)):XV(t,RV(s,t))}else{if(!Gz[d])return o?t:{};s=Pz(t,d,c)}}a||(a=new GB);var p=a.get(t);if(p)return p;a.set(t,s),Vz(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Fz(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var m=h?void 0:(l?u?rz:nz:u?jV:PV)(t);return HB(m||t,(function(i,o){m&&(i=t[o=i]),XB(s,o,e(i,n,r,o,t,a))})),s};const Kz=function(e){return Hz(e,4)};const Qz=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};const Yz=function(e){return"symbol"==typeof e||LU(e)&&"[object Symbol]"==NU(e)};function Xz(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Xz.Cache||zB),n}Xz.Cache=zB;const $z=Xz;var Jz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zz=/\\(\\)?/g,eq=function(e){var t=$z(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Jz,(function(e,n,r,i){t.push(r?i.replace(Zz,"$1"):n||e)})),t}));const tq=eq;const nq=function(e){if("string"==typeof e||Yz(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var rq=TU?TU.prototype:void 0,iq=rq?rq.toString:void 0;const oq=function e(t){if("string"==typeof t)return t;if(oV(t))return Qz(t,e)+"";if(Yz(t))return iq?iq.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const aq=function(e){return null==e?"":oq(e)};const sq=function(e){return oV(e)?Qz(e,nq):Yz(e)?[e]:qV(tq(aq(e)))};const cq=function(e){return Hz(e,5)};function uq(){return uq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uq.apply(this,arguments)}function lq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function hq(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function dq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fq=(0,r.createContext)(void 0);fq.displayName="FormikContext";var pq=fq.Provider;fq.Consumer;function mq(){var e=(0,r.useContext)(fq);return e||HU(!1),e}var gq=function(e){return Array.isArray(e)&&0===e.length},yq=function(e){return"function"===typeof e},vq=function(e){return null!==e&&"object"===typeof e},bq=function(e){return String(Math.floor(Number(e)))===e},wq=function(e){return"[object String]"===Object.prototype.toString.call(e)},_q=function(e){return 0===r.Children.count(e)},Sq=function(e){return vq(e)&&yq(e.then)};function Eq(e,t,n,r){void 0===r&&(r=0);for(var i=sq(t);e&&r<i.length;)e=e[i[r++]];return r===i.length||e?void 0===e?n:e:n}function xq(e,t,n){for(var r=Kz(e),i=r,o=0,a=sq(t);o<a.length-1;o++){var s=a[o],c=Eq(e,a.slice(0,o+1));if(c&&(vq(c)||Array.isArray(c)))i=i[s]=Kz(c);else{var u=a[o+1];i=i[s]=bq(u)&&Number(u)>=0?[]:{}}}return(0===o?e:i)[a[o]]===n?e:(void 0===n?delete i[a[o]]:i[a[o]]=n,0===o&&void 0===n&&delete r[a[o]],r)}function Tq(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a];vq(s)?n.get(s)||(n.set(s,!0),r[a]=Array.isArray(s)?[]:{},Tq(s,t,n,r[a])):r[a]=t}return r}var Iq={},Oq={};function Cq(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,o=void 0===i||i,a=e.validateOnMount,s=void 0!==a&&a,c=e.isInitialValid,u=e.enableReinitialize,l=void 0!==u&&u,h=e.onSubmit,d=hq(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=uq({validateOnChange:n,validateOnBlur:o,validateOnMount:s,onSubmit:h},d),p=(0,r.useRef)(f.initialValues),m=(0,r.useRef)(f.initialErrors||Iq),g=(0,r.useRef)(f.initialTouched||Oq),y=(0,r.useRef)(f.initialStatus),v=(0,r.useRef)(!1),b=(0,r.useRef)({});(0,r.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var w=(0,r.useState)(0)[1],_=(0,r.useRef)({values:f.initialValues,errors:f.initialErrors||Iq,touched:f.initialTouched||Oq,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=_.current,E=(0,r.useCallback)((function(e){var t=_.current;_.current=function(e,t){switch(t.type){case"SET_VALUES":return uq({},e,{values:t.payload});case"SET_TOUCHED":return uq({},e,{touched:t.payload});case"SET_ERRORS":return GU()(e.errors,t.payload)?e:uq({},e,{errors:t.payload});case"SET_STATUS":return uq({},e,{status:t.payload});case"SET_ISSUBMITTING":return uq({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return uq({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return uq({},e,{values:xq(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return uq({},e,{touched:xq(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return uq({},e,{errors:xq(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return uq({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return uq({},e,{touched:Tq(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return uq({},e,{isSubmitting:!1});default:return e}}(t,e),t!==_.current&&w((function(e){return e+1}))}),[]),x=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=f.validate(e,t);null==i?n(Iq):Sq(i)?i.then((function(e){n(e||Iq)}),(function(e){r(e)})):n(i)}))}),[f.validate]),T=(0,r.useCallback)((function(e,t){var n=f.validationSchema,r=yq(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);var i=Aq(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}(e,r);return new Promise((function(e,t){i.then((function(){e(Iq)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return xq(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;Eq(t,a.path)||(t=xq(t,a.path,a.message))}}return t}(n)):t(n)}))}))}),[f.validationSchema]),I=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(b.current[e].validate(t))}))}),[]),O=(0,r.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return yq(b.current[e].validate)})),n=t.length>0?t.map((function(t){return I(t,Eq(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=xq(e,t[r],n)),e}),{})}))}),[I]),C=(0,r.useCallback)((function(e){return Promise.all([O(e),f.validationSchema?T(e):{},f.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return _U.all([t,n,r],{arrayMerge:Pq})}))}),[f.validate,f.validationSchema,O,x,T]),k=Dq((function(e){return void 0===e&&(e=S.values),E({type:"SET_ISVALIDATING",payload:!0}),C(e).then((function(e){return v.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){s&&!0===v.current&&GU()(p.current,f.initialValues)&&k(p.current)}),[s,k]);var A=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:m.current?m.current:f.initialErrors||{},r=e&&e.touched?e.touched:g.current?g.current:f.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:f.initialStatus;p.current=t,m.current=n,g.current=r,y.current=i;var o=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(f.onReset){var a=f.onReset(S.values,Y);Sq(a)?a.then(o):o()}else o()}),[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);(0,r.useEffect)((function(){!0!==v.current||GU()(p.current,f.initialValues)||l&&(p.current=f.initialValues,A(),s&&k(p.current))}),[l,f.initialValues,A,s,k]),(0,r.useEffect)((function(){l&&!0===v.current&&!GU()(m.current,f.initialErrors)&&(m.current=f.initialErrors||Iq,E({type:"SET_ERRORS",payload:f.initialErrors||Iq}))}),[l,f.initialErrors]),(0,r.useEffect)((function(){l&&!0===v.current&&!GU()(g.current,f.initialTouched)&&(g.current=f.initialTouched||Oq,E({type:"SET_TOUCHED",payload:f.initialTouched||Oq}))}),[l,f.initialTouched]),(0,r.useEffect)((function(){l&&!0===v.current&&!GU()(y.current,f.initialStatus)&&(y.current=f.initialStatus,E({type:"SET_STATUS",payload:f.initialStatus}))}),[l,f.initialStatus,f.initialTouched]);var P=Dq((function(e){if(b.current[e]&&yq(b.current[e].validate)){var t=Eq(S.values,e),n=b.current[e].validate(t);return Sq(n)?(E({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),E({type:"SET_ISVALIDATING",payload:!1})}))):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return f.validationSchema?(E({type:"SET_ISVALIDATING",payload:!0}),T(S.values,e).then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:Eq(t,e)}}),E({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,r.useCallback)((function(e,t){var n=t.validate;b.current[e]={validate:n}}),[]),D=(0,r.useCallback)((function(e){delete b.current[e]}),[]),N=Dq((function(e,t){return E({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?k(S.values):Promise.resolve()})),M=(0,r.useCallback)((function(e){E({type:"SET_ERRORS",payload:e})}),[]),j=Dq((function(e,t){var r=yq(e)?e(S.values):e;return E({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?k(r):Promise.resolve()})),L=(0,r.useCallback)((function(e,t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),F=Dq((function(e,t,r){return E({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?k(xq(S.values,e,t)):Promise.resolve()})),U=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!wq(e)){e.persist&&e.persist();var o=e.target?e.target:e.currentTarget,a=o.type,s=o.name,c=o.id,u=o.value,l=o.checked,h=(o.outerHTML,o.options),d=o.multiple;r=t||(s||c),i=/number|range/.test(a)?(n=parseFloat(u),isNaN(n)?"":n):/checkbox/.test(a)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,i=(o=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,o).concat(r.slice(o+1))}(Eq(S.values,r),l,u):h&&d?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(h):u}r&&F(r,i)}),[F,S.values]),B=Dq((function(e){if(wq(e))return function(t){return U(t,e)};U(e)})),V=Dq((function(e,t,n){return void 0===t&&(t=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?o:n)?k(S.values):Promise.resolve()})),z=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,o=(n.outerHTML,t||(r||i));V(o,!0)}),[V]),q=Dq((function(e){if(wq(e))return function(t){return z(t,e)};z(e)})),W=(0,r.useCallback)((function(e){yq(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),G=(0,r.useCallback)((function(e){E({type:"SET_STATUS",payload:e})}),[]),H=(0,r.useCallback)((function(e){E({type:"SET_ISSUBMITTING",payload:e})}),[]),K=Dq((function(){return E({type:"SUBMIT_ATTEMPT"}),k().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=X()))return}catch(v_){throw v_}return Promise.resolve(n).then((function(e){return v.current&&E({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(v.current)throw E({type:"SUBMIT_FAILURE"}),e}))}if(v.current&&(E({type:"SUBMIT_FAILURE"}),t))throw e}))})),Q=Dq((function(e){e&&e.preventDefault&&yq(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&yq(e.stopPropagation)&&e.stopPropagation(),K().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Y={resetForm:A,validateForm:k,validateField:P,setErrors:M,setFieldError:L,setFieldTouched:V,setFieldValue:F,setStatus:G,setSubmitting:H,setTouched:N,setValues:j,setFormikState:W,submitForm:K},X=Dq((function(){return h(S.values,Y)})),$=Dq((function(e){e&&e.preventDefault&&yq(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&yq(e.stopPropagation)&&e.stopPropagation(),A()})),J=(0,r.useCallback)((function(e){return{value:Eq(S.values,e),error:Eq(S.errors,e),touched:!!Eq(S.touched,e),initialValue:Eq(p.current,e),initialTouched:!!Eq(g.current,e),initialError:Eq(m.current,e)}}),[S.errors,S.touched,S.values]),Z=(0,r.useCallback)((function(e){return{setValue:function(t,n){return F(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return L(e,t)}}}),[F,V,L]),ee=(0,r.useCallback)((function(e){var t=vq(e),n=t?e.name:e,r=Eq(S.values,n),i={name:n,value:r,onChange:B,onBlur:q};if(t){var o=e.type,a=e.value,s=e.as,c=e.multiple;"checkbox"===o?void 0===a?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(a)),i.value=a):"radio"===o?(i.checked=r===a,i.value=a):"select"===s&&c&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,B,S.values]),te=(0,r.useMemo)((function(){return!GU()(p.current,S.values)}),[p.current,S.values]),ne=(0,r.useMemo)((function(){return"undefined"!==typeof c?te?S.errors&&0===Object.keys(S.errors).length:!1!==c&&yq(c)?c(f):c:S.errors&&0===Object.keys(S.errors).length}),[c,te,S.errors,f]);return uq({},S,{initialValues:p.current,initialErrors:m.current,initialTouched:g.current,initialStatus:y.current,handleBlur:q,handleChange:B,handleReset:$,handleSubmit:Q,resetForm:A,setErrors:M,setFormikState:W,setFieldTouched:V,setFieldValue:F,setFieldError:L,setStatus:G,setSubmitting:H,setTouched:N,setValues:j,submitForm:K,validateForm:k,validateField:P,isValid:ne,dirty:te,unregisterField:D,registerField:R,getFieldProps:ee,getFieldMeta:J,getFieldHelpers:Z,validateOnBlur:o,validateOnChange:n,validateOnMount:s})}function kq(e){var t=Cq(e),n=e.component,i=e.children,o=e.render,a=e.innerRef;return(0,r.useImperativeHandle)(a,(function(){return t})),(0,r.createElement)(pq,{value:t},n?(0,r.createElement)(n,t):o?o(t):i?yq(i)?i(t):_q(i)?null:r.Children.only(i):null)}function Aq(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||qU(e)?Aq(e):""!==e?e:void 0})):qU(e[r])?t[r]=Aq(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function Pq(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var o=!1!==n.clone&&n.isMergeableObject(t);r[i]=o?_U(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=_U(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var Rq="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function Dq(e){var t=(0,r.useRef)(e);return Rq((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var Nq=(0,r.forwardRef)((function(e,t){var n=e.action,i=hq(e,["action"]),o=null!=n?n:"#",a=mq(),s=a.handleReset,c=a.handleSubmit;return(0,r.createElement)("form",uq({onSubmit:c,ref:t,onReset:s,action:o},i))}));Nq.displayName="Form";var Mq=function(e,t,n){var r=jq(e);return r.splice(t,0,n),r},jq=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(uq({},e,{length:t+1}))}return[]},Lq=function(e,t){var n="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||vq(e)){var t=jq(e);return n(t)}return e}},Fq=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,o=i.name;(0,i.formik.setFormikState)((function(n){var i=Lq(r,e),a=Lq(t,e),s=xq(n.values,o,e(Eq(n.values,o))),c=r?i(Eq(n.errors,o)):void 0,u=t?a(Eq(n.touched,o)):void 0;return gq(c)&&(c=void 0),gq(u)&&(u=void 0),uq({},n,{values:s,errors:r?xq(n.errors,o,c):n.errors,touched:t?xq(n.touched,o,u):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(jq(t),[cq(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=jq(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=jq(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Mq(n,e,t)}),(function(t){return Mq(t,e,null)}),(function(t){return Mq(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=jq(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t=r.length,r}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(dq(n)),n.pop=n.pop.bind(dq(n)),n}lq(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!GU()(Eq(e.formik.values,e.name),Eq(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?jq(n):[];return t||(t=r[e]),yq(r.splice)&&r.splice(e,1),yq(r.every)&&r.every((function(e){return void 0===e}))?[]:r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t.slice();return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,o=t.children,a=t.name,s=uq({},e,{form:hq(t.formik,["validate","validationSchema"]),name:a});return n?(0,r.createElement)(n,s):i?i(s):o?"function"===typeof o?o(s):_q(o)?null:r.Children.only(o):null},t}(r.Component);Fq.defaultProps={validateOnChange:!0};function Uq(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Uq(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Bq=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Uq(e))&&(r&&(r+=" "),r+=t);return r},Vq=["sx"],zq=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Wj;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function qq(e){const{sx:t}=e,n=O(e,Vq),{systemProps:r,otherProps:i}=zq(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return FM(e)?I({},r,e):r}:I({},r,t),I({},i,{sx:o})}function Wq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var Gq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Hq=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Kq=function(e,t,n){Hq(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},Qq=qF((function(e){return Gq.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Yq=function(e){return"theme"!==e},Xq=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Qq:Yq},$q=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Jq=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Hq(t,n,r),tU((function(){return Kq(t,n,r)})),null},Zq=function e(t,n){var i,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var c=$q(t,n,a),u=c||Xq(s),l=!u("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var f=h.length,p=1;p<f;p++)d.push(h[p],h[0][p])}var m=iU((function(e,t,n){var i=l&&e.as||s,a="",h=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=r.useContext(oU)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,h,e.className):null!=e.className&&(a=e.className+" ");var m=ZF(d.concat(h),t.registered,f);a+=t.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=l&&void 0===c?Xq(i):u,y={};for(var v in e)l&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=a,y.ref=n,r.createElement(r.Fragment,null,r.createElement(Jq,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,r){return e(t,I({},n,r,{shouldForwardProp:$q(m,r,!0)})).apply(void 0,d)},m}}.bind();function eW(e,t){return Zq(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Zq[e]=Zq(e)}));const tW=["variant"];function nW(e){return 0===e.length}function rW(e){const{variant:t}=e,n=O(e,tW);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?nW(r)?e[t]:XM(e[t]):"".concat(nW(r)?t:XM(t)).concat(XM(e[t].toString()))})),r}const iW=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const oW=e=>{const t={};return e&&e.forEach((e=>{const n=rW(e.props);t[n]=e.style})),t},aW=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[rW(n.props)])})),i};function sW(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const cW=Qj(),uW=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function lW(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function hW(e){return e?(t,n)=>n[e]:null}const dW=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const o=t(I({},n,{theme:lW(I({},n,{defaultTheme:r,themeId:i}))}));let a;if(o&&o.variants&&(a=o.variants,delete o.variants),a){return[o,...aW(n,oW(a),a)]}return o};function fW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=cW,rootShouldForwardProp:r=sW,slotShouldForwardProp:i=sW}=e,o=e=>Hj(I({},e,{theme:lW(I({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:c,skipVariantsResolver:u,skipSx:l,overridesResolver:h=hW(uW(c))}=a,d=O(a,iW),f=void 0!==u?u:c&&"Root"!==c&&"root"!==c||!1,p=l||!1;let m=sW;"Root"===c||"root"===c?m=r:c?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=eW(e,I({shouldForwardProp:m,label:undefined},d)),y=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];const u=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>dW({styledArg:e,props:r,defaultTheme:n,themeId:t});if(FM(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return aW(n,oW(t),t).forEach((e=>{r=BM(r,e)})),r}),n}return e})):[];let l=r;if(FM(r)){let e;r&&r.variants&&(e=r.variants,delete l.variants,l=t=>{let n=r;return aW(t,oW(e),e).forEach((e=>{n=BM(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(l=e=>dW({styledArg:r,props:e,defaultTheme:n,themeId:t}));s&&h&&u.push((e=>{const r=lW(I({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(s,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,o]=n;t[i]="function"===typeof o?o(I({},e,{theme:r})):o})),h(e,t)}return null})),s&&!f&&u.push((e=>{const r=lW(I({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return aW(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),oW(n)})(s,r),r,s)})),p||u.push(o);const d=u.length-a.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");l=[...r,...e],l.raw=[...r.raw,...e]}const m=g(l,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}const pW=RL(),mW=e=>sW(e)&&"classes"!==e,gW=sW,yW=fW({themeId:lU,defaultTheme:pW,rootShouldForwardProp:mW});function vW(e,t){const n=I({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=I({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=I({},o),Object.keys(i).forEach((e=>{n[r][e]=vW(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}const bW=Qj();const wW=function(){return aU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bW)};function _W(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=wW(r);i&&(o=o[i]||o);const a=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?vW(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return a}function SW(e){let{props:t,name:n}=e;return _W({props:t,name:n,defaultTheme:pW,themeId:lU})}const EW=XM,xW=e=>e,TW=(()=>{let e=xW;return{configure(t){e=t},generate:t=>e(t),reset(){e=xW}}})(),IW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function OW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=IW[t];return r?"".concat(n,"-").concat(r):"".concat(TW.generate(e),"-").concat(t)}function CW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=OW(e,t,n)})),r}function kW(e){return OW("MuiTypography",e)}CW("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const AW=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],PW=yW("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(EW(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return I({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),RW={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},DW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},NW=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiTypography"}),r=(e=>DW[e]||e)(n.color),i=qq(I({},n,{color:r})),{align:o="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:u=!1,paragraph:l=!1,variant:h="body1",variantMapping:d=RW}=i,f=O(i,AW),p=I({},i,{align:o,color:r,className:a,component:s,gutterBottom:c,noWrap:u,paragraph:l,variant:h,variantMapping:d}),m=s||(l?"p":d[h]||RW[h])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e;return Wq({root:["root",o,"inherit"!==e.align&&"align".concat(EW(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},kW,a)})(p);return(0,LL.jsx)(PW,I({as:m,ref:t,ownerState:p,className:Bq(g.root,a)},f))})),MW=NW;function jW(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function LW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{jW(t,e)}))}),t)}const FW=LW,UW="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;const BW=function(e){const t=r.useRef(e);return UW((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current},VW=BW;let zW,qW=!0,WW=!1;const GW={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function HW(e){e.metaKey||e.altKey||e.ctrlKey||(qW=!0)}function KW(){qW=!1}function QW(){"hidden"===this.visibilityState&&WW&&(qW=!0)}function YW(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(v_){}return qW||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!GW[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const XW=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",HW,!0),t.addEventListener("mousedown",KW,!0),t.addEventListener("pointerdown",KW,!0),t.addEventListener("touchstart",KW,!0),t.addEventListener("visibilitychange",QW,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!YW(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(WW=!0,window.clearTimeout(zW),zW=window.setTimeout((()=>{WW=!1}),100),t.current=!1,!0)},ref:e}};function $W(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function JW(e,t){return JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JW(e,t)}function ZW(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,JW(e,t)}const eG=r.createContext(null);function tG(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function nG(e,t,n){return null!=n[t]?n[t]:e.props[t]}function rG(e,t,n){var i=tG(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];s[i[c][r]]=n(u)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,r.isValidElement)(s)){var c=a in t,u=a in i,l=t[a],h=(0,r.isValidElement)(l)&&!l.props.in;!u||c&&!h?u||!c||h?u&&c&&(0,r.isValidElement)(l)&&(o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:nG(s,"exit",e),enter:nG(s,"enter",e)})):o[a]=(0,r.cloneElement)(s,{in:!1}):o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:nG(s,"exit",e),enter:nG(s,"enter",e)})}})),o}var iG=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},oG=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}ZW(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,tG(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:nG(e,"appear",n),enter:nG(e,"enter",n),exit:nG(e,"exit",n)})}))):rG(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=tG(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=I({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=O(e,["component","childFactory"]),o=this.state.contextValue,a=iG(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(eG.Provider,{value:o},a):r.createElement(eG.Provider,{value:o},r.createElement(t,i,a))},t}(r.Component);oG.propTypes={},oG.defaultProps={component:"div",childFactory:function(e){return e}};const aG=oG;var sG=iU((function(e,t){var n=e.styles,i=ZF([n],void 0,r.useContext(oU)),o=r.useRef();return nU((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),o.current=[n,r],function(){n.flush()}}),[t]),nU((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Kq(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null}));function cG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZF(t)}var uG=function(){var e=cG.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const lG=function(e){const{className:t,classes:n,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:s,in:c,onExited:u,timeout:l}=e,[h,d]=r.useState(!1),f=Bq(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),p={width:s,height:s,top:-s/2+a,left:-s/2+o},m=Bq(n.child,h&&n.childLeaving,i&&n.childPulsate);return c||h||d(!0),r.useEffect((()=>{if(!c&&null!=u){const e=setTimeout(u,l);return()=>{clearTimeout(e)}}}),[u,c,l]),(0,LL.jsx)("span",{className:f,style:p,children:(0,LL.jsx)("span",{className:m})})};const hG=CW("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var dG,fG,pG,mG;const gG=["center","classes","className"];let yG,vG,bG,wG;const _G=uG(yG||(yG=dG||(dG=$W(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),SG=uG(vG||(vG=fG||(fG=$W(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),EG=uG(bG||(bG=pG||(pG=$W(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),xG=yW("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TG=yW(lG,{name:"MuiTouchRipple",slot:"Ripple"})(wG||(wG=mG||(mG=$W(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),hG.rippleVisible,_G,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),hG.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),hG.child,hG.childLeaving,SG,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),hG.childPulsate,EG,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),IG=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=n,s=O(n,gG),[c,u]=r.useState([]),l=r.useRef(0),h=r.useRef(null);r.useEffect((()=>{h.current&&(h.current(),h.current=null)}),[c]);const d=r.useRef(!1),f=r.useRef(0),p=r.useRef(null),m=r.useRef(null);r.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;u((e=>[...e,(0,LL.jsx)(TG,{classes:{ripple:Bq(o.ripple,hG.ripple),rippleVisible:Bq(o.rippleVisible,hG.rippleVisible),ripplePulsate:Bq(o.ripplePulsate,hG.ripplePulsate),child:Bq(o.child,hG.child),childLeaving:Bq(o.childLeaving,hG.childLeaving),childPulsate:Bq(o.childPulsate,hG.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},l.current)])),l.current+=1,h.current=a}),[o]),y=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&d.current)return void(d.current=!1);"touchstart"===(null==e?void 0:e.type)&&(d.current=!0);const s=a?null:m.current,c=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,l,h;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(c.width/2),l=Math.round(c.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-c.left),l=Math.round(n-c.top)}if(o)h=Math.sqrt((2*c.width**2+c.height**2)/3),h%2===0&&(h+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-l),l)+2;h=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:u,rippleY:l,rippleSize:h,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:u,rippleY:l,rippleSize:h,cb:n})}),[i,g]),v=r.useCallback((()=>{y({},{pulsate:!0})}),[y]),b=r.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,u((e=>e.length>0?e.slice(1):e)),h.current=t}),[]);return r.useImperativeHandle(t,(()=>({pulsate:v,start:y,stop:b})),[v,y,b]),(0,LL.jsx)(xG,I({className:Bq(hG.root,o.root,a),ref:m},s,{children:(0,LL.jsx)(aG,{component:null,exit:!0,children:c})}))})),OG=IG;function CG(e){return OW("MuiButtonBase",e)}const kG=CW("MuiButtonBase",["root","disabled","focusVisible"]),AG=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],PG=yW("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(kG.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),RG=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:c="button",disabled:u=!1,disableRipple:l=!1,disableTouchRipple:h=!1,focusRipple:d=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:y,onFocus:v,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:S,onMouseLeave:E,onMouseUp:x,onTouchEnd:T,onTouchMove:C,onTouchStart:k,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:R,type:D}=n,N=O(n,AG),M=r.useRef(null),j=r.useRef(null),L=FW(j,R),{isFocusVisibleRef:F,onFocus:U,onBlur:B,ref:V}=XW(),[z,q]=r.useState(!1);u&&z&&q(!1),r.useImperativeHandle(i,(()=>({focusVisible:()=>{q(!0),M.current.focus()}})),[]);const[W,G]=r.useState(!1);r.useEffect((()=>{G(!0)}),[]);const H=W&&!l&&!u;function K(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return VW((r=>{t&&t(r);return!n&&j.current&&j.current[e](r),!0}))}r.useEffect((()=>{z&&d&&!l&&W&&j.current.pulsate()}),[l,d,z,W]);const Q=K("start",S),Y=K("stop",g),X=K("stop",y),$=K("stop",x),J=K("stop",(e=>{z&&e.preventDefault(),E&&E(e)})),Z=K("start",k),ee=K("stop",T),te=K("stop",C),ne=K("stop",(e=>{B(e),!1===F.current&&q(!1),p&&p(e)}),!1),re=VW((e=>{M.current||(M.current=e.currentTarget),U(e),!0===F.current&&(q(!0),b&&b(e)),v&&v(e)})),ie=()=>{const e=M.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},oe=r.useRef(!1),ae=VW((e=>{d&&!oe.current&&z&&j.current&&" "===e.key&&(oe.current=!0,j.current.stop(e,(()=>{j.current.start(e)}))),e.target===e.currentTarget&&ie()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ie()&&"Enter"===e.key&&!u&&(e.preventDefault(),m&&m(e))})),se=VW((e=>{d&&" "===e.key&&j.current&&z&&!e.defaultPrevented&&(oe.current=!1,j.current.stop(e,(()=>{j.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ie()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ce=c;"button"===ce&&(N.href||N.to)&&(ce=f);const ue={};"button"===ce?(ue.type=void 0===D?"button":D,ue.disabled=u):(N.href||N.to||(ue.role="button"),u&&(ue["aria-disabled"]=u));const le=FW(t,V,M);const he=I({},n,{centerRipple:o,component:c,disabled:u,disableRipple:l,disableTouchRipple:h,focusRipple:d,tabIndex:A,focusVisible:z}),de=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Wq({root:["root",t&&"disabled",n&&"focusVisible"]},CG,i);return n&&r&&(o.root+=" ".concat(r)),o})(he);return(0,LL.jsxs)(PG,I({as:ce,className:Bq(de.root,s),ownerState:he,onBlur:ne,onClick:m,onContextMenu:Y,onFocus:re,onKeyDown:ae,onKeyUp:se,onMouseDown:Q,onMouseLeave:J,onMouseUp:$,onDragLeave:X,onTouchEnd:ee,onTouchMove:te,onTouchStart:Z,ref:le,tabIndex:u?-1:A,type:D},ue,N,{children:[a,H?(0,LL.jsx)(OG,I({ref:L,center:o},P)):null]}))})),DG=RG;function NG(e){return OW("MuiButton",e)}const MG=CW("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const jG=r.createContext({});const LG=r.createContext(void 0),FG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],UG=e=>I({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),BG=yW(DG,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(EW(n.color))],t["size".concat(EW(n.size))],t["".concat(n.variant,"Size").concat(EW(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return I({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":I({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):eL(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):eL(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):eL(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":I({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(MG.focusVisible)]:I({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(MG.disabled)]:I({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat(eL(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(MG.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(MG.disabled)]:{boxShadow:"none"}}})),VG=yW("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(EW(n.size))]]}})((e=>{let{ownerState:t}=e;return I({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},UG(t))})),zG=yW("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(EW(n.size))]]}})((e=>{let{ownerState:t}=e;return I({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},UG(t))})),qG=r.forwardRef((function(e,t){const n=r.useContext(jG),i=r.useContext(LG),o=SW({props:vW(n,e),name:"MuiButton"}),{children:a,color:s="primary",component:c="button",className:u,disabled:l=!1,disableElevation:h=!1,disableFocusRipple:d=!1,endIcon:f,focusVisibleClassName:p,fullWidth:m=!1,size:g="medium",startIcon:y,type:v,variant:b="text"}=o,w=O(o,FG),_=I({},o,{color:s,component:c,disabled:l,disableElevation:h,disableFocusRipple:d,fullWidth:m,size:g,type:v,variant:b}),S=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e;return I({},a,Wq({root:["root",o,"".concat(o).concat(EW(t)),"size".concat(EW(i)),"".concat(o,"Size").concat(EW(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(EW(i))],endIcon:["endIcon","iconSize".concat(EW(i))]},NG,a))})(_),E=y&&(0,LL.jsx)(VG,{className:S.startIcon,ownerState:_,children:y}),x=f&&(0,LL.jsx)(zG,{className:S.endIcon,ownerState:_,children:f}),T=i||"";return(0,LL.jsxs)(BG,I({ownerState:_,className:Bq(n.className,S.root,u,T),component:c,disabled:l,focusRipple:!d,focusVisibleClassName:Bq(S.focusVisible,p),ref:t,type:v},w,{classes:S,children:[E,a,x]}))})),WG=qG,GG=fW(),HG=["className","component","disableGutters","fixed","maxWidth","classes"],KG=Qj(),QG=GG("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(XM(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),YG=e=>_W({props:e,name:"MuiContainer",defaultTheme:KG});const XG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=QG,useThemeProps:n=YG,componentName:i="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return I({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return I({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),a=r.forwardRef((function(e,t){const r=n(e),{className:a,component:s="div",disableGutters:c=!1,fixed:u=!1,maxWidth:l="lg"}=r,h=O(r,HG),d=I({},r,{component:s,disableGutters:c,fixed:u,maxWidth:l}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return Wq({root:["root",o&&"maxWidth".concat(XM(String(o))),r&&"fixed",i&&"disableGutters"]},(e=>OW(t,e)),n)})(d,i);return(0,LL.jsx)(o,I({as:s,ownerState:d,className:Bq(f.root,a),ref:t},h))}));return a}({createStyledComponent:yW("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(EW(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>SW({props:e,name:"MuiContainer"})}),$G=XG,JG=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function ZG(e){return OW("MuiPaper",e)}CW("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const eH=["className","component","elevation","square","variant"],tH=yW("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return I({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&I({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(eL("#fff",JG(n.elevation)),", ").concat(eL("#fff",JG(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),nH=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,c=O(n,eH),u=I({},n,{component:i,elevation:o,square:a,variant:s}),l=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Wq({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},ZG,i)})(u);return(0,LL.jsx)(tH,I({as:i,ownerState:u,className:Bq(l.root,r),ref:t},c))})),rH=nH;function iH(e){return OW("MuiCard",e)}CW("MuiCard",["root"]);const oH=["className","raised"],aH=yW(rH,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),sH=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=O(n,oH),a=I({},n,{raised:i}),s=(e=>{const{classes:t}=e;return Wq({root:["root"]},iH,t)})(a);return(0,LL.jsx)(aH,I({className:Bq(s.root,r),elevation:i?8:void 0,ref:t,ownerState:a},o))})),cH=sH,uH=GG("div")({height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"}),lH=e=>{let{children:t}=e;return(0,LL.jsx)(uH,{children:(0,LL.jsxs)($G,{maxWidth:"sm",children:[(0,LL.jsx)(cH,{sx:{bgcolor:"inherit",m:2,px:{xs:2,md:4},py:{xs:3,md:5}},variant:"outlined",children:t}),(0,LL.jsx)(MW,{mt:2,children:"Copyright \xa9 SmartDevice"})]})})};let hH=0;const dH=i["useId".toString()];function fH(e){if(void 0!==dH){const t=dH();return null!=e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(hH+=1,n("mui-".concat(hH)))}),[t]),i}(e)}function pH(e){return e&&e.ownerDocument||document}function mH(e){return pH(e).defaultView||window}function gH(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}const yH=["onChange","maxRows","minRows","style","value"];function vH(e){return parseInt(e,10)||0}const bH={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function wH(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const _H=r.forwardRef((function(e,t){const{onChange:n,maxRows:i,minRows:a=1,style:s,value:c}=e,u=O(e,yH),{current:l}=r.useRef(null!=c),h=r.useRef(null),d=LW(t,h),f=r.useRef(null),p=r.useRef(0),[m,g]=r.useState({outerHeightStyle:0}),y=r.useCallback((()=>{const t=h.current,n=mH(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,s=vH(n.paddingBottom)+vH(n.paddingTop),c=vH(n.borderBottomWidth)+vH(n.borderTopWidth),u=r.scrollHeight;r.value="x";const l=r.scrollHeight;let d=u;a&&(d=Math.max(Number(a)*l,d)),i&&(d=Math.min(Number(i)*l,d)),d=Math.max(d,l);return{outerHeightStyle:d+("border-box"===o?s+c:0),overflow:Math.abs(d-u)<=1}}),[i,a,e.placeholder]),v=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(p.current+=1,{overflow:r,outerHeightStyle:n}):e},b=r.useCallback((()=>{const e=y();wH(e)||g((t=>v(t,e)))}),[y]);UW((()=>{const e=()=>{p.current=0,(()=>{const e=y();wH(e)||o.flushSync((()=>{g((t=>v(t,e)))}))})()};let t;const n=gH(e),r=h.current,i=mH(r);let a;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(a=new ResizeObserver(e),a.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),a&&a.disconnect()}}),[y]),UW((()=>{b()})),r.useEffect((()=>{p.current=0}),[c]);return(0,LL.jsxs)(r.Fragment,{children:[(0,LL.jsx)("textarea",I({value:c,onChange:e=>{p.current=0,l||b(),n&&n(e)},ref:d,rows:a,style:I({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},u)),(0,LL.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:I({},bH,s,{paddingTop:0,paddingBottom:0})})]})}));function SH(e){return"string"===typeof e}function EH(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const xH=r.createContext(void 0);function TH(){return r.useContext(xH)}const IH=UW;function OH(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,LL.jsx)(sG,{styles:r})}const CH=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=wW(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,LL.jsx)(OH,{styles:o})};const kH=function(e){return(0,LL.jsx)(CH,I({},e,{defaultTheme:pW,themeId:lU}))};function AH(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function PH(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(AH(e.value)&&""!==e.value||t&&AH(e.defaultValue)&&""!==e.defaultValue)}function RH(e){return OW("MuiInputBase",e)}const DH=CW("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),NH=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],MH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(EW(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},jH=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},LH=yW("div",{name:"MuiInputBase",slot:"Root",overridesResolver:MH})((e=>{let{theme:t,ownerState:n}=e;return I({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(DH.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&I({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),FH=yW("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jH})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=I({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return I({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(DH.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(DH.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),UH=(0,LL.jsx)(kH,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),BH=r.forwardRef((function(e,t){var n;const i=SW({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:c,components:u={},componentsProps:l={},defaultValue:h,disabled:d,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:y="input",inputProps:v={},inputRef:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:x,onChange:T,onClick:C,onFocus:k,onKeyDown:A,onKeyUp:P,placeholder:R,readOnly:D,renderSuffix:N,rows:M,slotProps:j={},slots:L={},startAdornment:F,type:U="text",value:B}=i,V=O(i,NH),z=null!=v.value?v.value:B,{current:q}=r.useRef(null!=z),W=r.useRef(),G=r.useCallback((e=>{0}),[]),H=FW(W,b,v.ref,G),[K,Q]=r.useState(!1),Y=TH();const X=EH({props:i,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=Y?Y.focused:K,r.useEffect((()=>{!Y&&d&&K&&(Q(!1),x&&x())}),[Y,d,K,x]);const $=Y&&Y.onFilled,J=Y&&Y.onEmpty,Z=r.useCallback((e=>{PH(e)?$&&$():J&&J()}),[$,J]);IH((()=>{q&&Z({value:z})}),[z,Z,q]);r.useEffect((()=>{Z(W.current)}),[]);let ee=y,te=v;S&&"input"===ee&&(te=I(M?{type:void 0,minRows:M,maxRows:M}:{type:void 0,maxRows:w,minRows:_},te),ee=_H);r.useEffect((()=>{Y&&Y.setAdornedStart(Boolean(F))}),[Y,F]);const ne=I({},i,{color:X.color||"primary",disabled:X.disabled,endAdornment:p,error:X.error,focused:X.focused,formControl:Y,fullWidth:m,hiddenLabel:X.hiddenLabel,multiline:S,size:X.size,startAdornment:F,type:U}),re=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:u,multiline:l,readOnly:h,size:d,startAdornment:f,type:p}=e;return Wq({root:["root","color".concat(EW(n)),r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",d&&"medium"!==d&&"size".concat(EW(d)),l&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},RH,t)})(ne),ie=L.root||u.Root||LH,oe=j.root||l.root||{},ae=L.input||u.Input||FH;return te=I({},te,null!=(n=j.input)?n:l.input),(0,LL.jsxs)(r.Fragment,{children:[!f&&UH,(0,LL.jsxs)(ie,I({},oe,!SH(ie)&&{ownerState:I({},ne,oe.ownerState)},{ref:t,onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),C&&C(e)}},V,{className:Bq(re.root,oe.className,c,D&&"MuiInputBase-readOnly"),children:[F,(0,LL.jsx)(xH.Provider,{value:null,children:(0,LL.jsx)(ae,I({ownerState:ne,"aria-invalid":X.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:h,disabled:X.disabled,id:g,onAnimationStart:e=>{Z("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:E,placeholder:R,readOnly:D,required:X.required,rows:M,value:z,onKeyDown:A,onKeyUp:P,type:U},te,!SH(ae)&&{as:ee,ownerState:I({},ne,te.ownerState)},{ref:H,className:Bq(re.input,te.className,D&&"MuiInputBase-readOnly"),onBlur:e=>{x&&x(e),v.onBlur&&v.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):Q(!1)},onChange:function(e){if(!q){const t=e.target||W.current;if(null==t)throw new Error(LM(1));Z({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];v.onChange&&v.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{X.disabled?e.stopPropagation():(k&&k(e),v.onFocus&&v.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):Q(!0))}}))}),p,N?N(I({},X,{startAdornment:F})):null]}))]})})),VH=BH;function zH(e){return OW("MuiInput",e)}const qH=I({},DH,CW("MuiInput",["root","underline","input"])),WH=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],GH=yW(LH,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...MH(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),I({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(qH.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(qH.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(qH.disabled,", .").concat(qH.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(qH.disabled,":before")]:{borderBottomStyle:"dotted"}})})),HH=yW(FH,{name:"MuiInput",slot:"Input",overridesResolver:jH})({}),KH=r.forwardRef((function(e,t){var n,r,i,o;const a=SW({props:e,name:"MuiInput"}),{disableUnderline:s,components:c={},componentsProps:u,fullWidth:l=!1,inputComponent:h="input",multiline:d=!1,slotProps:f,slots:p={},type:m="text"}=a,g=O(a,WH),y=(e=>{const{classes:t,disableUnderline:n}=e;return I({},t,Wq({root:["root",!n&&"underline"],input:["input"]},zH,t))})(a),v={root:{ownerState:{disableUnderline:s}}},b=(null!=f?f:u)?BM(null!=f?f:u,v):v,w=null!=(n=null!=(r=p.root)?r:c.Root)?n:GH,_=null!=(i=null!=(o=p.input)?o:c.Input)?i:HH;return(0,LL.jsx)(VH,I({slots:{root:w,input:_},slotProps:b,fullWidth:l,inputComponent:h,multiline:d,ref:t,type:m},g,{classes:y}))}));KH.muiName="Input";const QH=KH;function YH(e){return OW("MuiFilledInput",e)}const XH=I({},DH,CW("MuiFilledInput",["root","underline","input"])),$H=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],JH=yW(LH,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...MH(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return I({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(XH.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(XH.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:c}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(XH.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(XH.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(XH.disabled,", .").concat(XH.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(XH.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&I({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),ZH=yW(FH,{name:"MuiFilledInput",slot:"Input",overridesResolver:jH})((e=>{let{theme:t,ownerState:n}=e;return I({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),eK=r.forwardRef((function(e,t){var n,r,i,o;const a=SW({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:c,fullWidth:u=!1,inputComponent:l="input",multiline:h=!1,slotProps:d,slots:f={},type:p="text"}=a,m=O(a,$H),g=I({},a,{fullWidth:u,inputComponent:l,multiline:h,type:p}),y=(e=>{const{classes:t,disableUnderline:n}=e;return I({},t,Wq({root:["root",!n&&"underline"],input:["input"]},YH,t))})(a),v={root:{ownerState:g},input:{ownerState:g}},b=(null!=d?d:c)?BM(v,null!=d?d:c):v,w=null!=(n=null!=(r=f.root)?r:s.Root)?n:JH,_=null!=(i=null!=(o=f.input)?o:s.Input)?i:ZH;return(0,LL.jsx)(VH,I({slots:{root:w,input:_},componentsProps:b,fullWidth:u,inputComponent:l,multiline:h,ref:t,type:p},m,{classes:y}))}));eK.muiName="Input";const tK=eK;var nK;const rK=["children","classes","className","label","notched"],iK=yW("fieldset",{shouldForwardProp:mW})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),oK=yW("legend",{shouldForwardProp:mW})((e=>{let{ownerState:t,theme:n}=e;return I({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&I({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function aK(e){return OW("MuiOutlinedInput",e)}const sK=I({},DH,CW("MuiOutlinedInput",["root","notchedOutline","input"])),cK=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],uK=yW(LH,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:MH})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return I({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(sK.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(sK.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(sK.focused," .").concat(sK.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(sK.error," .").concat(sK.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(sK.disabled," .").concat(sK.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&I({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),lK=yW((function(e){const{className:t,label:n,notched:r}=e,i=O(e,rK),o=null!=n&&""!==n,a=I({},e,{notched:r,withLabel:o});return(0,LL.jsx)(iK,I({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,LL.jsx)(oK,{ownerState:a,children:o?(0,LL.jsx)("span",{children:n}):nK||(nK=(0,LL.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),hK=yW(FH,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jH})((e=>{let{theme:t,ownerState:n}=e;return I({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),dK=r.forwardRef((function(e,t){var n,i,o,a,s;const c=SW({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:l=!1,inputComponent:h="input",label:d,multiline:f=!1,notched:p,slots:m={},type:g="text"}=c,y=O(c,cK),v=(e=>{const{classes:t}=e;return I({},t,Wq({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},aK,t))})(c),b=TH(),w=EH({props:c,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=I({},c,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:l,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),S=null!=(n=null!=(i=m.root)?i:u.Root)?n:uK,E=null!=(o=null!=(a=m.input)?a:u.Input)?o:hK;return(0,LL.jsx)(VH,I({slots:{root:S,input:E},renderSuffix:e=>(0,LL.jsx)(lK,{ownerState:_,className:v.notchedOutline,label:null!=d&&""!==d&&w.required?s||(s=(0,LL.jsxs)(r.Fragment,{children:[d,"\u2009","*"]})):d,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:l,inputComponent:h,multiline:f,ref:t,type:g},y,{classes:I({},v,{notchedOutline:null})}))}));dK.muiName="Input";const fK=dK;function pK(e){return OW("MuiFormLabel",e)}const mK=CW("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),gK=["children","className","color","component","disabled","error","filled","focused","required"],yK=yW("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return I({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return I({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(mK.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(mK.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(mK.error)]:{color:(t.vars||t).palette.error.main}})})),vK=yW("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(mK.error)]:{color:(t.vars||t).palette.error.main}}})),bK=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,a=O(n,gK),s=EH({props:n,muiFormControl:TH(),states:["color","required","focused","disabled","error","filled"]}),c=I({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e;return Wq({root:["root","color".concat(EW(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},pK,t)})(c);return(0,LL.jsxs)(yK,I({as:o,ownerState:c,className:Bq(u.root,i),ref:t},a,{children:[r,s.required&&(0,LL.jsxs)(vK,{ownerState:c,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))})),wK=bK;function _K(e){return OW("MuiInputLabel",e)}CW("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SK=["disableAnimation","margin","shrink","variant","className"],EK=yW(wK,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(mK.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return I({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&I({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&I({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&I({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}),"standard"===n.variant&&{"&:not(label) + div":{marginTop:16}})})),xK=r.forwardRef((function(e,t){const n=SW({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,a=O(n,SK),s=TH();let c=i;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);const u=EH({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),l=I({},n,{disableAnimation:r,formControl:s,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e;return I({},t,Wq({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(EW(r)),a],asterisk:[s&&"asterisk"]},_K,t))})(l);return(0,LL.jsx)(EK,I({"data-shrink":c,ownerState:l,ref:t,className:Bq(h.root,o)},a,{classes:h}))})),TK=xK;const IK=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)};function OK(e){return OW("MuiFormControl",e)}CW("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const CK=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],kK=yW("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return I({},t.root,t["margin".concat(EW(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return I({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),AK=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:c=!1,error:u=!1,focused:l,fullWidth:h=!1,hiddenLabel:d=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=n,y=O(n,CK),v=I({},n,{color:a,component:s,disabled:c,error:u,fullWidth:h,hiddenLabel:d,margin:f,required:p,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Wq({root:["root","none"!==n&&"margin".concat(EW(n)),r&&"fullWidth"]},OK,t)})(v),[w,_]=r.useState((()=>{let e=!1;return i&&r.Children.forEach(i,(t=>{if(!IK(t,["Input","Select"]))return;const n=IK(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,E]=r.useState((()=>{let e=!1;return i&&r.Children.forEach(i,(t=>{IK(t,["Input","Select"])&&(PH(t.props,!0)||PH(t.props.inputProps,!0))&&(e=!0)})),e})),[x,T]=r.useState(!1);c&&x&&T(!1);const C=void 0===l||c?x:l;let k;const A=r.useMemo((()=>({adornedStart:w,setAdornedStart:_,color:a,disabled:c,error:u,filled:S,focused:C,fullWidth:h,hiddenLabel:d,size:m,onBlur:()=>{T(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{T(!0)},registerEffect:k,required:p,variant:g})),[w,a,c,u,S,C,h,d,k,p,m,g]);return(0,LL.jsx)(xH.Provider,{value:A,children:(0,LL.jsx)(kK,I({as:s,ownerState:v,className:Bq(b.root,o),ref:t},y,{children:i}))})})),PK=AK;function RK(e){return OW("MuiFormHelperText",e)}const DK=CW("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NK;const MK=["children","className","component","disabled","error","filled","focused","margin","required","variant"],jK=yW("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(EW(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return I({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(DK.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(DK.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),LK=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,a=O(n,MK),s=EH({props:n,muiFormControl:TH(),states:["variant","size","disabled","error","filled","focused","required"]}),c=I({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:c}=e;return Wq({root:["root",i&&"disabled",o&&"error",r&&"size".concat(EW(r)),n&&"contained",s&&"focused",a&&"filled",c&&"required"]},RK,t)})(c);return(0,LL.jsx)(jK,I({as:o,ownerState:c,className:Bq(u.root,i),ref:t},a,{children:" "===r?NK||(NK=(0,LL.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),FK=LK;n(7441);const UK=pH;function BK(e,t,n){return void 0===e||SH(e)?t:I({},t,{ownerState:I({},t.ownerState,n)})}function VK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function zK(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const qK=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function WK(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,a=O(e,qK),s=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:c,internalRef:u}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=Bq(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=I({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=I({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=VK(I({},i,r)),s=zK(r),c=zK(i),u=t(a),l=Bq(null==u?void 0:u.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),h=I({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),d=I({},u,n,c,s);return l.length>0&&(d.className=l),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:u.ref}}(I({},a,{externalSlotProps:s}));return BK(n,I({},c,{ref:LW(u,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i)}const GK=r.createContext({});function HK(e){return OW("MuiList",e)}CW("MuiList",["root","padding","dense","subheader"]);const KK=["children","className","component","dense","disablePadding","subheader"],QK=yW("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return I({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),YK=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:c=!1,subheader:u}=n,l=O(n,KK),h=r.useMemo((()=>({dense:s})),[s]),d=I({},n,{component:a,dense:s,disablePadding:c}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Wq({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},HK,t)})(d);return(0,LL.jsx)(GK.Provider,{value:h,children:(0,LL.jsxs)(QK,I({as:a,className:Bq(f.root,o),ref:t,ownerState:d},l,{children:[u,i]}))})})),XK=YK;function $K(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const JK=$K,ZK=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function eQ(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function tQ(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function nQ(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function rQ(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&nQ(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const iQ=r.forwardRef((function(e,t){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:l,variant:h="selectedMenu"}=e,d=O(e,ZK),f=r.useRef(null),p=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});IH((()=>{i&&f.current.focus()}),[i]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(JK(UK(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=FW(f,t);let g=-1;r.Children.forEach(a,((e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===h&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===t&&(g+=1,g>=a.length&&(g=-1))}));const y=r.Children.map(a,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===h&&(t.tabIndex=0),r.cloneElement(e,t)}return e}));return(0,LL.jsx)(XK,I({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=f.current,n=e.key,r=UK(t).activeElement;if("ArrowDown"===n)e.preventDefault(),rQ(t,r,u,c,eQ);else if("ArrowUp"===n)e.preventDefault(),rQ(t,r,u,c,tQ);else if("Home"===n)e.preventDefault(),rQ(t,null,u,c,eQ);else if("End"===n)e.preventDefault(),rQ(t,null,u,c,tQ);else if(1===n.length){const i=p.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&nQ(r,i);i.previousKeyMatched&&(s||rQ(t,r,!1,c,eQ,i))?e.preventDefault():i.previousKeyMatched=!1}l&&l(e)},tabIndex:i?0:-1},d,{children:y}))})),oQ=iQ,aQ=gH,sQ=mH,cQ=!1;var uQ="unmounted",lQ="exited",hQ="entering",dQ="entered",fQ="exiting",pQ=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=lQ,r.appearStatus=hQ):i=dQ:i=t.unmountOnExit||t.mountOnEnter?uQ:lQ,r.state={status:i},r.nextCallback=null,r}ZW(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===uQ?{status:lQ}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==hQ&&n!==dQ&&(t=hQ):n!==hQ&&n!==dQ||(t=fQ)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===hQ){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lQ&&this.setState({status:uQ})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||cQ?this.safeSetState({status:dQ},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:hQ},(function(){t.props.onEntering(a,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:dQ},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!cQ?(this.props.onExit(r),this.safeSetState({status:fQ},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:lQ},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:lQ},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===uQ)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,O(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(eG.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function mQ(){}pQ.contextType=eG,pQ.propTypes={},pQ.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mQ,onEntering:mQ,onEntered:mQ,onExit:mQ,onExiting:mQ,onExited:mQ},pQ.UNMOUNTED=uQ,pQ.EXITED=lQ,pQ.ENTERING=hQ,pQ.ENTERED=dQ,pQ.EXITING=fQ;const gQ=pQ;function yQ(){const e=wW(pW);return e[lU]||e}const vQ=e=>e.scrollTop;function bQ(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:a.transitionDelay}}const wQ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _Q(e){return"scale(".concat(e,", ").concat(e**2,")")}const SQ={entering:{opacity:1,transform:_Q(1)},entered:{opacity:1,transform:"none"}},EQ="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),xQ=r.forwardRef((function(e,t){const{addEndListener:n,appear:i=!0,children:o,easing:a,in:s,onEnter:c,onEntered:u,onEntering:l,onExit:h,onExited:d,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=gQ}=e,y=O(e,wQ),v=r.useRef(),b=r.useRef(),w=yQ(),_=r.useRef(null),S=FW(_,o.ref,t),E=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},x=E(l),T=E(((e,t)=>{vQ(e);const{duration:n,delay:r,easing:i}=bQ({style:p,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:EQ?o:.666*o,delay:r,easing:i})].join(","),c&&c(e,t)})),C=E(u),k=E(f),A=E((e=>{const{duration:t,delay:n,easing:r}=bQ({style:p,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:EQ?i:.666*i,delay:EQ?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=_Q(.75),h&&h(e)})),P=E(d);return r.useEffect((()=>()=>{clearTimeout(v.current)}),[]),(0,LL.jsx)(g,I({appear:i,in:s,nodeRef:_,onEnter:T,onEntered:C,onEntering:x,onExit:A,onExited:P,onExiting:k,addEndListener:e=>{"auto"===m&&(v.current=setTimeout(e,b.current||0)),n&&n(_.current,e)},timeout:"auto"===m?null:m},y,{children:(e,t)=>r.cloneElement(o,I({style:I({opacity:0,transform:_Q(.75),visibility:"exited"!==e||s?void 0:"hidden"},SQ[e],p,o.props.style),ref:S},t))}))}));xQ.muiSupportAuto=!0;const TQ=xQ;function IQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function OQ(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function CQ(e){return parseInt(mH(e).getComputedStyle(e).paddingRight,10)||0}function kQ(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&OQ(e,i)}))}function AQ(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function PQ(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=pH(e);return t.body===e?mH(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=$K(pH(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(CQ(r)+e,"px");const t=pH(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(CQ(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=pH(r).body;else{const t=r.parentElement,n=mH(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const RQ=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&OQ(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);kQ(t,e.mount,e.modalRef,r,!0);const i=AQ(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=AQ(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=PQ(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=AQ(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&OQ(e.modalRef,t),kQ(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&OQ(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function DQ(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:o=RQ,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:c,children:u,onClose:l,open:h,rootRef:d}=e,f=r.useRef({}),p=r.useRef(null),m=r.useRef(null),g=LW(m,d),[y,v]=r.useState(!h),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},E=BW((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||pH(p.current).body;o.add(_(),e),m.current&&S()})),x=r.useCallback((()=>o.isTopModal(_())),[o]),T=BW((e=>{p.current=e,e&&(h&&x()?S():m.current&&OQ(m.current,w))})),O=r.useCallback((()=>{o.remove(_(),w)}),[w,o]);r.useEffect((()=>()=>{O()}),[O]),r.useEffect((()=>{h?E():b&&a||O()}),[h,O,b,a,E]);const C=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&x()&&(n||(t.stopPropagation(),l&&l(t,"escapeKeyDown")))},k=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&l&&l(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=VK(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=I({},n,t);return I({role:"presentation"},r,{onKeyDown:C(r),ref:g})},getBackdropProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I({"aria-hidden":!0},e,{onClick:k(e),open:h})},getTransitionProps:()=>({onEnter:IQ((()=>{v(!1),s&&s()}),null==u?void 0:u.props.onEnter),onExited:IQ((()=>{v(!0),c&&c(),a&&O()}),null==u?void 0:u.props.onExited)}),rootRef:g,portalRef:T,isTopModal:x,exited:y,hasTransition:b}}const NQ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function MQ(e){const t=[],n=[];return Array.from(e.querySelectorAll(NQ)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function jQ(){return!0}function LQ(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=MQ,isEnabled:s=jQ,open:c}=e,u=r.useRef(!1),l=r.useRef(null),h=r.useRef(null),d=r.useRef(null),f=r.useRef(null),p=r.useRef(!1),m=r.useRef(null),g=LW(t.ref,m),y=r.useRef(null);r.useEffect((()=>{c&&m.current&&(p.current=!n)}),[n,c]),r.useEffect((()=>{if(!c||!m.current)return;const e=pH(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(d.current&&d.current.focus&&(u.current=!0,d.current.focus()),d.current=null)}}),[c]),r.useEffect((()=>{if(!c||!m.current)return;const e=pH(m.current),t=t=>{y.current=t,!i&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(u.current=!0,h.current&&h.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==l.current&&e.activeElement!==h.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==l.current&&e.activeElement!==h.current||(n=a(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=y.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,i,o,s,c,a]);const v=e=>{null===d.current&&(d.current=e.relatedTarget),p.current=!0};return(0,LL.jsxs)(r.Fragment,{children:[(0,LL.jsx)("div",{tabIndex:c?0:-1,onFocus:v,ref:l,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),p.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,LL.jsx)("div",{tabIndex:c?0:-1,onFocus:v,ref:h,"data-testid":"sentinelEnd"})]})}const FQ=r.forwardRef((function(e,t){const{children:n,container:i,disablePortal:a=!1}=e,[s,c]=r.useState(null),u=LW(r.isValidElement(n)?n.ref:null,t);if(UW((()=>{a||c(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,a]),UW((()=>{if(s&&!a)return jW(t,s),()=>{jW(t,null)}}),[t,s,a]),a){if(r.isValidElement(n)){const e={ref:u};return r.cloneElement(n,e)}return(0,LL.jsx)(r.Fragment,{children:n})}return(0,LL.jsx)(r.Fragment,{children:s?o.createPortal(n,s):s})}));const UQ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],BQ={entering:{opacity:1},entered:{opacity:1}},VQ=r.forwardRef((function(e,t){const n=yQ(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:c,in:u,onEnter:l,onEntered:h,onEntering:d,onExit:f,onExited:p,onExiting:m,style:g,timeout:y=i,TransitionComponent:v=gQ}=e,b=O(e,UQ),w=r.useRef(null),_=FW(w,s.ref,t),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},E=S(d),x=S(((e,t)=>{vQ(e);const r=bQ({style:g,timeout:y,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),l&&l(e,t)})),T=S(h),C=S(m),k=S((e=>{const t=bQ({style:g,timeout:y,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),A=S(p);return(0,LL.jsx)(v,I({appear:a,in:u,nodeRef:w,onEnter:x,onEntered:T,onEntering:E,onExit:k,onExited:A,onExiting:C,addEndListener:e=>{o&&o(w.current,e)},timeout:y},b,{children:(e,t)=>r.cloneElement(s,I({style:I({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},BQ[e],g,s.props.style),ref:_},t))}))})),zQ=VQ;function qQ(e){return OW("MuiBackdrop",e)}CW("MuiBackdrop",["root","invisible"]);const WQ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],GQ=yW("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return I({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),HQ=r.forwardRef((function(e,t){var n,r,i;const o=SW({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:c="div",components:u={},componentsProps:l={},invisible:h=!1,open:d,slotProps:f={},slots:p={},TransitionComponent:m=zQ,transitionDuration:g}=o,y=O(o,WQ),v=I({},o,{component:c,invisible:h}),b=(e=>{const{classes:t,invisible:n}=e;return Wq({root:["root",n&&"invisible"]},qQ,t)})(v),w=null!=(n=f.root)?n:l.root;return(0,LL.jsx)(m,I({in:d,timeout:g},y,{children:(0,LL.jsx)(GQ,I({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:u.Root)?r:c,className:Bq(b.root,s,null==w?void 0:w.className),ownerState:I({},v,null==w?void 0:w.ownerState),classes:b,ref:t,children:a}))}))})),KQ=HQ;function QQ(e){return OW("MuiModal",e)}CW("MuiModal",["root","hidden","backdrop"]);const YQ=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],XQ=yW("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return I({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),$Q=yW(KQ,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),JQ=r.forwardRef((function(e,t){var n,i,o,a,s,c;const u=SW({name:"MuiModal",props:e}),{BackdropComponent:l=$Q,BackdropProps:h,className:d,closeAfterTransition:f=!1,children:p,container:m,component:g,components:y={},componentsProps:v={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:x=!1,hideBackdrop:T=!1,keepMounted:C=!1,onBackdropClick:k,open:A,slotProps:P,slots:R}=u,D=O(u,YQ),N=I({},u,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:E,disableScrollLock:x,hideBackdrop:T,keepMounted:C}),{getRootProps:M,getBackdropProps:j,getTransitionProps:L,portalRef:F,isTopModal:U,exited:B,hasTransition:V}=DQ(I({},N,{rootRef:t})),z=I({},N,{exited:B}),q=(e=>{const{open:t,exited:n,classes:r}=e;return Wq({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},QQ,r)})(z),W={};if(void 0===p.props.tabIndex&&(W.tabIndex="-1"),V){const{onEnter:e,onExited:t}=L();W.onEnter=e,W.onExited=t}const G=null!=(n=null!=(i=null==R?void 0:R.root)?i:y.Root)?n:XQ,H=null!=(o=null!=(a=null==R?void 0:R.backdrop)?a:y.Backdrop)?o:l,K=null!=(s=null==P?void 0:P.root)?s:v.root,Q=null!=(c=null==P?void 0:P.backdrop)?c:v.backdrop,Y=WK({elementType:G,externalSlotProps:K,externalForwardedProps:D,getSlotProps:M,additionalProps:{ref:t,as:g},ownerState:z,className:Bq(d,null==K?void 0:K.className,null==q?void 0:q.root,!z.open&&z.exited&&(null==q?void 0:q.hidden))}),X=WK({elementType:H,externalSlotProps:Q,additionalProps:h,getSlotProps:e=>j(I({},e,{onClick:t=>{k&&k(t),null!=e&&e.onClick&&e.onClick(t)}})),className:Bq(null==Q?void 0:Q.className,null==h?void 0:h.className,null==q?void 0:q.backdrop),ownerState:z});return C||A||V&&!B?(0,LL.jsx)(FQ,{ref:F,container:m,disablePortal:S,children:(0,LL.jsxs)(G,I({},Y,{children:[!T&&l?(0,LL.jsx)(H,I({},X)):null,(0,LL.jsx)(LQ,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:E,isEnabled:U,open:A,children:r.cloneElement(p,W)})]}))}):null})),ZQ=JQ;function eY(e){return OW("MuiPopover",e)}CW("MuiPopover",["root","paper"]);const tY=["onEntering"],nY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],rY=["slotProps"];function iY(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function oY(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function aY(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function sY(e){return"function"===typeof e?e():e}const cY=yW(ZQ,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),uY=yW(rH,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),lY=r.forwardRef((function(e,t){var n,i,o;const a=SW({props:e,name:"MuiPopover"}),{action:s,anchorEl:c,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:h="anchorEl",children:d,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:y,PaperProps:v={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=TQ,transitionDuration:E="auto",TransitionProps:{onEntering:x}={},disableScrollLock:T=!1}=a,C=O(a.TransitionProps,tY),k=O(a,nY),A=null!=(n=null==w?void 0:w.paper)?n:v,P=r.useRef(),R=FW(P,A.ref),D=I({},a,{anchorOrigin:u,anchorReference:h,elevation:m,marginThreshold:g,externalPaperSlotProps:A,transformOrigin:_,TransitionComponent:S,transitionDuration:E,TransitionProps:C}),N=(e=>{const{classes:t}=e;return Wq({root:["root"],paper:["paper"]},eY,t)})(D),M=r.useCallback((()=>{if("anchorPosition"===h)return l;const e=sY(c),t=(e&&1===e.nodeType?e:UK(P.current).body).getBoundingClientRect();return{top:t.top+iY(t,u.vertical),left:t.left+oY(t,u.horizontal)}}),[c,u.horizontal,u.vertical,l,h]),j=r.useCallback((e=>({vertical:iY(e,_.vertical),horizontal:oY(e,_.horizontal)})),[_.horizontal,_.vertical]),L=r.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===h)return{top:null,left:null,transformOrigin:aY(n)};const r=M();let i=r.top-n.vertical,o=r.left-n.horizontal;const a=i+t.height,s=o+t.width,u=sQ(sY(c)),l=u.innerHeight-g,d=u.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&a>l){const e=a-l;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(s>d){const e=s-d;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:aY(n)}}),[c,h,M,j,g]),[F,U]=r.useState(y),B=r.useCallback((()=>{const e=P.current;if(!e)return;const t=L(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,U(!0)}),[L]);r.useEffect((()=>(T&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[c,T,B]);r.useEffect((()=>{y&&B()})),r.useImperativeHandle(s,(()=>y?{updatePosition:()=>{B()}}:null),[y,B]),r.useEffect((()=>{if(!y)return;const e=aQ((()=>{B()})),t=sQ(c);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[c,y,B]);let V=E;"auto"!==E||S.muiSupportAuto||(V=void 0);const z=p||(c?UK(sY(c)).body:void 0),q=null!=(i=null==b?void 0:b.root)?i:cY,W=null!=(o=null==b?void 0:b.paper)?o:uY,G=WK({elementType:W,externalSlotProps:I({},A,{style:F?A.style:I({},A.style,{opacity:0})}),additionalProps:{elevation:m,ref:R},ownerState:D,className:Bq(N.paper,null==A?void 0:A.className)}),H=WK({elementType:q,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:k,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:z,open:y},ownerState:D,className:Bq(N.root,f)}),{slotProps:K}=H,Q=O(H,rY);return(0,LL.jsx)(q,I({},Q,!SH(q)&&{slotProps:K,disableScrollLock:T},{children:(0,LL.jsx)(S,I({appear:!0,in:y,onEntering:(e,t)=>{x&&x(e,t),B()},onExited:()=>{U(!1)},timeout:V},C,{children:(0,LL.jsx)(W,I({},G,{children:d}))}))}))})),hY=lY;function dY(e){return OW("MuiMenu",e)}CW("MuiMenu",["root","paper","list"]);const fY=["onEntering"],pY=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],mY={vertical:"top",horizontal:"right"},gY={vertical:"top",horizontal:"left"},yY=yW(hY,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vY=yW(uY,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bY=yW(oQ,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),wY=r.forwardRef((function(e,t){var n,i;const o=SW({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:c,disableAutoFocusItem:u=!1,MenuListProps:l={},onClose:h,open:d,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:y="selectedMenu",slots:v={},slotProps:b={}}=o,w=O(o.TransitionProps,fY),_=O(o,pY),S=yQ(),E="rtl"===S.direction,x=I({},o,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:l,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:y}),T=(e=>{const{classes:t}=e;return Wq({root:["root"],paper:["paper"],list:["list"]},dY,t)})(x),C=a&&!u&&d,k=r.useRef(null);let A=-1;r.Children.map(s,((e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===A)&&(A=t))}));const P=null!=(n=v.paper)?n:vY,R=null!=(i=b.paper)?i:f,D=WK({elementType:v.root,externalSlotProps:b.root,ownerState:x,className:[T.root,c]}),N=WK({elementType:P,externalSlotProps:R,ownerState:x,className:T.paper});return(0,LL.jsx)(yY,I({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?mY:gY,slots:{paper:P,root:v.root},slotProps:{root:D,paper:N},open:d,ref:t,transitionDuration:m,TransitionProps:I({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,S),g&&g(e,t)}},w),ownerState:x},_,{classes:p,children:(0,LL.jsx)(bY,I({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:k,autoFocus:a&&(-1===A||u),autoFocusItem:C,variant:y},l,{className:Bq(T.list,l.className),children:s}))}))})),_Y=wY;function SY(e){return OW("MuiNativeSelect",e)}const EY=CW("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xY=["className","disabled","error","IconComponent","inputRef","variant"],TY=e=>{let{ownerState:t,theme:n}=e;return I({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":I({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(EY.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},IY=yW("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:mW,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(EY.multiple)]:t.multiple}]}})(TY),OY=e=>{let{ownerState:t,theme:n}=e;return I({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(EY.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},CY=yW("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(EW(n.variant))],n.open&&t.iconOpen]}})(OY),kY=r.forwardRef((function(e,t){const{className:n,disabled:i,error:o,IconComponent:a,inputRef:s,variant:c="standard"}=e,u=O(e,xY),l=I({},e,{disabled:i,variant:c,error:o}),h=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return Wq({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat(EW(n)),o&&"iconOpen",r&&"disabled"]},SY,t)})(l);return(0,LL.jsxs)(r.Fragment,{children:[(0,LL.jsx)(IY,I({ownerState:l,className:Bq(h.select,n),disabled:i,ref:s||t},u)),e.multiple?null:(0,LL.jsx)(CY,{as:a,ownerState:l,className:h.icon})]})})),AY=kY;const PY=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:a}=r.useRef(void 0!==t),[s,c]=r.useState(n);return[a?t:s,r.useCallback((e=>{a||c(e)}),[])]};function RY(e){return OW("MuiSelect",e)}const DY=CW("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var NY;const MY=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],jY=yW("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(DY.select)]:t.select},{["&.".concat(DY.select)]:t[n.variant]},{["&.".concat(DY.error)]:t.error},{["&.".concat(DY.multiple)]:t.multiple}]}})(TY,{["&.".concat(DY.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),LY=yW("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(EW(n.variant))],n.open&&t.iconOpen]}})(OY),FY=yW("input",{shouldForwardProp:e=>gW(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function UY(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function BY(e){return null==e||"string"===typeof e&&!e.trim()}const VY=r.forwardRef((function(e,t){var n;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:c,className:u,defaultOpen:l,defaultValue:h,disabled:d,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:y,MenuProps:v={},multiple:b,name:w,onBlur:_,onChange:S,onClose:E,onFocus:x,onOpen:T,open:C,readOnly:k,renderValue:A,SelectDisplayProps:P={},tabIndex:R,value:D,variant:N="standard"}=e,M=O(e,MY),[j,L]=PY({controlled:D,default:h,name:"Select"}),[F,U]=PY({controlled:C,default:l,name:"Select"}),B=r.useRef(null),V=r.useRef(null),[z,q]=r.useState(null),{current:W}=r.useRef(null!=C),[G,H]=r.useState(),K=FW(t,g),Q=r.useCallback((e=>{V.current=e,e&&q(e)}),[]),Y=null==z?void 0:z.parentNode;r.useImperativeHandle(K,(()=>({focus:()=>{V.current.focus()},node:B.current,value:j})),[j]),r.useEffect((()=>{l&&F&&z&&!W&&(H(s?null:Y.clientWidth),V.current.focus())}),[z,s]),r.useEffect((()=>{a&&V.current.focus()}),[a]),r.useEffect((()=>{if(!y)return;const e=UK(V.current).getElementById(y);if(e){const t=()=>{getSelection().isCollapsed&&V.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[y]);const X=(e,t)=>{e?T&&T(t):E&&E(t),W||(H(s?null:Y.clientWidth),U(e))},$=r.Children.toArray(c),J=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(j)?j.slice():[];const t=j.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(L(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||X(!1,t)}},Z=null!==z&&F;let ee,te;delete M["aria-invalid"];const ne=[];let re=!1,ie=!1;(PH({value:j})||f)&&(A?ee=A(j):re=!0);const oe=$.map((e=>{if(!r.isValidElement(e))return null;let t;if(b){if(!Array.isArray(j))throw new Error(LM(2));t=j.some((t=>UY(t,e.props.value))),t&&re&&ne.push(e.props.children)}else t=UY(j,e.props.value),t&&re&&(te=e.props.children);return t&&(ie=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:J(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));re&&(ee=b?0===ne.length?null:ne.reduce(((e,t,n)=>(e.push(t),n<ne.length-1&&e.push(", "),e)),[]):te);let ae,se=G;!s&&W&&z&&(se=Y.clientWidth),ae="undefined"!==typeof R?R:d?null:0;const ce=P.id||(w?"mui-component-select-".concat(w):void 0),ue=I({},e,{variant:N,value:j,open:Z,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return Wq({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat(EW(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},RY,t)})(ue),he=I({},v.PaperProps,null==(n=v.slotProps)?void 0:n.paper),de=fH(),fe=fH();return(0,LL.jsxs)(r.Fragment,{children:[(0,LL.jsx)(jY,I({ref:Q,tabIndex:ae,role:"combobox","aria-controls":de,"aria-disabled":d?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,ce].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!k){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:d||k?null:e=>{0===e.button&&(e.preventDefault(),V.current.focus(),X(!0,e))},onBlur:e=>{!Z&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:w}}),_(e))},onFocus:x},P,{ownerState:ue,className:Bq(P.className,le.select,u),id:ce,children:BY(ee)?NY||(NY=(0,LL.jsx)("span",{className:"notranslate",children:"\u200b"})):ee})),(0,LL.jsx)(FY,I({"aria-invalid":p,value:Array.isArray(j)?j.join(","):j,name:null!=w?w:fe,ref:B,"aria-hidden":!0,onChange:e=>{const t=$.find((t=>t.props.value===e.target.value));void 0!==t&&(L(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:d,className:le.nativeInput,autoFocus:a,ownerState:ue},M)),(0,LL.jsx)(LY,{as:m,className:le.icon,ownerState:ue}),(0,LL.jsx)(_Y,I({id:"menu-".concat(w||""),anchorEl:Y,open:Z,onClose:e=>{X(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:I({"aria-labelledby":y,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:de},v.MenuListProps),slotProps:I({},v.slotProps,{paper:I({},he,{style:I({minWidth:se},null!=he?he.style:null)})}),children:oe}))]})})),zY=VY;function qY(e){return OW("MuiSvgIcon",e)}CW("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const WY=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],GY=yW("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(EW(n.color))],t["fontSize".concat(EW(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,a,s,c,u,l,h,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(c=t.typography)||null==(u=c.pxToRem)?void 0:u.call(c,24))||"1.5rem",large:(null==(l=t.typography)||null==(h=l.pxToRem)?void 0:h.call(l,35))||"2.1875rem"}[n.fontSize],color:null!=(d=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?d:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),HY=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:l=!1,titleAccess:h,viewBox:d="0 0 24 24"}=n,f=O(n,WY),p=r.isValidElement(i)&&"svg"===i.type,m=I({},n,{color:a,component:s,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:l,viewBox:d,hasSvgAsChild:p}),g={};l||(g.viewBox=d);const y=(e=>{const{color:t,fontSize:n,classes:r}=e;return Wq({root:["root","inherit"!==t&&"color".concat(EW(t)),"fontSize".concat(EW(n))]},qY,r)})(m);return(0,LL.jsxs)(GY,I({as:s,className:Bq(y.root,o),focusable:"false",color:u,"aria-hidden":!h||void 0,role:h?"img":void 0,ref:t},g,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,h?(0,LL.jsx)("title",{children:h}):null]}))}));HY.muiName="SvgIcon";const KY=HY;function QY(e,t){function n(n,r){return(0,LL.jsx)(KY,I({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=KY.muiName,r.memo(r.forwardRef(n))}const YY=QY((0,LL.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),XY=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],$Y=["root"],JY={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>mW(e)&&"variant"!==e,slot:"Root"},ZY=yW(QH,JY)(""),eX=yW(fK,JY)(""),tX=yW(tK,JY)(""),nX=r.forwardRef((function(e,t){const n=SW({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:l=YY,id:h,input:d,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:y=!1,native:v=!1,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:E,variant:x="outlined"}=n,T=O(n,XY),C=v?AY:zY,k=EH({props:n,muiFormControl:TH(),states:["variant","error"]}),A=k.variant||x,P=I({},n,{variant:A,classes:a}),R=(e=>{const{classes:t}=e;return t})(P),D=O(R,$Y),N=d||{standard:(0,LL.jsx)(ZY,{ownerState:P}),outlined:(0,LL.jsx)(eX,{label:p,ownerState:P}),filled:(0,LL.jsx)(tX,{ownerState:P})}[A],M=FW(t,N.ref);return(0,LL.jsx)(r.Fragment,{children:r.cloneElement(N,I({inputComponent:C,inputProps:I({children:o,error:k.error,IconComponent:l,variant:A,type:void 0,multiple:y},v?{id:h}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:I({id:h},E)},f,{classes:f?BM(D,f.classes):D},d?d.props.inputProps:{})},y&&v&&"outlined"===A?{notched:!0}:{},{ref:M,className:Bq(N.props.className,s,R.root)},!d&&{variant:A},T))})}));nX.muiName="Select";const rX=nX;function iX(e){return OW("MuiTextField",e)}CW("MuiTextField",["root"]);const oX=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],aX={standard:QH,filled:tK,outlined:fK},sX=yW(PK,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cX=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:c,disabled:u=!1,error:l=!1,FormHelperTextProps:h,fullWidth:d=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:y,inputRef:v,label:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:x,onChange:T,onFocus:C,placeholder:k,required:A=!1,rows:P,select:R=!1,SelectProps:D,type:N,value:M,variant:j="outlined"}=n,L=O(n,oX),F=I({},n,{autoFocus:i,color:s,disabled:u,error:l,fullWidth:d,multiline:S,required:A,select:R,variant:j}),U=(e=>{const{classes:t}=e;return Wq({root:["root"]},iX,t)})(F);const B={};"outlined"===j&&(m&&"undefined"!==typeof m.shrink&&(B.notched=m.shrink),B.label=b),R&&(D&&D.native||(B.id=void 0),B["aria-describedby"]=void 0);const V=fH(p),z=f&&V?"".concat(V,"-helper-text"):void 0,q=b&&V?"".concat(V,"-label"):void 0,W=aX[j],G=(0,LL.jsx)(W,I({"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:d,multiline:S,name:E,rows:P,maxRows:w,minRows:_,type:N,value:M,id:V,inputRef:v,onBlur:x,onChange:T,onFocus:C,placeholder:k,inputProps:g},B,y));return(0,LL.jsxs)(sX,I({className:Bq(U.root,a),disabled:u,error:l,fullWidth:d,ref:t,required:A,color:s,variant:j,ownerState:F},L,{children:[null!=b&&""!==b&&(0,LL.jsx)(TK,I({htmlFor:V,id:q},m,{children:b})),R?(0,LL.jsx)(rX,I({"aria-describedby":z,id:V,labelId:q,value:M,input:G},D,{children:o})):G,f&&(0,LL.jsx)(FK,I({id:z},h,{children:f}))]}))})),uX=cX,lX=e=>{let{name:t,label:n,...r}=e;return(0,LL.jsx)(uX,{sx:{mb:2},...r,placeholder:n,label:n,name:t,variant:"outlined",fullWidth:!0})},hX=ie((e=>({error:e.users.error,auth:e.firebase.auth})),(e=>({signinUser:t=>e((e=>(t,n,r)=>{let{getFirebase:i}=r;i().auth().signInWithEmailAndPassword(e.email,e.password).then((()=>{t({type:"SIGNINUSER_SUCCESS"})})).catch((e=>{t({type:"SIGNINUSER_ERROR",err:e})}))})(t))})))((e=>{let{signinUser:t,error:n,auth:r}=e;const i=gM();return r.uid?(0,LL.jsx)(CM,{to:"/board"}):(0,LL.jsxs)(lH,{children:[(0,LL.jsx)(MW,{variant:"h4",m:2,children:"Sign In"}),(0,LL.jsx)(kq,{initialValues:{email:"",password:""},onSubmit:e=>{t(e)},children:e=>{let{values:t,handleChange:r,handleSubmit:o}=e;return(0,LL.jsxs)("form",{onSubmit:o,children:[(0,LL.jsx)(lX,{onChange:r,value:t.email,label:"Email",name:"email",type:"email",autoFocus:!0,required:!0}),(0,LL.jsx)(lX,{onChange:r,value:t.password,label:"Password",name:"password",type:"password",required:!0}),(0,LL.jsx)(WG,{sx:{mb:1},type:"submit",variant:"contained",fullWidth:!0,children:"Sign In"}),(0,LL.jsx)("br",{}),(0,LL.jsx)(WG,{onClick:()=>i("/signup"),fullWidth:!0,children:"Sign Up"}),n&&(0,LL.jsx)("p",{children:n})]})}})]})}));const dX=r.createContext();function fX(e){return OW("MuiGrid",e)}const pX=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],mX=CW("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...pX.map((e=>"grid-xs-".concat(e))),...pX.map((e=>"grid-sm-".concat(e))),...pX.map((e=>"grid-md-".concat(e))),...pX.map((e=>"grid-lg-".concat(e))),...pX.map((e=>"grid-xl-".concat(e)))]),gX=mX,yX=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function vX(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function bX(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const wX=yW("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:c,breakpoints:u}=n;let l=[];r&&(l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(a,u,t));const h=[];return u.forEach((e=>{const r=n[e];r&&h.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth,...l,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==s&&t["wrap-xs-".concat(String(s))],...h]}})((e=>{let{ownerState:t}=e;return I({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;return HM({theme:t},YM({values:n.direction,breakpoints:t.breakpoints.values}),(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(gX.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=YM({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=bX({breakpoints:t.breakpoints.values,values:e})),o=HM({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(vX(o)),["& > .".concat(gX.item)]:{paddingTop:vX(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(gX.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=YM({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=bX({breakpoints:t.breakpoints.values,values:e})),o=HM({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(vX(o),")"),marginLeft:"-".concat(vX(o)),["& > .".concat(gX.item)]:{paddingLeft:vX(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(gX.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=YM({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[i]:a;if(void 0===s||null===s)return e;const c="".concat(Math.round(t/s*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(vX(e),")");u={flexBasis:t,maxWidth:t}}}o=I({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const _X=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:c}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,c));const l=[];c.forEach((t=>{const n=e[t];n&&l.push("grid-".concat(t,"-").concat(String(n)))}));return Wq({root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...u,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==a&&"wrap-xs-".concat(String(a)),...l]},fX,t)},SX=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiGrid"}),{breakpoints:i}=yQ(),o=qq(n),{className:a,columns:s,columnSpacing:c,component:u="div",container:l=!1,direction:h="row",item:d=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,y=O(o,yX),v=f||p,b=c||p,w=r.useContext(dX),_=l?s||12:w,S={},E=I({},y);i.keys.forEach((e=>{null!=y[e]&&(S[e]=y[e],delete E[e])}));const x=I({},o,{columns:_,container:l,direction:h,item:d,rowSpacing:v,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:p},S,{breakpoints:i.keys}),T=_X(x);return(0,LL.jsx)(dX.Provider,{value:_,children:(0,LL.jsx)(wX,I({ownerState:x,className:Bq(T.root,a),as:u,ref:t},E))})}));const EX=SX,xX=ie((e=>({error:e.users.error,auth:e.firebase.auth})),(e=>({signupUser:t=>e((e=>(t,n,r)=>{let{getFirebase:i,getFirestore:o}=r;const a=i(),s=o();a.auth().createUserWithEmailAndPassword(e.email,e.password).then((t=>s.collection("users").doc(t.user.uid).set({email:e.email,firstname:e.firstname,lastname:e.lastname,tags:[e.firstname+" "+e.lastname]}))).then((()=>{t({type:"SIGNUPUSER_SUCCESS"})})).catch((e=>{t({type:"SIGNUPUSER_ERROR",err:e})}))})(t))})))((e=>{let{signupUser:t,error:n,auth:i}=e;const o=gM(),[a,s]=(0,r.useState)(!1);return i.uid?(0,LL.jsx)(CM,{to:"/board"}):(0,LL.jsxs)(lH,{children:[(0,LL.jsx)(MW,{variant:"h4",m:2,children:"Sign Up"}),(0,LL.jsx)(kq,{initialValues:{firstname:"",lastname:"",email:"",password:"",confirm:""},onSubmit:e=>{e.password===e.confirm?t({firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password}):s(!0)},children:e=>{let{values:t,handleChange:r,handleSubmit:i}=e;return(0,LL.jsxs)("form",{onSubmit:i,children:[(0,LL.jsxs)(EX,{container:!0,columnSpacing:2,children:[(0,LL.jsx)(EX,{item:!0,xs:12,sm:6,children:(0,LL.jsx)(lX,{onChange:r,value:t.name,label:"First Name",name:"firstname",type:"text",autoFocus:!0,required:!0})}),(0,LL.jsx)(EX,{item:!0,xs:12,sm:6,children:(0,LL.jsx)(lX,{onChange:r,value:t.name,label:"Last Name",name:"lastname",type:"text",required:!0})}),(0,LL.jsx)(EX,{item:!0,xs:12,children:(0,LL.jsx)(lX,{onChange:r,value:t.email,label:"Email",name:"email",type:"email",required:!0})}),(0,LL.jsx)(EX,{item:!0,xs:12,sm:6,children:(0,LL.jsx)(lX,{onChange:r,value:t.password,label:"Password",name:"password",type:"password",required:!0})}),(0,LL.jsx)(EX,{item:!0,xs:12,sm:6,children:(0,LL.jsx)(lX,{onChange:r,value:t.confirm,label:"Password",name:"confirm",type:"password",required:!0})})]}),(0,LL.jsx)(WG,{sx:{mb:1},type:"submit",variant:"contained",fullWidth:!0,children:"Sign Up"}),(0,LL.jsx)("br",{}),(0,LL.jsx)(WG,{onClick:()=>o("/signin"),fullWidth:!0,children:"Sign In"}),n&&(0,LL.jsx)("p",{children:n}),a&&(0,LL.jsx)("p",{children:"Passowrds are not identical"})]})}})]})})),TX=["className","component"];const IX=CW("MuiBox",["root"]),OX=RL(),CX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,a=eW("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Hj),s=r.forwardRef((function(e,r){const s=wW(n),c=qq(e),{className:u,component:l="div"}=c,h=O(c,TX);return(0,LL.jsx)(a,I({as:l,ref:r,className:Bq(u,o?o(i):i),theme:t&&s[t]||s},h))}));return s}({themeId:lU,defaultTheme:OX,defaultClassName:IX.root,generateClassName:TW.generate}),kX=CX;function AX(e){return OW("MuiIconButton",e)}const PX=CW("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),RX=["edge","children","className","color","disabled","disableFocusRipple","size"],DX=yW(DG,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(EW(n.color))],n.edge&&t["edge".concat(EW(n.edge))],t["size".concat(EW(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return I({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):eL(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return I({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&I({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":I({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):eL(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(PX.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),NX=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:c=!1,size:u="medium"}=n,l=O(n,RX),h=I({},n,{edge:r,color:a,disabled:s,disableFocusRipple:c,size:u}),d=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e;return Wq({root:["root",n&&"disabled","default"!==r&&"color".concat(EW(r)),i&&"edge".concat(EW(i)),"size".concat(EW(o))]},AX,t)})(h);return(0,LL.jsx)(DX,I({className:Bq(d.root,o),centerRipple:!0,focusRipple:!c,disabled:s,ref:t,ownerState:h},l,{children:i}))})),MX=NX,jX=QY((0,LL.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");function LX(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function FX(e){LX(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function UX(e){if(LX(1,arguments),!function(e){return LX(1,arguments),e instanceof Date||"object"===s(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=FX(e);return!isNaN(Number(t))}function BX(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function VX(e,t){return LX(2,arguments),function(e,t){LX(2,arguments);var n=FX(e).getTime(),r=BX(t);return new Date(n+r)}(e,-BX(t))}function zX(e){LX(1,arguments);var t=FX(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function qX(e){LX(1,arguments);var t=FX(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=zX(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=zX(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function WX(e){LX(1,arguments);var t=FX(e),n=zX(t).getTime()-function(e){LX(1,arguments);var t=qX(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),zX(n)}(t).getTime();return Math.round(n/6048e5)+1}var GX={};function HX(){return GX}function KX(e,t){var n,r,i,o,a,s,c,u;LX(1,arguments);var l=HX(),h=BX(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(c=l.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=FX(e),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function QX(e,t){var n,r,i,o,a,s,c,u;LX(1,arguments);var l=FX(e),h=l.getUTCFullYear(),d=HX(),f=BX(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(c=d.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=KX(p,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var y=KX(g,t);return l.getTime()>=m.getTime()?h+1:l.getTime()>=y.getTime()?h:h-1}function YX(e,t){LX(1,arguments);var n=FX(e),r=KX(n,t).getTime()-function(e,t){var n,r,i,o,a,s,c,u;LX(1,arguments);var l=HX(),h=BX(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(c=l.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),d=QX(e,t),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),KX(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function XX(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var $X={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return XX("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):XX(n+1,2)},d:function(e,t){return XX(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return XX(e.getUTCHours()%12||12,t.length)},H:function(e,t){return XX(e.getUTCHours(),t.length)},m:function(e,t){return XX(e.getUTCMinutes(),t.length)},s:function(e,t){return XX(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return XX(Math.floor(r*Math.pow(10,n-3)),t.length)}};const JX=$X;var ZX="midnight",e$="noon",t$="morning",n$="afternoon",r$="evening",i$="night",o$={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return JX.y(e,t)},Y:function(e,t,n,r){var i=QX(e,r),o=i>0?i:1-i;return"YY"===t?XX(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):XX(o,t.length)},R:function(e,t){return XX(qX(e),t.length)},u:function(e,t){return XX(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return XX(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return XX(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return JX.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return XX(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=YX(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):XX(i,t.length)},I:function(e,t,n){var r=WX(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):XX(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):JX.d(e,t)},D:function(e,t,n){var r=function(e){LX(1,arguments);var t=FX(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):XX(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return XX(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return XX(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return XX(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?e$:0===i?ZX:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?r$:i>=12?n$:i>=4?t$:i$,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return JX.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):JX.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):XX(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):XX(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):JX.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):JX.s(e,t)},S:function(e,t){return JX.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return s$(i);case"XXXX":case"XX":return c$(i);default:return c$(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return s$(i);case"xxxx":case"xx":return c$(i);default:return c$(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+a$(i,":");default:return"GMT"+c$(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+a$(i,":");default:return"GMT"+c$(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return XX(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return XX((r._originalDate||e).getTime(),t.length)}};function a$(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+XX(o,2)}function s$(e,t){return e%60===0?(e>0?"-":"+")+XX(Math.abs(e)/60,2):c$(e,t)}function c$(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+XX(Math.floor(i/60),2)+n+XX(i%60,2)}const u$=o$;var l$=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},h$=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},d$={p:h$,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return l$(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",l$(i,t)).replace("{{time}}",h$(o,t))}};const f$=d$;var p$=["D","DD"],m$=["YY","YYYY"];function g$(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var y$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const v$=function(e,t,n){var r,i=y$[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function b$(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const w$={date:b$({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:b$({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:b$({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var _$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const S$=function(e,t,n,r){return _$[e]};function E$(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const x$={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:E$({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:E$({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:E$({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:E$({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:E$({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function T$(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(c,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(c,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(u):u,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var I$,O$={ordinalNumber:(I$={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(I$.matchPattern);if(!n)return null;var r=n[0],i=e.match(I$.parsePattern);if(!i)return null;var o=I$.valueCallback?I$.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:T$({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:T$({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:T$({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:T$({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:T$({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const C$={code:"en-US",formatDistance:v$,formatLong:w$,formatRelative:S$,localize:x$,match:O$,options:{weekStartsOn:0,firstWeekContainsDate:1}};var k$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P$=/^'([^]*?)'?$/,R$=/''/g,D$=/[a-zA-Z]/;function N$(e,t,n){var r,i,o,a,s,c,u,l,h,d,f,p,m,g,y,v,b,w;LX(2,arguments);var _=String(t),S=HX(),E=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:C$,x=BX(null!==(o=null!==(a=null!==(s=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:S.firstWeekContainsDate)&&void 0!==a?a:null===(h=S.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=BX(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==p?p:null===(b=S.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var I=FX(e);if(!UX(I))throw new RangeError("Invalid time value");var O=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(I),C=VX(I,O),k={firstWeekContainsDate:x,weekStartsOn:T,locale:E,_originalDate:I},A=_.match(A$).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,f$[t])(e,E.formatLong):e})).join("").match(k$).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(P$);if(!t)return e;return t[1].replace(R$,"'")}(r);var o=u$[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return-1!==m$.indexOf(e)}(r)||g$(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==p$.indexOf(e)}(r)||g$(r,t,String(e)),o(C,r,E.localize,k);if(i.match(D$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("");return A}function M$(e){return OW("MuiAppBar",e)}CW("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const j$=["className","color","enableColorOnDark","position"],L$=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,F$=yW(rH,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(EW(n.position))],t["color".concat(EW(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return I({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&I({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&I({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&I({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:L$(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:L$(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:L$(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:L$(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),U$=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=n,s=O(n,j$),c=I({},n,{color:i,position:a,enableColorOnDark:o}),u=(e=>{const{color:t,position:n,classes:r}=e;return Wq({root:["root","color".concat(EW(t)),"position".concat(EW(n))]},M$,r)})(c);return(0,LL.jsx)(F$,I({square:!0,component:"header",ownerState:c,elevation:4,className:Bq(u.root,r,"fixed"===a&&"mui-fixed"),ref:t},s))})),B$=U$;function V$(e){return OW("MuiDivider",e)}const z$=CW("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),q$=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],W$=yW("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return I({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):eL(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return I({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return I({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{theme:t,ownerState:n}=e;return I({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{ownerState:t}=e;return I({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),G$=yW("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return I({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),H$=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,component:a=(i?"div":"hr"),flexItem:s=!1,light:c=!1,orientation:u="horizontal",role:l=("hr"!==a?"separator":void 0),textAlign:h="center",variant:d="fullWidth"}=n,f=O(n,q$),p=I({},n,{absolute:r,component:a,flexItem:s,light:c,orientation:u,role:l,textAlign:h,variant:d}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:c}=e;return Wq({root:["root",t&&"absolute",c,o&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},V$,r)})(p);return(0,LL.jsx)(W$,I({as:a,className:Bq(m.root,o),role:l,ref:t,ownerState:p},f,{children:i?(0,LL.jsx)(G$,{className:m.wrapper,ownerState:p,children:i}):null}))}));H$.muiSkipListHighlight=!0;const K$=H$;function Q$(e){return OW("MuiToolbar",e)}CW("MuiToolbar",["root","gutters","regular","dense"]);const Y$=["className","component","disableGutters","variant"],X$=yW("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return I({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),$$=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:a="regular"}=n,s=O(n,Y$),c=I({},n,{component:i,disableGutters:o,variant:a}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return Wq({root:["root",!n&&"gutters",r]},Q$,t)})(c);return(0,LL.jsx)(X$,I({as:i,className:Bq(u.root,r),ref:t,ownerState:c},s))})),J$=$$,Z$=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function eJ(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=sQ(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const e=o.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,c=0;if(a&&"none"!==a&&"string"===typeof a){const e=a.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),c=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+s-r.left:o.innerWidth+s-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-s:r.left+r.width-s,"px)"):"up"===e?"translateY(".concat(i?i.bottom+c-r.top:o.innerHeight+c-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-c:r.top+r.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const tJ=r.forwardRef((function(e,t){const n=yQ(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:c,container:u,direction:l="down",easing:h=i,in:d,onEnter:f,onEntered:p,onEntering:m,onExit:g,onExited:y,onExiting:v,style:b,timeout:w=o,TransitionComponent:_=gQ}=e,S=O(e,Z$),E=r.useRef(null),x=FW(c.ref,E,t),T=e=>t=>{e&&(void 0===t?e(E.current):e(E.current,t))},C=T(((e,t)=>{eJ(l,e,u),vQ(e),f&&f(e,t)})),k=T(((e,t)=>{const r=bQ({timeout:w,style:b,easing:h},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",I({},r)),e.style.transition=n.transitions.create("transform",I({},r)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),A=T(p),P=T(v),R=T((e=>{const t=bQ({timeout:w,style:b,easing:h},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),eJ(l,e,u),g&&g(e)})),D=T((e=>{e.style.webkitTransition="",e.style.transition="",y&&y(e)})),N=r.useCallback((()=>{E.current&&eJ(l,E.current,u)}),[l,u]);return r.useEffect((()=>{if(d||"down"===l||"right"===l)return;const e=aQ((()=>{E.current&&eJ(l,E.current,u)})),t=sQ(E.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,d,u]),r.useEffect((()=>{d||N()}),[d,N]),(0,LL.jsx)(_,I({nodeRef:E,onEnter:C,onEntered:A,onEntering:k,onExit:R,onExited:D,onExiting:P,addEndListener:e=>{a&&a(E.current,e)},appear:s,in:d,timeout:w},S,{children:(e,t)=>r.cloneElement(c,I({ref:x,style:I({visibility:"exited"!==e||d?void 0:"hidden"},b,c.props.style)},t))}))})),nJ=tJ;function rJ(e){return OW("MuiDrawer",e)}CW("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const iJ=["BackdropProps"],oJ=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],aJ=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},sJ=yW(ZQ,{name:"MuiDrawer",slot:"Root",overridesResolver:aJ})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),cJ=yW("div",{shouldForwardProp:mW,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:aJ})({flex:"0 0 auto"}),uJ=yW(rH,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(EW(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(EW(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return I({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),lJ={left:"right",right:"left",top:"down",bottom:"up"};const hJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiDrawer"}),i=yQ(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:s,children:c,className:u,elevation:l=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:d}={},onClose:f,open:p=!1,PaperProps:m={},SlideProps:g,TransitionComponent:y=nJ,transitionDuration:v=o,variant:b="temporary"}=n,w=O(n.ModalProps,iJ),_=O(n,oJ),S=r.useRef(!1);r.useEffect((()=>{S.current=!0}),[]);const E=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?lJ[t]:t}(i,a),x=I({},n,{anchor:a,elevation:l,open:p,variant:b},_),T=(e=>{const{classes:t,anchor:n,variant:r}=e;return Wq({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(EW(n)),"temporary"!==r&&"paperAnchorDocked".concat(EW(n))]},rJ,t)})(x),C=(0,LL.jsx)(uJ,I({elevation:"temporary"===b?l:0,square:!0},m,{className:Bq(T.paper,m.className),ownerState:x,children:c}));if("permanent"===b)return(0,LL.jsx)(cJ,I({className:Bq(T.root,T.docked,u),ownerState:x,ref:t},_,{children:C}));const k=(0,LL.jsx)(y,I({in:p,direction:lJ[E],timeout:v,appear:S.current},g,{children:C}));return"persistent"===b?(0,LL.jsx)(cJ,I({className:Bq(T.root,T.docked,u),ownerState:x,ref:t},_,{children:k})):(0,LL.jsx)(sJ,I({BackdropProps:I({},s,d,{transitionDuration:v}),className:Bq(T.root,T.modal,u),open:p,ownerState:x,onClose:f,hideBackdrop:h,ref:t},_,w,{children:k}))})),dJ=hJ;function fJ(e){return OW("MuiListItem",e)}const pJ=CW("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const mJ=CW("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function gJ(e){return OW("MuiListItemSecondaryAction",e)}CW("MuiListItemSecondaryAction",["root","disableGutters"]);const yJ=["className"],vJ=yW("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return I({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),bJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,o=O(n,yJ),a=I({},n,{disableGutters:r.useContext(GK).disableGutters}),s=(e=>{const{disableGutters:t,classes:n}=e;return Wq({root:["root",t&&"disableGutters"]},gJ,n)})(a);return(0,LL.jsx)(vJ,I({className:Bq(s.root,i),ownerState:a,ref:t},o))}));bJ.muiName="ListItemSecondaryAction";const wJ=bJ,_J=["className"],SJ=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],EJ=yW("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return I({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&I({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(mJ.root)]:{paddingRight:48}},{["&.".concat(pJ.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(pJ.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):eL(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pJ.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):eL(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(pJ.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(pJ.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):eL(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):eL(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),xJ=yW("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),TJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:a=!1,children:s,className:c,component:u,components:l={},componentsProps:h={},ContainerComponent:d="li",ContainerProps:{className:f}={},dense:p=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:y=!1,divider:v=!1,focusVisibleClassName:b,secondaryAction:w,selected:_=!1,slotProps:S={},slots:E={}}=n,x=O(n.ContainerProps,_J),T=O(n,SJ),C=r.useContext(GK),k=r.useMemo((()=>({dense:p||C.dense||!1,alignItems:i,disableGutters:g})),[i,C.dense,p,g]),A=r.useRef(null);IH((()=>{o&&A.current&&A.current.focus()}),[o]);const P=r.Children.toArray(s),R=P.length&&IK(P[P.length-1],["ListItemSecondaryAction"]),D=I({},n,{alignItems:i,autoFocus:o,button:a,dense:k.dense,disabled:m,disableGutters:g,disablePadding:y,divider:v,hasSecondaryAction:R,selected:_}),N=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:a,disablePadding:s,divider:c,hasSecondaryAction:u,selected:l}=e;return Wq({root:["root",i&&"dense",!a&&"gutters",!s&&"padding",c&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",l&&"selected"],container:["container"]},fJ,r)})(D),M=FW(A,t),j=E.root||l.Root||EJ,L=S.root||h.root||{},F=I({className:Bq(N.root,L.className,c),disabled:m},T);let U=u||"li";return a&&(F.component=u||"div",F.focusVisibleClassName=Bq(pJ.focusVisible,b),U=DG),R?(U=F.component||u?U:"div","li"===d&&("li"===U?U="div":"li"===F.component&&(F.component="div")),(0,LL.jsx)(GK.Provider,{value:k,children:(0,LL.jsxs)(xJ,I({as:d,className:Bq(N.container,f),ref:M,ownerState:D},x,{children:[(0,LL.jsx)(j,I({},L,!SH(j)&&{as:U,ownerState:I({},D,L.ownerState)},F,{children:P})),P.pop()]}))})):(0,LL.jsx)(GK.Provider,{value:k,children:(0,LL.jsxs)(j,I({},L,{as:U,ref:M},!SH(j)&&{ownerState:I({},D,L.ownerState)},F,{children:[P,w&&(0,LL.jsx)(wJ,{children:w})]}))})})),IJ=TJ,OJ=QY((0,LL.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function CJ(e){return OW("MuiAvatar",e)}CW("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const kJ=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],AJ=yW("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:n}=e;return I({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&I({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),PJ=yW("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),RJ=yW(OJ,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const DJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:a,component:s="div",imgProps:c,sizes:u,src:l,srcSet:h,variant:d="circular"}=n,f=O(n,kJ);let p=null;const m=function(e){let{crossOrigin:t,referrerPolicy:n,src:i,srcSet:o}=e;const[a,s]=r.useState(!1);return r.useEffect((()=>{if(!i&&!o)return;s(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&s("loaded")},r.onerror=()=>{e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=i,o&&(r.srcset=o),()=>{e=!1}}),[t,n,i,o]),a}(I({},c,{src:l,srcSet:h})),g=l||h,y=g&&"error"!==m,v=I({},n,{colorDefault:!y,component:s,variant:d}),b=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return Wq({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},CJ,t)})(v);return p=y?(0,LL.jsx)(PJ,I({alt:i,srcSet:h,src:l,sizes:u,ownerState:v,className:b.img},c)):null!=o?o:g&&i?i[0]:(0,LL.jsx)(RJ,{ownerState:v,className:b.fallback}),(0,LL.jsx)(AJ,I({as:s,ownerState:v,className:Bq(b.root,a),ref:t},f,{children:p}))})),NJ=DJ;function MJ(e){return OW("MuiListItemAvatar",e)}CW("MuiListItemAvatar",["root","alignItemsFlexStart"]);const jJ=["className"],LJ=yW("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return I({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),FJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiListItemAvatar"}),{className:i}=n,o=O(n,jJ),a=I({},n,{alignItems:r.useContext(GK).alignItems}),s=(e=>{const{alignItems:t,classes:n}=e;return Wq({root:["root","flex-start"===t&&"alignItemsFlexStart"]},MJ,n)})(a);return(0,LL.jsx)(LJ,I({className:Bq(s.root,i),ownerState:a,ref:t},o))})),UJ=FJ;function BJ(e){return OW("MuiListItemText",e)}const VJ=CW("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zJ=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],qJ=yW("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(VJ.primary)]:t.primary},{["& .".concat(VJ.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return I({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),WJ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:c,primaryTypographyProps:u,secondary:l,secondaryTypographyProps:h}=n,d=O(n,zJ),{dense:f}=r.useContext(GK);let p=null!=c?c:i,m=l;const g=I({},n,{disableTypography:a,inset:s,primary:!!p,secondary:!!m,dense:f}),y=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Wq({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},BJ,t)})(g);return null==p||p.type===MW||a||(p=(0,LL.jsx)(MW,I({variant:f?"body2":"body1",className:y.primary,component:null!=u&&u.variant?void 0:"span",display:"block"},u,{children:p}))),null==m||m.type===MW||a||(m=(0,LL.jsx)(MW,I({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},h,{children:m}))),(0,LL.jsxs)(qJ,I({className:Bq(y.root,o),ownerState:g,ref:t},d,{children:[p,m]}))})),GJ=WJ,HJ=QY((0,LL.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard"),KJ=QY((0,LL.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");function QJ(e){return OW("MuiDialog",e)}const YJ=CW("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const XJ=r.createContext({}),$J=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],JJ=yW(KQ,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ZJ=yW(ZQ,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),eZ=yW("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(EW(n.scroll))]]}})((e=>{let{ownerState:t}=e;return I({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),tZ=yW(rH,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(EW(n.scroll))],t["paperWidth".concat(EW(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return I({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(YJ.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(YJ.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(YJ.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),nZ=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiDialog"}),i=yQ(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:c,BackdropProps:u,children:l,className:h,disableEscapeKeyDown:d=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClose:y,open:v,PaperComponent:b=rH,PaperProps:w={},scroll:_="paper",TransitionComponent:S=zQ,transitionDuration:E=o,TransitionProps:x}=n,T=O(n,$J),C=I({},n,{disableEscapeKeyDown:d,fullScreen:f,fullWidth:p,maxWidth:m,scroll:_}),k=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return Wq({root:["root"],container:["container","scroll".concat(EW(n))],paper:["paper","paperScroll".concat(EW(n)),"paperWidth".concat(EW(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]},QJ,t)})(C),A=r.useRef(),P=fH(s),R=r.useMemo((()=>({titleId:P})),[P]);return(0,LL.jsx)(ZJ,I({className:Bq(k.root,h),closeAfterTransition:!0,components:{Backdrop:JJ},componentsProps:{backdrop:I({transitionDuration:E,as:c},u)},disableEscapeKeyDown:d,onClose:y,open:v,ref:t,onClick:e=>{A.current&&(A.current=null,g&&g(e),y&&y(e,"backdropClick"))},ownerState:C},T,{children:(0,LL.jsx)(S,I({appear:!0,in:v,timeout:E,role:"presentation"},x,{children:(0,LL.jsx)(eZ,{className:Bq(k.container),onMouseDown:e=>{A.current=e.target===e.currentTarget},ownerState:C,children:(0,LL.jsx)(tZ,I({as:b,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":P},w,{className:Bq(k.paper,w.className),ownerState:C,children:(0,LL.jsx)(XJ.Provider,{value:R,children:l})}))})}))}))})),rZ=nZ,iZ=QY((0,LL.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle"),oZ=ie(null,(e=>({createDevice:t=>e((e=>(t,n,r)=>{let{getFirestore:i}=r;i().collection("devices").add({...e}).then((()=>{t({type:"CREATEDEVICE_SUCCESS",data:e})})).catch((e=>{t({type:"CREATEDEVICE_ERROR",err:e})}))})(t))})))((e=>{let{createDevice:t}=e;const[n,i]=(0,r.useState)(!1);return(0,LL.jsxs)(kX,{children:[(0,LL.jsxs)(IJ,{sx:{textTransform:"uppercase"},onClick:()=>i(!0),button:!0,children:[(0,LL.jsx)(UJ,{children:(0,LL.jsx)(NJ,{sx:{bgcolor:"primary.main"},children:(0,LL.jsx)(iZ,{})})}),(0,LL.jsx)(GJ,{secondary:"Add Cube"})]}),(0,LL.jsx)(rZ,{open:n,onClose:()=>i(!1),children:(0,LL.jsxs)(kX,{sx:{p:2},children:[(0,LL.jsx)(MW,{sx:{mb:2},variant:"h6",children:"Add New Productivity Cube"}),(0,LL.jsx)(kq,{initialValues:{key:"",name:"",description:""},onSubmit:e=>{t(e),i(!1)},children:e=>{let{values:t,handleChange:n,handleSubmit:r}=e;return(0,LL.jsxs)("form",{onSubmit:r,id:"create",children:[(0,LL.jsx)(lX,{onChange:n,value:t.key,label:"Key",name:"key",type:"text",size:"small",autoFocus:!0,required:!0}),(0,LL.jsx)(lX,{onChange:n,value:t.name,label:"Name",name:"name",type:"text",size:"small",required:!0}),(0,LL.jsx)(lX,{onChange:n,value:t.description,label:"Description",name:"description",type:"text",size:"small",rows:2,multiline:!0})]})}}),(0,LL.jsx)(WG,{sx:{mr:1},type:"submit",variant:"outlined",form:"create",size:"small",children:"Add Cube"}),(0,LL.jsx)(WG,{onClick:()=>i(!1),variant:"outlined",size:"small",children:"Cancel"})]})})]})})),aZ=ie((e=>({auth:e.firebase.auth})),(e=>({signoutUser:()=>e(((e,t,n)=>{let{getFirebase:r}=n;r().auth().signOut().then((()=>{e({type:"SIGNOUTUSER_SUCCESS"})}))}))})))((e=>{let{signoutUser:t,auth:n,...r}=e;const i=gM(),o=pM();return(0,LL.jsxs)(dJ,{...r,children:[(0,LL.jsxs)(XK,{children:[(0,LL.jsx)(IJ,{sx:{mb:12},children:(0,LL.jsx)(MW,{variant:"h5",children:"Productivity Manager"})}),(0,LL.jsxs)(IJ,{sx:{textTransform:"uppercase",borderRadius:"50px"},selected:"/board"===o.pathname,onClick:()=>i("/board"),button:!0,children:[(0,LL.jsx)(UJ,{children:(0,LL.jsx)(NJ,{sx:{bgcolor:"primary.main"},children:(0,LL.jsx)(HJ,{})})}),(0,LL.jsx)(GJ,{secondary:"Productivity Cubes"})]}),(0,LL.jsx)(oZ,{})]}),(0,LL.jsx)(XK,{children:(0,LL.jsxs)(IJ,{sx:{textTransform:"uppercase",whiteSpace:"nowrap",borderRadius:"50px"},onClick:t,button:!0,children:[(0,LL.jsx)(UJ,{children:(0,LL.jsx)(NJ,{sx:{bgcolor:"primary.main"},children:(0,LL.jsx)(KJ,{})})}),(0,LL.jsx)(GJ,{secondary:"Log Out"})]})})]})})),sZ=e=>{let{children:t,navbar:n}=e;const r={xs:200,sm:150,md:200},[i,o]=pU();return(0,LL.jsxs)(kX,{sx:{display:"flex"},children:[(0,LL.jsx)(aZ,{sx:{display:{xs:"block",sm:"none"},width:r,"& .MuiDrawer-paper":{bgcolor:"secondary.dark",justifyContent:"space-between",width:r}},variant:"temporary",open:i,onClose:()=>o(!i)}),(0,LL.jsx)(aZ,{sx:{display:{xs:"none",sm:"block"},width:r,"& .MuiDrawer-paper":{bgcolor:"secondary.dark",justifyContent:"space-between",width:r}},variant:"permanent"}),(0,LL.jsxs)(B$,{sx:{width:{sm:"calc(100% - 150px)",md:"calc(100% - 200px)"},bgcolor:"secondary.light"},color:"inherit",elevation:0,children:[n,(0,LL.jsx)(K$,{})]}),(0,LL.jsxs)(kX,{sx:{flexGrow:1},children:[(0,LL.jsx)(J$,{}),t]})]})};function cZ(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function uZ(e){return e instanceof cZ(e).Element||e instanceof Element}function lZ(e){return e instanceof cZ(e).HTMLElement||e instanceof HTMLElement}function hZ(e){return"undefined"!==typeof ShadowRoot&&(e instanceof cZ(e).ShadowRoot||e instanceof ShadowRoot)}var dZ=Math.max,fZ=Math.min,pZ=Math.round;function mZ(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function gZ(){return!/^((?!chrome|android).)*safari/i.test(mZ())}function yZ(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&lZ(e)&&(i=e.offsetWidth>0&&pZ(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&pZ(r.height)/e.offsetHeight||1);var a=(uZ(e)?cZ(e):window).visualViewport,s=!gZ()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/i,u=(r.top+(s&&a?a.offsetTop:0))/o,l=r.width/i,h=r.height/o;return{width:l,height:h,top:u,right:c+l,bottom:u+h,left:c,x:c,y:u}}function vZ(e){var t=cZ(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bZ(e){return e?(e.nodeName||"").toLowerCase():null}function wZ(e){return((uZ(e)?e.ownerDocument:e.document)||window.document).documentElement}function _Z(e){return yZ(wZ(e)).left+vZ(e).scrollLeft}function SZ(e){return cZ(e).getComputedStyle(e)}function EZ(e){var t=SZ(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xZ(e,t,n){void 0===n&&(n=!1);var r=lZ(t),i=lZ(t)&&function(e){var t=e.getBoundingClientRect(),n=pZ(t.width)/e.offsetWidth||1,r=pZ(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=wZ(t),a=yZ(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==bZ(t)||EZ(o))&&(s=function(e){return e!==cZ(e)&&lZ(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:vZ(e);var t}(t)),lZ(t)?((c=yZ(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=_Z(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function TZ(e){var t=yZ(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function IZ(e){return"html"===bZ(e)?e:e.assignedSlot||e.parentNode||(hZ(e)?e.host:null)||wZ(e)}function OZ(e){return["html","body","#document"].indexOf(bZ(e))>=0?e.ownerDocument.body:lZ(e)&&EZ(e)?e:OZ(IZ(e))}function CZ(e,t){var n;void 0===t&&(t=[]);var r=OZ(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=cZ(r),a=i?[o].concat(o.visualViewport||[],EZ(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(CZ(IZ(a)))}function kZ(e){return["table","td","th"].indexOf(bZ(e))>=0}function AZ(e){return lZ(e)&&"fixed"!==SZ(e).position?e.offsetParent:null}function PZ(e){for(var t=cZ(e),n=AZ(e);n&&kZ(n)&&"static"===SZ(n).position;)n=AZ(n);return n&&("html"===bZ(n)||"body"===bZ(n)&&"static"===SZ(n).position)?t:n||function(e){var t=/firefox/i.test(mZ());if(/Trident/i.test(mZ())&&lZ(e)&&"fixed"===SZ(e).position)return null;var n=IZ(e);for(hZ(n)&&(n=n.host);lZ(n)&&["html","body"].indexOf(bZ(n))<0;){var r=SZ(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var RZ="top",DZ="bottom",NZ="right",MZ="left",jZ="auto",LZ=[RZ,DZ,NZ,MZ],FZ="start",UZ="end",BZ="clippingParents",VZ="viewport",zZ="popper",qZ="reference",WZ=LZ.reduce((function(e,t){return e.concat([t+"-"+FZ,t+"-"+UZ])}),[]),GZ=[].concat(LZ,[jZ]).reduce((function(e,t){return e.concat([t,t+"-"+FZ,t+"-"+UZ])}),[]),HZ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function KZ(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function QZ(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var YZ={placement:"bottom",modifiers:[],strategy:"absolute"};function XZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function $Z(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?YZ:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},YZ,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:uZ(e)?CZ(e):e.contextElement?CZ(e.contextElement):[],popper:CZ(t)};var l=function(e){var t=KZ(e);return HZ.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:c,options:r}),u=function(){};a.push(s||u)}})),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(XZ(t,n)){i.rects={reference:xZ(t,PZ(n),"fixed"===i.options.strategy),popper:TZ(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,l=void 0===u?{}:u,h=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:QZ((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!XZ(e,t))return c;function u(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var JZ={passive:!0};const ZZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=cZ(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,JZ)})),s&&c.addEventListener("resize",n.update,JZ),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,JZ)})),s&&c.removeEventListener("resize",n.update,JZ)}},data:{}};function e0(e){return e.split("-")[0]}function t0(e){return e.split("-")[1]}function n0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function r0(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?e0(i):null,a=i?t0(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case RZ:t={x:s,y:n.y-r.height};break;case DZ:t={x:s,y:n.y+n.height};break;case NZ:t={x:n.x+n.width,y:c};break;case MZ:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=o?n0(o):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case FZ:t[u]=t[u]-(n[l]/2-r[l]/2);break;case UZ:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}var i0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o0(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,h=e.isFixed,d=a.x,f=void 0===d?0:d,p=a.y,m=void 0===p?0:p,g="function"===typeof l?l({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=MZ,w=RZ,_=window;if(u){var S=PZ(n),E="clientHeight",x="clientWidth";if(S===cZ(n)&&"static"!==SZ(S=wZ(n)).position&&"absolute"===s&&(E="scrollHeight",x="scrollWidth"),i===RZ||(i===MZ||i===NZ)&&o===UZ)w=DZ,m-=(h&&S===_&&_.visualViewport?_.visualViewport.height:S[E])-r.height,m*=c?1:-1;if(i===MZ||(i===RZ||i===DZ)&&o===UZ)b=NZ,f-=(h&&S===_&&_.visualViewport?_.visualViewport.width:S[x])-r.width,f*=c?1:-1}var T,I=Object.assign({position:s},u&&i0),O=!0===l?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:pZ(n*i)/i||0,y:pZ(r*i)/i||0}}({x:f,y:m},cZ(n)):{x:f,y:m};return f=O.x,m=O.y,c?Object.assign({},I,((T={})[w]=v?"0":"",T[b]=y?"0":"",T.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",T)):Object.assign({},I,((t={})[w]=v?m+"px":"",t[b]=y?f+"px":"",t.transform="",t))}const a0={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];lZ(i)&&bZ(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});lZ(r)&&bZ(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const s0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=GZ.reduce((function(e,n){return e[n]=function(e,t,n){var r=e0(e),i=[MZ,RZ].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[MZ,NZ].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var c0={left:"right",right:"left",bottom:"top",top:"bottom"};function u0(e){return e.replace(/left|right|bottom|top/g,(function(e){return c0[e]}))}var l0={start:"end",end:"start"};function h0(e){return e.replace(/start|end/g,(function(e){return l0[e]}))}function d0(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&hZ(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function f0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function p0(e,t,n){return t===VZ?f0(function(e,t){var n=cZ(e),r=wZ(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var u=gZ();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+_Z(e),y:c}}(e,n)):uZ(t)?function(e,t){var n=yZ(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):f0(function(e){var t,n=wZ(e),r=vZ(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=dZ(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=dZ(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+_Z(e),c=-r.scrollTop;return"rtl"===SZ(i||n).direction&&(s+=dZ(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(wZ(e)))}function m0(e,t,n,r){var i="clippingParents"===t?function(e){var t=CZ(IZ(e)),n=["absolute","fixed"].indexOf(SZ(e).position)>=0&&lZ(e)?PZ(e):e;return uZ(n)?t.filter((function(e){return uZ(e)&&d0(e,n)&&"body"!==bZ(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=p0(e,n,r);return t.top=dZ(i.top,t.top),t.right=fZ(i.right,t.right),t.bottom=fZ(i.bottom,t.bottom),t.left=dZ(i.left,t.left),t}),p0(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function g0(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function y0(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function v0(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,c=void 0===s?BZ:s,u=n.rootBoundary,l=void 0===u?VZ:u,h=n.elementContext,d=void 0===h?zZ:h,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,y=g0("number"!==typeof g?g:y0(g,LZ)),v=d===zZ?qZ:zZ,b=e.rects.popper,w=e.elements[p?v:d],_=m0(uZ(w)?w:w.contextElement||wZ(e.elements.popper),c,l,a),S=yZ(e.elements.reference),E=r0({reference:S,element:b,strategy:"absolute",placement:i}),x=f0(Object.assign({},b,E)),T=d===zZ?x:S,I={top:_.top-T.top+y.top,bottom:T.bottom-_.bottom+y.bottom,left:_.left-T.left+y.left,right:T.right-_.right+y.right},O=e.modifiersData.offset;if(d===zZ&&O){var C=O[i];Object.keys(I).forEach((function(e){var t=[NZ,DZ].indexOf(e)>=0?1:-1,n=[RZ,DZ].indexOf(e)>=0?"y":"x";I[e]+=C[n]*t}))}return I}const b0={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,y=e0(g),v=c||(y===g||!p?[u0(g)]:function(e){if(e0(e)===jZ)return[];var t=u0(e);return[h0(e),t,h0(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(e0(n)===jZ?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?GZ:c,l=t0(r),h=l?s?WZ:WZ.filter((function(e){return t0(e)===l})):LZ,d=h.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=h);var f=d.reduce((function(t,n){return t[n]=v0(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[e0(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,E=!0,x=b[0],T=0;T<b.length;T++){var I=b[T],O=e0(I),C=t0(I)===FZ,k=[RZ,DZ].indexOf(O)>=0,A=k?"width":"height",P=v0(t,{placement:I,boundary:l,rootBoundary:h,altBoundary:d,padding:u}),R=k?C?NZ:MZ:C?DZ:RZ;w[A]>_[A]&&(R=u0(R));var D=u0(R),N=[];if(o&&N.push(P[O]<=0),s&&N.push(P[R]<=0,P[D]<=0),N.every((function(e){return e}))){x=I,E=!1;break}S.set(I,N)}if(E)for(var M=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},j=p?3:1;j>0;j--){if("break"===M(j))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function w0(e,t,n){return dZ(e,fZ(t,n))}const _0={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,m=void 0===p?0:p,g=v0(t,{boundary:c,rootBoundary:u,padding:h,altBoundary:l}),y=e0(t.placement),v=t0(t.placement),b=!v,w=n0(y),_="x"===w?"y":"x",S=t.modifiersData.popperOffsets,E=t.rects.reference,x=t.rects.popper,T="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(o){var k,A="y"===w?RZ:MZ,P="y"===w?DZ:NZ,R="y"===w?"height":"width",D=S[w],N=D+g[A],M=D-g[P],j=f?-x[R]/2:0,L=v===FZ?E[R]:x[R],F=v===FZ?-x[R]:-E[R],U=t.elements.arrow,B=f&&U?TZ(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[A],q=V[P],W=w0(0,E[R],B[R]),G=b?E[R]/2-j-W-z-I.mainAxis:L-W-z-I.mainAxis,H=b?-E[R]/2+j+W+q+I.mainAxis:F+W+q+I.mainAxis,K=t.elements.arrow&&PZ(t.elements.arrow),Q=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(k=null==O?void 0:O[w])?k:0,X=D+H-Y,$=w0(f?fZ(N,D+G-Y-Q):N,D,f?dZ(M,X):M);S[w]=$,C[w]=$-D}if(s){var J,Z="x"===w?RZ:MZ,ee="x"===w?DZ:NZ,te=S[_],ne="y"===_?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[RZ,MZ].indexOf(y),ae=null!=(J=null==O?void 0:O[_])?J:0,se=oe?re:te-E[ne]-x[ne]-ae+I.altAxis,ce=oe?te+E[ne]+x[ne]-ae-I.altAxis:ie,ue=f&&oe?function(e,t,n){var r=w0(e,t,n);return r>n?n:r}(se,te,ce):w0(f?se:re,te,f?ce:ie);S[_]=ue,C[_]=ue-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const S0={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=e0(n.placement),c=n0(s),u=[MZ,NZ].indexOf(s)>=0?"height":"width";if(o&&a){var l=function(e,t){return g0("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:y0(e,LZ))}(i.padding,n),h=TZ(o),d="y"===c?RZ:MZ,f="y"===c?DZ:NZ,p=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],m=a[c]-n.rects.reference[c],g=PZ(o),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=p/2-m/2,b=l[d],w=y-h[u]-l[f],_=y/2-h[u]/2+v,S=w0(b,_,w),E=c;n.modifiersData[r]=((t={})[E]=S,t.centerOffset=S-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&d0(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function E0(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function x0(e){return[RZ,NZ,DZ,MZ].some((function(t){return e[t]>=0}))}var T0=$Z({defaultModifiers:[ZZ,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=r0({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,u={placement:e0(t.placement),variation:t0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,o0(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,o0(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},a0,s0,b0,_0,S0,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=v0(t,{elementContext:"reference"}),s=v0(t,{altBoundary:!0}),c=E0(a,r),u=E0(s,i,o),l=x0(c),h=x0(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}}]});function I0(e){return OW("MuiPopper",e)}CW("MuiPopper",["root"]);const O0={disableDefaultClasses:!1},C0=r.createContext(O0);const k0=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],A0=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function P0(e){return"function"===typeof e?e():e}function R0(e){return void 0!==e.nodeType}const D0=()=>Wq({root:["root"]},function(e){const{disableDefaultClasses:t}=r.useContext(C0);return n=>t?"":e(n)}(I0)),N0={},M0=r.forwardRef((function(e,t){var n;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:c,open:u,placement:l,popperOptions:h,popperRef:d,slotProps:f={},slots:p={},TransitionProps:m}=e,g=O(e,k0),y=r.useRef(null),v=LW(y,t),b=r.useRef(null),w=LW(b,d),_=r.useRef(w);UW((()=>{_.current=w}),[w]),r.useImperativeHandle(d,(()=>b.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(l,a),[E,x]=r.useState(S),[T,C]=r.useState(P0(i));r.useEffect((()=>{b.current&&b.current.forceUpdate()})),r.useEffect((()=>{i&&C(P0(i))}),[i]),UW((()=>{if(!T||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;x(t.placement)}}];null!=c&&(e=e.concat(c)),h&&null!=h.modifiers&&(e=e.concat(h.modifiers));const t=T0(T,y.current,I({placement:S},h,{modifiers:e}));return _.current(t),()=>{t.destroy(),_.current(null)}}),[T,s,c,u,h,S]);const k={placement:E};null!==m&&(k.TransitionProps=m);const A=D0(),P=null!=(n=p.root)?n:"div",R=WK({elementType:P,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:A.root});return(0,LL.jsx)(P,I({},R,{children:"function"===typeof o?o(k):o}))})),j0=r.forwardRef((function(e,t){const{anchorEl:n,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:c=!1,modifiers:u,open:l,placement:h="bottom",popperOptions:d=N0,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:y={}}=e,v=O(e,A0),[b,w]=r.useState(!0);if(!c&&!l&&(!m||b))return null;let _;if(o)_=o;else if(n){const e=P0(n);_=e&&R0(e)?pH(e).body:pH(null).body}const S=l||!c||m&&!b?void 0:"none",E=m?{in:l,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,LL.jsx)(FQ,{disablePortal:s,container:_,children:(0,LL.jsx)(M0,I({anchorEl:n,direction:a,disablePortal:s,modifiers:u,ref:t,open:m?!b:l,placement:h,popperOptions:d,popperRef:f,slotProps:g,slots:y},v,{style:I({position:"fixed",top:0,left:0,display:S},p),TransitionProps:E,children:i}))})})),L0=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],F0=yW(j0,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),U0=r.forwardRef((function(e,t){var n;const r=aU(),i=SW({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:s,componentsProps:c,container:u,disablePortal:l,keepMounted:h,modifiers:d,open:f,placement:p,popperOptions:m,popperRef:g,transition:y,slots:v,slotProps:b}=i,w=O(i,L0),_=null!=(n=null==v?void 0:v.root)?n:null==s?void 0:s.Root,S=I({anchorEl:o,container:u,disablePortal:l,keepMounted:h,modifiers:d,open:f,placement:p,popperOptions:m,popperRef:g,transition:y},w);return(0,LL.jsx)(F0,I({as:a,direction:null==r?void 0:r.direction,slots:{root:_},slotProps:null!=b?b:c},S,{ref:t}))})),B0=U0,V0=fH;function z0(e){return OW("MuiTooltip",e)}const q0=CW("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),W0=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function G0(e){return Math.round(1e5*e)/1e5}const H0=yW(B0,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return I({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(q0.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(q0.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(q0.arrow)]:I({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(q0.arrow)]:I({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),K0=yW("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(EW(n.placement.split("-")[0]))]]}})((e=>{let{theme:t,ownerState:n}=e;return I({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:eL(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(G0(16/14),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(q0.popper,'[data-popper-placement*="left"] &')]:I({transformOrigin:"right center"},n.isRtl?I({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):I({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(q0.popper,'[data-popper-placement*="right"] &')]:I({transformOrigin:"left center"},n.isRtl?I({marginRight:"14px"},n.touch&&{marginRight:"24px"}):I({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(q0.popper,'[data-popper-placement*="top"] &')]:I({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(q0.popper,'[data-popper-placement*="bottom"] &')]:I({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})})),Q0=yW("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:eL(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let Y0=!1,X0=null,$0={x:0,y:0};function J0(e,t){return n=>{t&&t(n),e(n)}}const Z0=r.forwardRef((function(e,t){var n,i,o,a,s,c,u,l,h,d,f,p,m,g,y,v,b,w,_;const S=SW({props:e,name:"MuiTooltip"}),{arrow:E=!1,children:x,components:T={},componentsProps:C={},describeChild:k=!1,disableFocusListener:A=!1,disableHoverListener:P=!1,disableInteractive:R=!1,disableTouchListener:D=!1,enterDelay:N=100,enterNextDelay:M=0,enterTouchDelay:j=700,followCursor:L=!1,id:F,leaveDelay:U=0,leaveTouchDelay:B=1500,onClose:V,onOpen:z,open:q,placement:W="bottom",PopperComponent:G,PopperProps:H={},slotProps:K={},slots:Q={},title:Y,TransitionComponent:X=TQ,TransitionProps:$}=S,J=O(S,W0),Z=r.isValidElement(x)?x:(0,LL.jsx)("span",{children:x}),ee=yQ(),te="rtl"===ee.direction,[ne,re]=r.useState(),[ie,oe]=r.useState(null),ae=r.useRef(!1),se=R||L,ce=r.useRef(),ue=r.useRef(),le=r.useRef(),he=r.useRef(),[de,fe]=PY({controlled:q,default:!1,name:"Tooltip",state:"open"});let pe=de;const me=V0(F),ge=r.useRef(),ye=r.useCallback((()=>{void 0!==ge.current&&(document.body.style.WebkitUserSelect=ge.current,ge.current=void 0),clearTimeout(he.current)}),[]);r.useEffect((()=>()=>{clearTimeout(ce.current),clearTimeout(ue.current),clearTimeout(le.current),ye()}),[ye]);const ve=e=>{clearTimeout(X0),Y0=!0,fe(!0),z&&!pe&&z(e)},be=VW((e=>{clearTimeout(X0),X0=setTimeout((()=>{Y0=!1}),800+U),fe(!1),V&&pe&&V(e),clearTimeout(ce.current),ce.current=setTimeout((()=>{ae.current=!1}),ee.transitions.duration.shortest)})),we=e=>{ae.current&&"touchstart"!==e.type||(ne&&ne.removeAttribute("title"),clearTimeout(ue.current),clearTimeout(le.current),N||Y0&&M?ue.current=setTimeout((()=>{ve(e)}),Y0?M:N):ve(e))},_e=e=>{clearTimeout(ue.current),clearTimeout(le.current),le.current=setTimeout((()=>{be(e)}),U)},{isFocusVisibleRef:Se,onBlur:Ee,onFocus:xe,ref:Te}=XW(),[,Ie]=r.useState(!1),Oe=e=>{Ee(e),!1===Se.current&&(Ie(!1),_e(e))},Ce=e=>{ne||re(e.currentTarget),xe(e),!0===Se.current&&(Ie(!0),we(e))},ke=e=>{ae.current=!0;const t=Z.props;t.onTouchStart&&t.onTouchStart(e)},Ae=we,Pe=_e,Re=e=>{ke(e),clearTimeout(le.current),clearTimeout(ce.current),ye(),ge.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",he.current=setTimeout((()=>{document.body.style.WebkitUserSelect=ge.current,we(e)}),j)},De=e=>{Z.props.onTouchEnd&&Z.props.onTouchEnd(e),ye(),clearTimeout(le.current),le.current=setTimeout((()=>{be(e)}),B)};r.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||be(e)}}),[be,pe]);const Ne=FW(Z.ref,Te,re,t);Y||0===Y||(pe=!1);const Me=r.useRef(),je={},Le="string"===typeof Y;k?(je.title=pe||!Le||P?null:Y,je["aria-describedby"]=pe?me:null):(je["aria-label"]=Le?Y:null,je["aria-labelledby"]=pe&&!Le?me:null);const Fe=I({},je,J,Z.props,{className:Bq(J.className,Z.props.className),onTouchStart:ke,ref:Ne},L?{onMouseMove:e=>{const t=Z.props;t.onMouseMove&&t.onMouseMove(e),$0={x:e.clientX,y:e.clientY},Me.current&&Me.current.update()}}:{});const Ue={};D||(Fe.onTouchStart=Re,Fe.onTouchEnd=De),P||(Fe.onMouseOver=J0(Ae,Fe.onMouseOver),Fe.onMouseLeave=J0(Pe,Fe.onMouseLeave),se||(Ue.onMouseOver=Ae,Ue.onMouseLeave=Pe)),A||(Fe.onFocus=J0(Ce,Fe.onFocus),Fe.onBlur=J0(Oe,Fe.onBlur),se||(Ue.onFocus=Ce,Ue.onBlur=Oe));const Be=r.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ie),options:{element:ie,padding:4}}];return null!=(e=H.popperOptions)&&e.modifiers&&(t=t.concat(H.popperOptions.modifiers)),I({},H.popperOptions,{modifiers:t})}),[ie,H]),Ve=I({},S,{isRtl:te,arrow:E,disableInteractive:se,placement:W,PopperComponentProp:G,touch:ae.current}),ze=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e;return Wq({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat(EW(o.split("-")[0]))],arrow:["arrow"]},z0,t)})(Ve),qe=null!=(n=null!=(i=Q.popper)?i:T.Popper)?n:H0,We=null!=(o=null!=(a=null!=(s=Q.transition)?s:T.Transition)?a:X)?o:TQ,Ge=null!=(c=null!=(u=Q.tooltip)?u:T.Tooltip)?c:K0,He=null!=(l=null!=(h=Q.arrow)?h:T.Arrow)?l:Q0,Ke=BK(qe,I({},H,null!=(d=K.popper)?d:C.popper,{className:Bq(ze.popper,null==H?void 0:H.className,null==(f=null!=(p=K.popper)?p:C.popper)?void 0:f.className)}),Ve),Qe=BK(We,I({},$,null!=(m=K.transition)?m:C.transition),Ve),Ye=BK(Ge,I({},null!=(g=K.tooltip)?g:C.tooltip,{className:Bq(ze.tooltip,null==(y=null!=(v=K.tooltip)?v:C.tooltip)?void 0:y.className)}),Ve),Xe=BK(He,I({},null!=(b=K.arrow)?b:C.arrow,{className:Bq(ze.arrow,null==(w=null!=(_=K.arrow)?_:C.arrow)?void 0:w.className)}),Ve);return(0,LL.jsxs)(r.Fragment,{children:[r.cloneElement(Z,Fe),(0,LL.jsx)(qe,I({as:null!=G?G:B0,placement:W,anchorEl:L?{getBoundingClientRect:()=>({top:$0.y,left:$0.x,right:$0.x,bottom:$0.y,width:0,height:0})}:ne,popperRef:Me,open:!!ne&&pe,id:me,transition:!0},Ue,Ke,{popperOptions:Be,children:e=>{let{TransitionProps:t}=e;return(0,LL.jsx)(We,I({timeout:ee.transitions.duration.shorter},t,Qe,{children:(0,LL.jsxs)(Ge,I({},Ye,{children:[Y,E?(0,LL.jsx)(He,I({},Xe,{ref:oe})):null]}))}))}}))]})})),e1=Z0;const t1=CW("MuiListItemIcon",["root","alignItemsFlexStart"]);function n1(e){return OW("MuiMenuItem",e)}const r1=CW("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),i1=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],o1=yW(DG,{shouldForwardProp:e=>mW(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return I({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(r1.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):eL(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(r1.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):eL(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(r1.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):eL(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):eL(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(r1.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(r1.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(z$.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(z$.inset)]:{marginLeft:52},["& .".concat(VJ.root)]:{marginTop:0,marginBottom:0},["& .".concat(VJ.inset)]:{paddingLeft:36},["& .".concat(t1.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&I({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(t1.root," svg")]:{fontSize:"1.25rem"}}))})),a1=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:c=!1,focusVisibleClassName:u,role:l="menuitem",tabIndex:h,className:d}=n,f=O(n,i1),p=r.useContext(GK),m=r.useMemo((()=>({dense:a||p.dense||!1,disableGutters:c})),[p.dense,a,c]),g=r.useRef(null);IH((()=>{i&&g.current&&g.current.focus()}),[i]);const y=I({},n,{dense:m.dense,divider:s,disableGutters:c}),v=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e;return I({},a,Wq({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},n1,a))})(n),b=FW(g,t);let w;return n.disabled||(w=void 0!==h?h:-1),(0,LL.jsx)(GK.Provider,{value:m,children:(0,LL.jsx)(o1,I({ref:b,role:l,tabIndex:w,component:o,focusVisibleClassName:Bq(v.focusVisible,u),className:Bq(v.root,d)},f,{ownerState:y,classes:v}))})})),s1=a1;function c1(e){return OW("MuiLinearProgress",e)}CW("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var u1,l1,h1,d1,f1,p1;const m1=["className","color","value","valueBuffer","variant"];let g1,y1,v1,b1,w1,_1;const S1=uG(g1||(g1=u1||(u1=$W(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),E1=uG(y1||(y1=l1||(l1=$W(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),x1=uG(v1||(v1=h1||(h1=$W(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),T1=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?nL(e.palette[t].main,.62):tL(e.palette[t].main,.5),I1=yW("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(EW(n.color))],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return I({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:T1(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),O1=yW("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(EW(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;const r=T1(n,t.color);return I({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),cG(b1||(b1=d1||(d1=$W(["\n    animation: "," 3s infinite linear;\n  "]))),x1)),C1=yW("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(EW(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&cG(w1||(w1=f1||(f1=$W(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),S1)})),k1=yW("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(EW(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:T1(n,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&cG(_1||(_1=p1||(p1=$W(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),E1)})),A1=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:a,variant:s="indeterminate"}=n,c=O(n,m1),u=I({},n,{color:i,variant:s}),l=(e=>{const{classes:t,variant:n,color:r}=e;return Wq({root:["root","color".concat(EW(r)),n],dashed:["dashed","dashedColor".concat(EW(r))],bar1:["bar","barColor".concat(EW(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(EW(r)),"buffer"===n&&"color".concat(EW(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},c1,t)})(u),h=yQ(),d={},f={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==o){d["aria-valuenow"]=Math.round(o),d["aria-valuemin"]=0,d["aria-valuemax"]=100;let e=o-100;"rtl"===h.direction&&(e=-e),f.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===s)if(void 0!==a){let e=(a||0)-100;"rtl"===h.direction&&(e=-e),f.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,LL.jsxs)(I1,I({className:Bq(l.root,r),ownerState:u,role:"progressbar"},d,{ref:t},c,{children:["buffer"===s?(0,LL.jsx)(O1,{className:l.dashed,ownerState:u}):null,(0,LL.jsx)(C1,{className:l.bar1,ownerState:u,style:f.bar1}),"determinate"===s?null:(0,LL.jsx)(k1,{className:l.bar2,ownerState:u,style:f.bar2})]}))})),P1=A1;function R1(e){return OW("MuiCardHeader",e)}const D1=CW("MuiCardHeader",["root","avatar","action","content","title","subheader"]),N1=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],M1=yW("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>I({["& .".concat(D1.title)]:t.title,["& .".concat(D1.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),j1=yW("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),L1=yW("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),F1=yW("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),U1=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiCardHeader"}),{action:r,avatar:i,className:o,component:a="div",disableTypography:s=!1,subheader:c,subheaderTypographyProps:u,title:l,titleTypographyProps:h}=n,d=O(n,N1),f=I({},n,{component:a,disableTypography:s}),p=(e=>{const{classes:t}=e;return Wq({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},R1,t)})(f);let m=l;null==m||m.type===MW||s||(m=(0,LL.jsx)(MW,I({variant:i?"body2":"h5",className:p.title,component:"span",display:"block"},h,{children:m})));let g=c;return null==g||g.type===MW||s||(g=(0,LL.jsx)(MW,I({variant:i?"body2":"body1",className:p.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:g}))),(0,LL.jsxs)(M1,I({className:Bq(p.root,o),as:a,ref:t,ownerState:f},d,{children:[i&&(0,LL.jsx)(j1,{className:p.avatar,ownerState:f,children:i}),(0,LL.jsxs)(F1,{className:p.content,ownerState:f,children:[m,g]}),r&&(0,LL.jsx)(L1,{className:p.action,ownerState:f,children:r})]}))})),B1=U1;function V1(e){return OW("MuiCardContent",e)}CW("MuiCardContent",["root"]);const z1=["className","component"],q1=yW("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),W1=r.forwardRef((function(e,t){const n=SW({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=O(n,z1),a=I({},n,{component:i}),s=(e=>{const{classes:t}=e;return Wq({root:["root"]},V1,t)})(a);return(0,LL.jsx)(q1,I({as:i,className:Bq(s.root,r),ownerState:a,ref:t},o))})),G1=W1,H1=QY((0,LL.jsx)("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3zM7 14.96v-4.62l4 2.32v4.61l-4-2.31zm5-4.03L8 8.61l4-2.31 4 2.31-4 2.32zm1 6.34v-4.61l4-2.32v4.62l-4 2.31zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3V2zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3V2zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3v2zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3v2z"}),"ViewInAr"),K1=QY((0,LL.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Q1=QY((0,LL.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Y1=QY((0,LL.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");var X1=n(3038),$1=n.n(X1),J1=n(8493),Z1=n(6769),e2=n.n(Z1),t2=n(2066),n2=n.n(t2),r2=n(6181),i2=n.n(r2),o2=n(298),a2=n.n(o2),s2=function(e){return 0===e?0:e>0?1:-1},c2=function(e){return e2()(e)&&e.indexOf("%")===e.length-1},u2=function(e){return a2()(e)&&!n2()(e)},l2=function(e){return u2(e)||e2()(e)},h2=0,d2=function(e){var t=++h2;return"".concat(e||"").concat(t)},f2=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!u2(e)&&!e2()(e))return r;if(c2(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return n2()(n)&&(n=r),i&&n>t&&(n=t),n},p2=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},m2=function(e,t){return u2(e)&&u2(t)?function(n){return e+n*(t-e)}:function(){return t}};function g2(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):i2()(e,t))===n})):null}var y2=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},v2=n(5633),b2=n.n(v2),w2=n(4786),_2=n.n(w2),S2=n(8092),E2=n.n(S2);function x2(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function T2(e){return T2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T2(e)}var I2=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],O2=["points","pathLength"],C2={svg:["viewBox","children"],polygon:O2,polyline:O2},k2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],A2=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!E2()(n))return null;var i={};return Object.keys(n).forEach((function(e){k2.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},P2=function(e,t,n){if(!E2()(e)||"object"!==T2(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];k2.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},R2=["children"],D2=["children"];function N2(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M2(e){return M2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(e)}var j2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},L2=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},F2=null,U2=null,B2=function e(t){if(t===F2&&Array.isArray(U2))return U2;var n=[];return r.Children.forEach(t,(function(t){b2()(t)||((0,J1.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),U2=n,F2=t,n};function V2(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return L2(e)})):[L2(t)],B2(e).forEach((function(e){var t=i2()(e,"type.displayName")||i2()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function z2(e,t){var n=V2(e,t);return n&&n[0]}var q2=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!u2(n)||n<=0||!u2(r)||r<=0)},W2=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],G2=function(e){return e&&e.type&&e2()(e.type)&&W2.indexOf(e.type)>=0},H2=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!E2()(i))return null;var o={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,o=null!==(i=null===C2||void 0===C2?void 0:C2[r])&&void 0!==i?i:[];return!_2()(e)&&(r&&o.includes(t)||I2.includes(t))||n&&k2.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])})),o},K2=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return Q2(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!Q2(a,s))return!1}return!0},Q2=function(e,t){if(b2()(e)&&b2()(t))return!0;if(!b2()(e)&&!b2()(t)){var n=e.props||{},r=n.children,i=N2(n,R2),o=t.props||{},a=o.children,s=N2(o,D2);return r&&a?x2(i,s)&&K2(r,a):!r&&!a&&x2(i,s)}return!1},Y2=function(e,t){var n=[],r={};return B2(e).forEach((function(e,i){if(G2(e))n.push(e);else if(e){var o=L2(e.type),a=t[o]||{},s=a.handler,c=a.once;if(s&&(!c||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}})),n},X2=function(e,t){return B2(t).indexOf(e)};function $2(e){return $2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$2(e)}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J2(Object(n),!0).forEach((function(t){e4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$2(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return n4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n4(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r4=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,c=e.height,u=void 0===c?"100%":c,l=e.minWidth,h=void 0===l?0:l,d=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,_=void 0===w?{}:w,S=(0,r.useRef)(null),E=(0,r.useRef)();E.current=b,(0,r.useImperativeHandle)(t,(function(){return S}));var x=t4((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),T=x[0],I=x[1],O=(0,r.useCallback)((function(e,t){I((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;O(r,i),null===(t=E.current)||void 0===t||t.call(E,r,i)};g>0&&(e=$1()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return O(r,i),t.observe(S.current),function(){t.disconnect()}}),[O,g]);var C=(0,r.useMemo)((function(){var e=T.containerWidth,t=T.containerHeight;if(e<0||t<0)return null;y2(c2(s)||c2(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),y2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=c2(s)?e:s,o=c2(u)?t:u;n&&n>0&&(i?o=i/n:o&&(i=o*n),f&&o>f&&(o=f)),y2(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,u,h,d,n);var a=!Array.isArray(p)&&(0,J1.isElement)(p)&&L2(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return(0,J1.isElement)(e)?(0,r.cloneElement)(e,Z2({width:i,height:o},a?{style:Z2({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,u,f,d,h,T,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:Bq("recharts-responsive-container",v),style:Z2(Z2({},_),{},{width:s,height:u,minWidth:h,minHeight:d,maxHeight:f}),ref:S},C)})),i4=n(6222),o4=n.n(i4),a4=n(4286),s4=n.n(a4),c4=n(1996),u4=n.n(c4),l4=n(2730),h4=n.n(l4),d4="Invariant failed";function f4(e){return f4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f4(e)}function p4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p4(Object(n),!0).forEach((function(t){g4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f4(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f4(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y4=Math.PI/180,v4=function(e){return 180*e/Math.PI},b4=function(e,t,n,r){return{x:e+Math.cos(-y4*r)*n,y:t+Math.sin(-y4*r)*n}},w4=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,c=Math.acos(s);return r>o&&(c=2*Math.PI-c),{radius:a,angle:v4(c),angleInRadian:c}},_4=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},S4=function(e,t){var n=e.x,r=e.y,i=w4({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(0===o)return!0;var u,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),h=l.startAngle,d=l.endAngle,f=a;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;u=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;u=f>=d&&f<=h}return u?m4(m4({},t),{},{radius:o,angle:_4(f,t)}):null};function E4(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[b4(t,n,r,i),b4(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var x4={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return x4[e]},set:function(e,t){if("string"===typeof e)x4[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){x4[t]=e[t]}))}}};function T4(e){return T4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T4(e)}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I4(Object(n),!0).forEach((function(t){C4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==T4(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T4(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k4={widthCache:{},cacheCount:0},A4={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P4="recharts_measurement_span";var R4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||x4.isSsr)return{width:0,height:0};var n=function(e){var t=O4({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(k4.widthCache[r])return k4.widthCache[r];try{var i=document.getElementById(P4);i||((i=document.createElement("span")).setAttribute("id",P4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=O4(O4({},A4),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return k4.widthCache[r]=s,++k4.cacheCount>2e3&&(k4.cacheCount=0,k4.widthCache={}),s}catch(c){return{width:0,height:0}}},D4=n(7702),N4=n.n(D4);function M4(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function j4(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class L4 extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V4;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(F4(this,e))}has(e){return super.has(F4(this,e))}set(e,t){return super.set(U4(this,e),t)}delete(e){return super.delete(B4(this,e))}}function F4(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function U4(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function B4(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function V4(e){return null!==e&&"object"===typeof e?e.valueOf():e}const z4=Symbol("implicit");function q4(){var e=new L4,t=[],n=[],r=z4;function i(i){let o=e.get(i);if(void 0===o){if(r!==z4)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new L4;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return q4(t,n).unknown(r)},M4.apply(i,arguments),i}function W4(){var e,t,n=q4().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,u=0,l=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-c+2*u),s&&(e=Math.floor(e)),d+=(f-d-e*(n-c))*l,t=e*(1-c),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,u=+e),h()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),h()):c},n.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),h()):l},n.copy=function(){return W4(r(),[o,a]).round(s).paddingInner(c).paddingOuter(u).align(l)},M4.apply(h(),arguments)}function G4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G4(t())},e}function H4(){return G4(W4.apply(null,arguments).paddingInner(1))}const K4=Math.sqrt(50),Q4=Math.sqrt(10),Y4=Math.sqrt(2);function X4(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=K4?10:o>=Q4?5:o>=Y4?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?X4(e,t,2*n):[s,c,u]}function $4(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?X4(t,e,n):X4(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function J4(e,t,n){return X4(e=+e,t=+t,n=+n)[2]}function Z4(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?J4(t,e,n):J4(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function e3(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t3(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function n3(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=e3,n=(t,n)=>e3(e(t),n),r=(t,n)=>e(t)-n):(t=e===e3||e===t3?e:r3,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function r3(){return 0}function i3(e){return null===e?NaN:+e}const o3=n3(e3),a3=o3.right,s3=(o3.left,n3(i3).center,a3);function c3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function u3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function l3(){}var h3=.7,d3=1/h3,f3="\\s*([+-]?\\d+)\\s*",p3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",m3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g3=/^#([0-9a-f]{3,8})$/,y3=new RegExp("^rgb\\(".concat(f3,",").concat(f3,",").concat(f3,"\\)$")),v3=new RegExp("^rgb\\(".concat(m3,",").concat(m3,",").concat(m3,"\\)$")),b3=new RegExp("^rgba\\(".concat(f3,",").concat(f3,",").concat(f3,",").concat(p3,"\\)$")),w3=new RegExp("^rgba\\(".concat(m3,",").concat(m3,",").concat(m3,",").concat(p3,"\\)$")),_3=new RegExp("^hsl\\(".concat(p3,",").concat(m3,",").concat(m3,"\\)$")),S3=new RegExp("^hsla\\(".concat(p3,",").concat(m3,",").concat(m3,",").concat(p3,"\\)$")),E3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x3(){return this.rgb().formatHex()}function T3(){return this.rgb().formatRgb()}function I3(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=g3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?O3(t):3===n?new A3(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?C3(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?C3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=y3.exec(e))?new A3(t[1],t[2],t[3],1):(t=v3.exec(e))?new A3(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=b3.exec(e))?C3(t[1],t[2],t[3],t[4]):(t=w3.exec(e))?C3(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_3.exec(e))?j3(t[1],t[2]/100,t[3]/100,1):(t=S3.exec(e))?j3(t[1],t[2]/100,t[3]/100,t[4]):E3.hasOwnProperty(e)?O3(E3[e]):"transparent"===e?new A3(NaN,NaN,NaN,0):null}function O3(e){return new A3(e>>16&255,e>>8&255,255&e,1)}function C3(e,t,n,r){return r<=0&&(e=t=n=NaN),new A3(e,t,n,r)}function k3(e,t,n,r){return 1===arguments.length?((i=e)instanceof l3||(i=I3(i)),i?new A3((i=i.rgb()).r,i.g,i.b,i.opacity):new A3):new A3(e,t,n,null==r?1:r);var i}function A3(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function P3(){return"#".concat(M3(this.r)).concat(M3(this.g)).concat(M3(this.b))}function R3(){const e=D3(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(N3(this.r),", ").concat(N3(this.g),", ").concat(N3(this.b)).concat(1===e?")":", ".concat(e,")"))}function D3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function N3(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function M3(e){return((e=N3(e))<16?"0":"")+e.toString(16)}function j3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new F3(e,t,n,r)}function L3(e){if(e instanceof F3)return new F3(e.h,e.s,e.l,e.opacity);if(e instanceof l3||(e=I3(e)),!e)return new F3;if(e instanceof F3)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new F3(a,s,c,e.opacity)}function F3(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function U3(e){return(e=(e||0)%360)<0?e+360:e}function B3(e){return Math.max(0,Math.min(1,e||0))}function V3(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function z3(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}c3(l3,I3,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x3,formatHex:x3,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return L3(this).formatHsl()},formatRgb:T3,toString:T3}),c3(A3,k3,u3(l3,{brighter(e){return e=null==e?d3:Math.pow(d3,e),new A3(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?h3:Math.pow(h3,e),new A3(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new A3(N3(this.r),N3(this.g),N3(this.b),D3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P3,formatHex:P3,formatHex8:function(){return"#".concat(M3(this.r)).concat(M3(this.g)).concat(M3(this.b)).concat(M3(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:R3,toString:R3})),c3(F3,(function(e,t,n,r){return 1===arguments.length?L3(e):new F3(e,t,n,null==r?1:r)}),u3(l3,{brighter(e){return e=null==e?d3:Math.pow(d3,e),new F3(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?h3:Math.pow(h3,e),new F3(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new A3(V3(e>=240?e-240:e+120,i,r),V3(e,i,r),V3(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new F3(U3(this.h),B3(this.s),B3(this.l),D3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=D3(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(U3(this.h),", ").concat(100*B3(this.s),"%, ").concat(100*B3(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const q3=e=>()=>e;function W3(e,t){return function(n){return e+n*t}}function G3(e){return 1===(e=+e)?H3:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):q3(isNaN(t)?n:t)}}function H3(e,t){var n=t-e;return n?W3(e,n):q3(isNaN(e)?t:e)}const K3=function e(t){var n=G3(t);function r(e,t){var r=n((e=k3(e)).r,(t=k3(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=H3(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Q3(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=k3(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Q3((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return z3((n-r/t)*t,a,i,o,s)}})),Q3((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return z3((n-r/t)*t,i,o,a,s)}}));function Y3(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=r5(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function X3(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $3(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function J3(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=r5(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Z3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e5=new RegExp(Z3.source,"g");function t5(e,t){var n,r,i,o=Z3.lastIndex=e5.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=Z3.exec(e))&&(r=e5.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:$3(n,r)})),o=e5.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function n5(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function r5(e,t){var n,r=typeof t;return null==t||"boolean"===r?q3(t):("number"===r?$3:"string"===r?(n=I3(t))?(t=n,K3):t5:t instanceof I3?K3:t instanceof Date?X3:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?n5:Array.isArray(t)?Y3:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?J3:$3)(e,t)}function i5(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function o5(e){return+e}var a5=[0,1];function s5(e){return e}function c5(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function u5(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=c5(i,r),o=n(a,o)):(r=c5(r,i),o=n(o,a)),function(e){return o(r(e))}}function l5(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=c5(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=s3(e,t,1,r)-1;return o[n](i[n](t))}}function h5(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function d5(){var e,t,n,r,i,o,a=a5,s=a5,c=r5,u=s5;function l(){var e=Math.min(a.length,s.length);return u!==s5&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?l5:u5,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,c)))(e(u(t)))}return h.invert=function(n){return u(t((o||(o=r(s,a.map(e),$3)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,o5),l()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),c=i5,l()},h.clamp=function(e){return arguments.length?(u=!!e||s5,l()):u!==s5},h.interpolate=function(e){return arguments.length?(c=e,l()):c},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,l()}}function f5(){return d5()(s5,s5)}var p5,m5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g5(e){if(!(t=m5.exec(e)))throw new Error("invalid format: "+e);var t;return new y5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function y5(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function v5(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function b5(e){return(e=v5(Math.abs(e)))?e[1]:NaN}function w5(e,t){var n=v5(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}g5.prototype=y5.prototype,y5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const _5={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>w5(100*e,t),r:w5,s:function(e,t){var n=v5(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(p5=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+v5(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function S5(e){return e}var E5,x5,T5,I5=Array.prototype.map,O5=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function C5(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?S5:(t=I5.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?S5:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(I5.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=g5(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):_5[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?c:"",_=_5[v],S=/[defgprs%]/.test(v);function E(e){var i,o,c,d=b,E=w;if("c"===v)E=_(e)+E,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:_(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0===+e&&"+"!==h&&(x=!1),d=(x?"("===h?h:u:"-"===h||"("===h?"":h)+d,E=("s"===v?O5[8+p5/3]:"")+E+(x&&"("===h?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){E=(46===c?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var T=d.length+e.length+E.length,I=T<p?new Array(p-T+1).join(t):"";switch(m&&f&&(e=r(I+e,I.length?p-E.length:1/0),I=""),n){case"<":e=d+e+E+I;break;case"=":e=d+I+e+E;break;case"^":e=I.slice(0,T=I.length>>1)+d+e+E+I.slice(T);break;default:e=I+d+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=g5(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(b5(t)/3))),i=Math.pow(10,-r),o=O5[8+r/3];return function(e){return n(i*e)+o}}}}function k5(e,t,n,r){var i,o=Z4(e,t,n);switch((r=g5(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(b5(t)/3)))-b5(Math.abs(e)))}(o,a))||(r.precision=i),T5(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,b5(t)-b5(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-b5(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return x5(r)}function A5(e){var t=e.domain;return e.ticks=function(e){var n=t();return $4(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return k5(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,c=o[a],u=o[s],l=10;for(u<c&&(i=c,c=u,u=i,i=a,a=s,s=i);l-- >0;){if((i=J4(c,u,n))===r)return o[a]=c,o[s]=u,t(o);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function P5(){var e=f5();return e.copy=function(){return h5(e,P5())},M4.apply(e,arguments),A5(e)}function R5(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,o5),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return R5(e).unknown(t)},e=arguments.length?Array.from(e,o5):[0,1],A5(n)}function D5(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function N5(e){return Math.log(e)}function M5(e){return Math.exp(e)}function j5(e){return-Math.log(-e)}function L5(e){return-Math.exp(-e)}function F5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function U5(e){return(t,n)=>-e(-t,n)}function B5(e){const t=e(N5,M5),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?F5:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=U5(r),i=U5(i),e(j5,L5)):e(N5,M5),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const c=s<a;c&&([a,s]=[s,a]);let u,l,h=r(a),d=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(u=1;u<o;++u)if(l=h<0?u/i(-h):u*i(h),!(l<a)){if(l>s)break;p.push(l)}}else for(;h<=d;++h)for(u=o-1;u>=1;--u)if(l=h>0?u/i(-h):u*i(h),!(l<a)){if(l>s)break;p.push(l)}2*p.length<f&&(p=$4(a,s,f))}else p=$4(h,d,Math.min(d-h,f)).map(i);return c?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=g5(n)).precision||(n.trim=!0),n=x5(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(D5(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function V5(){const e=B5(d5()).domain([1,10]);return e.copy=()=>h5(e,V5()).base(e.base()),M4.apply(e,arguments),e}function z5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function q5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W5(e){var t=1,n=e(z5(t),q5(t));return n.constant=function(n){return arguments.length?e(z5(t=+n),q5(t)):t},A5(n)}function G5(){var e=W5(d5());return e.copy=function(){return h5(e,G5()).constant(e.constant())},M4.apply(e,arguments)}function H5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function K5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Q5(e){return e<0?-e*e:e*e}function Y5(e){var t=e(s5,s5),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(s5,s5):.5===n?e(K5,Q5):e(H5(n),H5(1/n)):n},A5(t)}function X5(){var e=Y5(d5());return e.copy=function(){return h5(e,X5()).exponent(e.exponent())},M4.apply(e,arguments),e}function $5(){return X5.apply(null,arguments).exponent(.5)}function J5(e){return Math.sign(e)*e*e}function Z5(){var e,t=f5(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(J5(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,o5)).map(J5)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Z5(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},M4.apply(i,arguments),A5(i)}function e6(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function t6(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function n6(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e3;if(e===e3)return r6;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function r6(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function i6(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?r6:n6(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);i6(e,t,Math.max(n,Math.floor(t-a*c/o+u)),Math.min(r,Math.floor(t+(o-a)*c/o+u)),i)}const o=e[t];let a=n,s=r;for(o6(e,n,t),i(e[r],o)>0&&o6(e,n,r);a<s;){for(o6(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?o6(e,n,s):(++s,o6(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function o6(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function a6(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return t6(e);if(t>=1)return e6(e);var r,i=(r-1)*t,o=Math.floor(i),a=e6(i6(e,o).subarray(0,o+1));return a+(t6(e.subarray(o+1))-a)*(i-o)}}function s6(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i3;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function c6(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=s6(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[s3(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(e3),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return c6().domain(t).range(n).unknown(e)},M4.apply(o,arguments)}function u6(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[s3(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return u6().domain([t,n]).range(o).unknown(e)},M4.apply(A5(a),arguments)}function l6(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[s3(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return l6().domain(t).range(n).unknown(e)},M4.apply(i,arguments)}E5=C5({thousands:",",grouping:[3],currency:["$",""]}),x5=E5.format,T5=E5.formatPrefix;const h6=1e3,d6=6e4,f6=36e5,p6=864e5,m6=6048e5,g6=2592e6,y6=31536e6,v6=new Date,b6=new Date;function w6(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>w6((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(v6.setTime(+t),b6.setTime(+r),e(v6),e(b6),Math.floor(n(v6,b6))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const _6=w6((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));_6.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?w6((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):_6:null);_6.range;const S6=w6((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*h6)}),((e,t)=>(t-e)/h6),(e=>e.getUTCSeconds())),E6=(S6.range,w6((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*h6)}),((e,t)=>{e.setTime(+e+t*d6)}),((e,t)=>(t-e)/d6),(e=>e.getMinutes()))),x6=(E6.range,w6((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*d6)}),((e,t)=>(t-e)/d6),(e=>e.getUTCMinutes()))),T6=(x6.range,w6((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*h6-e.getMinutes()*d6)}),((e,t)=>{e.setTime(+e+t*f6)}),((e,t)=>(t-e)/f6),(e=>e.getHours()))),I6=(T6.range,w6((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*f6)}),((e,t)=>(t-e)/f6),(e=>e.getUTCHours()))),O6=(I6.range,w6((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*d6)/p6),(e=>e.getDate()-1))),C6=(O6.range,w6((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/p6),(e=>e.getUTCDate()-1))),k6=(C6.range,w6((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/p6),(e=>Math.floor(e/p6))));k6.range;function A6(e){return w6((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*d6)/m6))}const P6=A6(0),R6=A6(1),D6=A6(2),N6=A6(3),M6=A6(4),j6=A6(5),L6=A6(6);P6.range,R6.range,D6.range,N6.range,M6.range,j6.range,L6.range;function F6(e){return w6((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/m6))}const U6=F6(0),B6=F6(1),V6=F6(2),z6=F6(3),q6=F6(4),W6=F6(5),G6=F6(6),H6=(U6.range,B6.range,V6.range,z6.range,q6.range,W6.range,G6.range,w6((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),K6=(H6.range,w6((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Q6=(K6.range,w6((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Q6.every=e=>isFinite(e=Math.floor(e))&&e>0?w6((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;Q6.range;const Y6=w6((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Y6.every=e=>isFinite(e=Math.floor(e))&&e>0?w6((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Y6.range;function X6(e,t,n,r,i,o){const a=[[S6,1,h6],[S6,5,5e3],[S6,15,15e3],[S6,30,3e4],[o,1,d6],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,f6],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,p6],[r,2,1728e5],[n,1,m6],[t,1,g6],[t,3,7776e6],[e,1,y6]];function s(t,n,r){const i=Math.abs(n-t)/r,o=n3((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(Z4(t/y6,n/y6,r));if(0===o)return _6.every(Math.max(Z4(t,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[$6,J6]=X6(Y6,K6,U6,k6,I6,x6),[Z6,e9]=X6(Q6,H6,P6,O6,T6,E6);function t9(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n9(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function r9(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var i9,o9,a9,s9={"-":"",_:" ",0:"0"},c9=/^\s*\d+/,u9=/^%/,l9=/[\\^$*+?|[\]().{}]/g;function h9(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function d9(e){return e.replace(l9,"\\$&")}function f9(e){return new RegExp("^(?:"+e.map(d9).join("|")+")","i")}function p9(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function m9(e,t,n){var r=c9.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function g9(e,t,n){var r=c9.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function y9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function v9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function w9(e,t,n){var r=c9.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S9(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E9(e,t,n){var r=c9.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function x9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function I9(e,t,n){var r=c9.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function O9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function C9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k9(e,t,n){var r=c9.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function A9(e,t,n){var r=c9.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P9(e,t,n){var r=c9.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function R9(e,t,n){var r=u9.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function D9(e,t,n){var r=c9.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function N9(e,t,n){var r=c9.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function M9(e,t){return h9(e.getDate(),t,2)}function j9(e,t){return h9(e.getHours(),t,2)}function L9(e,t){return h9(e.getHours()%12||12,t,2)}function F9(e,t){return h9(1+O6.count(Q6(e),e),t,3)}function U9(e,t){return h9(e.getMilliseconds(),t,3)}function B9(e,t){return U9(e,t)+"000"}function V9(e,t){return h9(e.getMonth()+1,t,2)}function z9(e,t){return h9(e.getMinutes(),t,2)}function q9(e,t){return h9(e.getSeconds(),t,2)}function W9(e){var t=e.getDay();return 0===t?7:t}function G9(e,t){return h9(P6.count(Q6(e)-1,e),t,2)}function H9(e){var t=e.getDay();return t>=4||0===t?M6(e):M6.ceil(e)}function K9(e,t){return e=H9(e),h9(M6.count(Q6(e),e)+(4===Q6(e).getDay()),t,2)}function Q9(e){return e.getDay()}function Y9(e,t){return h9(R6.count(Q6(e)-1,e),t,2)}function X9(e,t){return h9(e.getFullYear()%100,t,2)}function $9(e,t){return h9((e=H9(e)).getFullYear()%100,t,2)}function J9(e,t){return h9(e.getFullYear()%1e4,t,4)}function Z9(e,t){var n=e.getDay();return h9((e=n>=4||0===n?M6(e):M6.ceil(e)).getFullYear()%1e4,t,4)}function e8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+h9(t/60|0,"0",2)+h9(t%60,"0",2)}function t8(e,t){return h9(e.getUTCDate(),t,2)}function n8(e,t){return h9(e.getUTCHours(),t,2)}function r8(e,t){return h9(e.getUTCHours()%12||12,t,2)}function i8(e,t){return h9(1+C6.count(Y6(e),e),t,3)}function o8(e,t){return h9(e.getUTCMilliseconds(),t,3)}function a8(e,t){return o8(e,t)+"000"}function s8(e,t){return h9(e.getUTCMonth()+1,t,2)}function c8(e,t){return h9(e.getUTCMinutes(),t,2)}function u8(e,t){return h9(e.getUTCSeconds(),t,2)}function l8(e){var t=e.getUTCDay();return 0===t?7:t}function h8(e,t){return h9(U6.count(Y6(e)-1,e),t,2)}function d8(e){var t=e.getUTCDay();return t>=4||0===t?q6(e):q6.ceil(e)}function f8(e,t){return e=d8(e),h9(q6.count(Y6(e),e)+(4===Y6(e).getUTCDay()),t,2)}function p8(e){return e.getUTCDay()}function m8(e,t){return h9(B6.count(Y6(e)-1,e),t,2)}function g8(e,t){return h9(e.getUTCFullYear()%100,t,2)}function y8(e,t){return h9((e=d8(e)).getUTCFullYear()%100,t,2)}function v8(e,t){return h9(e.getUTCFullYear()%1e4,t,4)}function b8(e,t){var n=e.getUTCDay();return h9((e=n>=4||0===n?q6(e):q6.ceil(e)).getUTCFullYear()%1e4,t,4)}function w8(){return"+0000"}function _8(){return"%"}function S8(e){return+e}function E8(e){return Math.floor(+e/1e3)}function x8(e){return new Date(e)}function T8(e){return e instanceof Date?+e:+new Date(+e)}function I8(e,t,n,r,i,o,a,s,c,u){var l=f5(),h=l.invert,d=l.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function _(e){return(c(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return l.invert=function(e){return new Date(h(e))},l.domain=function(e){return arguments.length?d(Array.from(e,T8)):d().map(x8)},l.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?_:u(t)},l.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(D5(n,e)):l},l.copy=function(){return h5(l,I8(e,t,n,r,i,o,a,s,c,u))},l}function O8(){return M4.apply(I8(Z6,e9,Q6,H6,P6,O6,T6,E6,S6,o9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C8(){return M4.apply(I8($6,J6,Y6,K6,U6,C6,I6,x6,S6,a9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k8(){var e,t,n,r,i,o=0,a=1,s=s5,c=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(c=!!e,u):c},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=l(r5),u.rangeRound=l(i5),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function A8(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P8(){var e=A5(k8()(s5));return e.copy=function(){return A8(e,P8())},j4.apply(e,arguments)}function R8(){var e=B5(k8()).domain([1,10]);return e.copy=function(){return A8(e,R8()).base(e.base())},j4.apply(e,arguments)}function D8(){var e=W5(k8());return e.copy=function(){return A8(e,D8()).constant(e.constant())},j4.apply(e,arguments)}function N8(){var e=Y5(k8());return e.copy=function(){return A8(e,N8()).exponent(e.exponent())},j4.apply(e,arguments)}function M8(){return N8.apply(null,arguments).exponent(.5)}function j8(){var e=[],t=s5;function n(n){if(null!=n&&!isNaN(n=+n))return t((s3(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(e3),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>a6(e,r/t)))},n.copy=function(){return j8(t).domain(e)},j4.apply(n,arguments)}function L8(){var e,t,n,r,i,o,a,s=0,c=.5,u=1,l=1,h=s5,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(l*e<l*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=r5);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,c,u]=a,e=o(s=+s),t=o(c=+c),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f):[s,c,u]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(r5),f.rangeRound=p(i5),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(c),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,f}}function F8(){var e=A5(L8()(s5));return e.copy=function(){return A8(e,F8())},j4.apply(e,arguments)}function U8(){var e=B5(L8()).domain([.1,1,10]);return e.copy=function(){return A8(e,U8()).base(e.base())},j4.apply(e,arguments)}function B8(){var e=W5(L8());return e.copy=function(){return A8(e,B8()).constant(e.constant())},j4.apply(e,arguments)}function V8(){var e=Y5(L8());return e.copy=function(){return A8(e,V8()).exponent(e.exponent())},j4.apply(e,arguments)}function z8(){return V8.apply(null,arguments).exponent(.5)}function q8(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){i9=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,u=f9(i),l=p9(i),h=f9(o),d=p9(o),f=f9(a),p=p9(a),m=f9(s),g=p9(s),y=f9(c),v=p9(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:M9,e:M9,f:B9,g:$9,G:Z9,H:j9,I:L9,j:F9,L:U9,m:V9,M:z9,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:S8,s:E8,S:q9,u:W9,U:G9,V:K9,w:Q9,W:Y9,x:null,X:null,y:X9,Y:J9,Z:e8,"%":_8},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:t8,e:t8,f:a8,g:y8,G:b8,H:n8,I:r8,j:i8,L:o8,m:s8,M:c8,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:S8,s:E8,S:u8,u:l8,U:h8,V:f8,w:p8,W:m8,x:null,X:null,y:g8,Y:v8,Z:w8,"%":_8},_={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return x(e,t,n,r)},d:T9,e:T9,f:P9,g:_9,G:w9,H:O9,I:O9,j:I9,L:A9,m:x9,M:C9,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=l.get(r[0].toLowerCase()),n+r[0].length):-1},q:E9,Q:D9,s:N9,S:k9,u:g9,U:y9,V:v9,w:m9,W:b9,x:function(e,t,r){return x(e,n,t,r)},X:function(e,t,n){return x(e,r,t,n)},y:_9,Y:w9,Z:S9,"%":R9};function S(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=s9[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=r9(1900,void 0,1);if(x(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=n9(r9(o.y,0,1))).getUTCDay(),r=i>4||0===i?B6.ceil(r):B6(r),r=C6.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t9(r9(o.y,0,1))).getDay(),r=i>4||0===i?R6.ceil(r):R6(r),r=O6.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?n9(r9(o.y,0,1)).getUTCDay():t9(r9(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,n9(o)):t9(o)}}function x(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in s9?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),o9=i9.format,i9.parse,a9=i9.utcFormat,i9.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function W8(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function G8(e){return function(){return e}}function H8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function K8(e,t){return e[t]}function Q8(e){const t=[];return t.key=e,t}var Y8=n(9627),X8=n.n(Y8),$8=n(6452),J8=n.n($8),Z8=n(5008),e7=n.n(Z8),t7=n(2085),n7=n.n(t7),r7=n(8111),i7=n.n(r7),o7=n(4234),a7=n.n(o7);function s7(e){return function(e){if(Array.isArray(e))return c7(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c7(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u7=function(e){return e},l7={"@@functional/placeholder":!0},h7=function(e){return e===l7},d7=function(e){return function t(){return 0===arguments.length||1===arguments.length&&h7(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},f7=function e(t,n){return 1===t?n:d7((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==l7})).length;return a>=t?n.apply(void 0,i):e(t-a,d7((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return h7(e)?t.shift():e}));return n.apply(void 0,s7(o).concat(t))})))}))},p7=function(e){return f7(e.length,e)},m7=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},g7=p7((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),y7=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return u7;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},v7=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},b7=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var w7=p7((function(e,t,n){var r=+e;return r+n*(+t-r)})),_7=p7((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),S7=p7((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const E7={rangeStep:function(e,t,n){for(var r=new(a7())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(a7())(e).abs().log(10).toNumber())+1},interpolateNumber:w7,uninterpolateNumber:_7,uninterpolateTruncation:S7};function x7(e){return function(e){if(Array.isArray(e))return O7(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I7(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||I7(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I7(e,t){if(e){if("string"===typeof e)return O7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O7(e,t):void 0}}function O7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C7(e){var t=T7(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function k7(e,t,n){if(e.lte(0))return new(a7())(0);var r=E7.getDigitCount(e.toNumber()),i=new(a7())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(a7())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(a7())(Math.ceil(s))}function A7(e,t,n){var r=1,i=new(a7())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(a7())(10).pow(E7.getDigitCount(e)-1),i=new(a7())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(a7())(Math.floor(e)))}else 0===e?i=new(a7())(Math.floor((t-1)/2)):n||(i=new(a7())(Math.floor(e)));var a=Math.floor((t-1)/2);return y7(g7((function(e){return i.add(new(a7())(e-a).mul(r)).toNumber()})),m7)(0,t)}function P7(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(a7())(0),tickMin:new(a7())(0),tickMax:new(a7())(0)};var o,a=k7(new(a7())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(a7())(0):(o=new(a7())(e).add(t).div(2)).sub(new(a7())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new(a7())(t).sub(o).div(a).toNumber()),u=s+c+1;return u>n?P7(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new(a7())(s).mul(a)),tickMax:o.add(new(a7())(c).mul(a))})}var R7=b7((function(e){var t=T7(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=T7(C7([n,r]),2),c=s[0],u=s[1];if(c===-1/0||u===1/0){var l=u===1/0?[c].concat(x7(m7(0,i-1).map((function(){return 1/0})))):[].concat(x7(m7(0,i-1).map((function(){return-1/0}))),[u]);return n>r?v7(l):l}if(c===u)return A7(c,i,o);var h=P7(c,u,a,o),d=h.step,f=h.tickMin,p=h.tickMax,m=E7.rangeStep(f,p.add(new(a7())(.1).mul(d)),d);return n>r?v7(m):m})),D7=(b7((function(e){var t=T7(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=T7(C7([n,r]),2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,r];if(c===u)return A7(c,i,o);var l=k7(new(a7())(u).sub(c).div(a-1),o,0),h=y7(g7((function(e){return new(a7())(c).add(new(a7())(e).mul(l)).toNumber()})),m7)(0,a).filter((function(e){return e>=c&&e<=u}));return n>r?v7(h):h})),b7((function(e,t){var n=T7(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=T7(C7([r,i]),2),s=a[0],c=a[1];if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var u=Math.max(t,2),l=k7(new(a7())(c).sub(s).div(u-1),o,0),h=[].concat(x7(E7.rangeStep(new(a7())(s),new(a7())(c).sub(new(a7())(.99).mul(l)),l)),[c]);return r>i?v7(h):h}))),N7=["children","className"];function M7(){return M7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M7.apply(this,arguments)}function j7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var L7=r.forwardRef((function(e,t){var n=e.children,i=e.className,o=j7(e,N7),a=Bq("recharts-layer",i);return r.createElement("g",M7({className:a},H2(o,!0),{ref:t}),n)})),F7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function U7(){return U7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U7.apply(this,arguments)}function B7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q7(e){var t=e.offset,n=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,c=e.xAxis,u=e.yAxis,l=z7(e,F7),h=H2(l),d=a.map((function(e){var a=s(e,o),l=a.x,d=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=B7(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=c.scale,w=d+t,_=w+i,S=w-i,E=b(f-m),x=b(f+g);y.push({x1:x,y1:_,x2:x,y2:S}),y.push({x1:E,y1:w,x2:x,y2:w}),y.push({x1:E,y1:_,x2:E,y2:S})}else if("horizontal"===n){var T=u.scale,I=l+t,O=I-i,C=I+i,k=T(f-m),A=T(f+g);y.push({x1:O,y1:A,x2:C,y2:A}),y.push({x1:I,y1:k,x2:I,y2:A}),y.push({x1:O,y1:k,x2:C,y2:k})}return r.createElement(L7,U7({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},h),y.map((function(e){return r.createElement("line",U7({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(L7,{className:"recharts-errorBars"},d)}q7.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},q7.displayName="ErrorBar";var W7=["children","width","height","viewBox","className","style","title","desc"];function G7(){return G7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G7.apply(this,arguments)}function H7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K7(e){var t=e.children,n=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,c=e.title,u=e.desc,l=H7(e,W7),h=o||{width:n,height:i,x:0,y:0},d=Bq("recharts-surface",a);return r.createElement("svg",G7({},H2(l,!0,"svg"),{className:d,width:n,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),r.createElement("title",null,c),r.createElement("desc",null,u),t)}Math.abs,Math.atan2;const Q7=Math.cos,Y7=(Math.max,Math.min,Math.sin),X7=Math.sqrt,$7=Math.PI,J7=2*$7;const Z7={draw(e,t){const n=X7(t/$7);e.moveTo(n,0),e.arc(0,0,n,0,J7)}},eee={draw(e,t){const n=X7(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tee=X7(1/3),nee=2*tee,ree={draw(e,t){const n=X7(t/nee),r=n*tee;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},iee={draw(e,t){const n=X7(t),r=-n/2;e.rect(r,r,n,n)}},oee=Y7($7/10)/Y7(7*$7/10),aee=Y7(J7/10)*oee,see=-Q7(J7/10)*oee,cee={draw(e,t){const n=X7(.8908130915292852*t),r=aee*n,i=see*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=J7*o/5,a=Q7(t),s=Y7(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},uee=X7(3),lee={draw(e,t){const n=-X7(t/(3*uee));e.moveTo(0,2*n),e.lineTo(-uee*n,-n),e.lineTo(uee*n,-n),e.closePath()}},hee=-.5,dee=X7(3)/2,fee=1/X7(12),pee=3*(fee/2+1),mee={draw(e,t){const n=X7(t/pee),r=n/2,i=n*fee,o=r,a=n*fee+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(hee*r-dee*i,dee*r+hee*i),e.lineTo(hee*o-dee*a,dee*o+hee*a),e.lineTo(hee*s-dee*c,dee*s+hee*c),e.lineTo(hee*r+dee*i,hee*i-dee*r),e.lineTo(hee*o+dee*a,hee*a-dee*o),e.lineTo(hee*s+dee*c,hee*c-dee*s),e.closePath()}};var gee,yee,vee,bee,wee,_ee,See,Eee,xee,Tee,Iee,Oee,Cee,kee;const Aee=Math.PI,Pee=2*Aee,Ree=1e-6,Dee=Pee-Ree;function Nee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Mee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Nee:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Nee;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(gee||(gee=$W(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(yee||(yee=$W(["Z"]))))}lineTo(e,t){this._append(vee||(vee=$W(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(bee||(bee=$W(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(wee||(wee=$W(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,c=r-t,u=o-e,l=a-t,h=u*u+l*l;if(null===this._x1)this._append(_ee||(_ee=$W(["M",",",""])),this._x1=e,this._y1=t);else if(h>Ree)if(Math.abs(l*s-c*u)>Ree&&i){let d=n-o,f=r-a,p=s*s+c*c,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((Aee-Math.acos((p+h-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>Ree&&this._append(Eee||(Eee=$W(["L",",",""])),e+b*u,t+b*l),this._append(xee||(xee=$W(["A",",",",0,0,",",",",",""])),i,i,+(l*d>u*f),this._x1=e+w*s,this._y1=t+w*c)}else this._append(See||(See=$W(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),c=e+a,u=t+s,l=1^o,h=o?r-i:i-r;null===this._x1?this._append(Tee||(Tee=$W(["M",",",""])),c,u):(Math.abs(this._x1-c)>Ree||Math.abs(this._y1-u)>Ree)&&this._append(Iee||(Iee=$W(["L",",",""])),c,u),n&&(h<0&&(h=h%Pee+Pee),h>Dee?this._append(Oee||(Oee=$W(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,l,e-a,t-s,n,n,l,this._x1=c,this._y1=u):h>Ree&&this._append(Cee||(Cee=$W(["A",",",",0,",",",",",",",""])),n,n,+(h>=Aee),l,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(kee||(kee=$W(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function jee(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Mee(t)}Mee.prototype;X7(3),X7(3);function Lee(e){return Lee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lee(e)}var Fee=["type","size","sizeType"];function Uee(){return Uee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uee.apply(this,arguments)}function Bee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bee(Object(n),!0).forEach((function(t){zee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Lee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Wee={symbolCircle:Z7,symbolCross:eee,symbolDiamond:ree,symbolSquare:iee,symbolStar:cee,symbolTriangle:lee,symbolWye:mee},Gee=Math.PI/180,Hee=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,c=Vee(Vee({},qee(e,Fee)),{},{type:n,size:o,sizeType:s}),u=c.className,l=c.cx,h=c.cy,d=H2(c,!0);return l===+l&&h===+h&&o===+o?r.createElement("path",Uee({},d,{className:Bq("recharts-symbols",u),transform:"translate(".concat(l,", ").concat(h,")"),d:function(){var e=function(e){var t="symbol".concat(n7()(e));return Wee[t]||Z7}(n),t=function(e,t){let n=null,r=jee(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:G8(e||Z7),t="function"===typeof t?t:G8(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:G8(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:G8(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Gee;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function Kee(e){return Kee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kee(e)}function Qee(){return Qee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qee.apply(this,arguments)}function Yee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tte(r.key),r)}}function $ee(e,t){return $ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$ee(e,t)}function Jee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zee(e);if(t){var i=Zee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Kee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Zee(e){return Zee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zee(e)}function ete(e,t,n){return(t=tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tte(e){var t=function(e,t){if("object"!==Kee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kee(t)?t:String(t)}Hee.registerSymbol=function(e,t){Wee["symbol".concat(n7()(e))]=t};var nte=32,rte=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$ee(e,t)}(a,e);var t,n,i,o=Jee(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=nte/6,o=nte/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:nte,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(nte,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(nte,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yee(Object(n),!0).forEach((function(t){ete(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(Hee,{fill:a,cx:n,cy:n,size:nte,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,c={x:0,y:0,width:nte,height:nte},u={display:"horizontal"===o?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o,h=t.formatter||a,d=Bq((ete(o={"recharts-legend-item":!0},"legend-item-".concat(n),!0),ete(o,"inactive",t.inactive),o));if("none"===t.type)return null;var f=_2()(t.value)?null:t.value;y2(!_2()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return r.createElement("li",Qee({className:d,style:u,key:"legend-item-".concat(n)},P2(e.props,t,n)),r.createElement(K7,{width:i,height:i,viewBox:c,style:l},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},h?h(f,t,n):f))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],n&&Xee(t.prototype,n),i&&Xee(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);ete(rte,"displayName","Legend"),ete(rte,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ite=n(6339),ote=n.n(ite);function ate(e,t,n){return!0===t?ote()(e,n):_2()(t)?ote()(e,t):e}function ste(e){return ste="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ste(e)}var cte=["ref"];function ute(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ute(Object(n),!0).forEach((function(t){gte(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ute(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yte(r.key),r)}}function dte(e,t){return dte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dte(e,t)}function fte(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mte(e);if(t){var i=mte(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ste(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pte(e)}(this,n)}}function pte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mte(e){return mte=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mte(e)}function gte(e,t,n){return(t=yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=function(e,t){if("object"!==ste(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ste(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ste(t)?t:String(t)}function vte(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bte(e){return e.value}var wte=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dte(e,t)}(a,e);var t,n,i,o=fte(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gte(pte(e=o.call.apply(o,[this].concat(n))),"lastBoundingBox",{width:-1,height:-1}),e}return t=a,n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t))}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lte({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,c=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((c||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),lte(lte({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,c=t.payload,u=lte(lte({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=vte(t,cte);return r.createElement(rte,n)}(n,lte(lte({},this.props),{},{payload:ate(c,s,bte)})))}}],i=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&u2(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],n&&hte(t.prototype,n),i&&hte(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function _te(e){return _te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_te(e)}function Ste(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ete(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ste(Object(n),!0).forEach((function(t){xte(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ste(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xte(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gte(wte,"displayName","Legend"),gte(wte,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Tte=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=z2(n,wte);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:Nte(t),value:i||r,payload:t.props}})),Ete(Ete(Ete({},a.props),wte.getWithHeight(a,i)),{},{payload:t,item:a})):null};function Ite(e){return Ite="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ite(e)}function Ote(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ote(Object(n),!0).forEach((function(t){kte(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ote(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kte(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ite(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ite(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ite(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){return function(e){if(Array.isArray(e))return Pte(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pte(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rte(e,t,n){return b2()(e)||b2()(t)?n:l2(t)?i2()(e,t,n):_2()(t)?t(e):n}function Dte(e,t,n,r){var i=e7()(e,(function(e){return Rte(e,t)}));if("number"===n){var o=i.filter((function(e){return u2(e)||parseFloat(e)}));return o.length?[J8()(o),X8()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!b2()(e)})):i).map((function(e){return l2(e)||e instanceof Date?e:""}))}var Nte=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},Mte=function(e,t,n,r,i){var o=V2(t.props.children,q7).filter((function(e){return function(e,t,n){return!!b2()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Rte(t,n,0),i=Array.isArray(r)?[J8()(r),X8()(r)]:[r,r],o=a.reduce((function(e,n){var r=Rte(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},jte=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&Mte(e,t,o,r)||Dte(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},Lte=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Fte=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},Ute=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,c=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*s2(a[0]-a[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+c,value:e,offset:c}})).filter((function(e){return!n2()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+c,value:e,index:t,offset:c}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+c,value:e,offset:c}})):r.domain().map((function(e,t){return{coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}}))},Bte=new WeakMap,Vte=function(e,t){if("function"!==typeof t)return e;Bte.has(e)||Bte.set(e,new WeakMap);var n=Bte.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},zte=1e-4,qte={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=n2()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}q8(e,t)}},none:q8,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}q8(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,u=0;s<i;++s){for(var l=e[t[s]],h=l[a][1]||0,d=(h-(l[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,u+=d*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=u/c)}n[a-1][1]+=n[a-1][0]=o,q8(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=n2()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},Wte=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=qte[n],o=function(){var e=G8([]),t=H8,n=q8,r=K8;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Q8),c=s.length,u=-1;for(const e of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+r(e,s[o].key,u,i)]).data=e;for(o=0,a=W8(t(s));o<c;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:G8(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:G8(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?H8:"function"===typeof e?e:G8(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?q8:e,i):n},i}().keys(r).value((function(e,t){return+Rte(e,t,0)})).order(H8).offset(i);return o(e)},Gte=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!b2()(i[t.dataKey])){var s=g2(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Rte(i,b2()(a)?t.dataKey:a);return b2()(c)?null:t.scale(c)},Hte=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Rte(o,t.dataKey,t.domain[a]);return b2()(s)?null:t.scale(s)-i/2+r},Kte=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[J8()(t.concat([e[0]]).filter(u2)),X8()(t.concat([e[1]]).filter(u2))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Qte=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yte=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xte=function(e,t,n){if(_2()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(u2(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Qte.test(e[0])){var i=+Qte.exec(e[0])[1];r[0]=t[0]-i}else _2()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(u2(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Yte.test(e[1])){var o=+Yte.exec(e[1])[1];r[1]=t[1]+o}else _2()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},$te=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=s4()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var c=i[a],u=i[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Jte=function(e,t,n){return e&&e.length?i7()(e,i2()(n,"type.defaultProps.domain"))?t:e:t},Zte=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,c=n.chartType;return Cte(Cte({},H2(e)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:Nte(e),value:Rte(t,r),type:s,payload:t,chartType:c})},ene=n(2007),tne=n.n(ene),nne=Object.getOwnPropertyNames,rne=Object.getOwnPropertySymbols,ine=Object.prototype.hasOwnProperty;function one(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function ane(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function sne(e){return nne(e).concat(rne(e))}var cne=Object.hasOwn||function(e,t){return ine.call(e,t)};function une(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var lne="_owner",hne=Object.getOwnPropertyDescriptor,dne=Object.keys;function fne(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function pne(e,t){return une(e.getTime(),t.getTime())}function mne(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var c=t.entries(),u=!1,l=0;(i=c.next())&&!i.done;){var h=r.value,d=h[0],f=h[1],p=i.value,m=p[0],g=p[1];u||o[l]||!(u=n.equals(d,m,s,l,e,t,n)&&n.equals(f,g,d,m,e,t,n))||(o[l]=!0),l++}if(!u)return!1;s++}return!0}function gne(e,t,n){var r,i=dne(e),o=i.length;if(dne(t).length!==o)return!1;for(;o-- >0;){if((r=i[o])===lne&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!cne(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function yne(e,t,n){var r,i,o,a=sne(e),s=a.length;if(sne(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===lne&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!cne(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=hne(e,r),o=hne(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function vne(e,t){return une(e.valueOf(),t.valueOf())}function bne(e,t){return e.source===t.source&&e.flags===t.flags}function wne(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),c=!1,u=0;(i=s.next())&&!i.done;)c||o[u]||!(c=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(o[u]=!0),u++;if(!c)return!1}return!0}function _ne(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var Sne="[object Arguments]",Ene="[object Boolean]",xne="[object Date]",Tne="[object Map]",Ine="[object Number]",One="[object Object]",Cne="[object RegExp]",kne="[object Set]",Ane="[object String]",Pne=Array.isArray,Rne="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Dne=Object.assign,Nne=Object.prototype.toString.call.bind(Object.prototype.toString);var Mne=jne();jne({strict:!0}),jne({circular:!0}),jne({circular:!0,strict:!0}),jne({createInternalComparator:function(){return une}}),jne({strict:!0,createInternalComparator:function(){return une}}),jne({circular:!0,createInternalComparator:function(){return une}}),jne({circular:!0,createInternalComparator:function(){return une},strict:!0});function jne(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,c=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?yne:fne,areDatesEqual:pne,areMapsEqual:r?one(mne,yne):mne,areObjectsEqual:r?yne:gne,arePrimitiveWrappersEqual:vne,areRegExpsEqual:bne,areSetsEqual:r?one(wne,yne):wne,areTypedArraysEqual:r?yne:_ne};if(n&&(i=Dne({},i,n(i))),t){var o=ane(i.areArraysEqual),a=ane(i.areMapsEqual),s=ane(i.areObjectsEqual),c=ane(i.areSetsEqual);i=Dne({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return i}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(e,u,l){if(e===u)return!0;if(null==e||null==u||"object"!==typeof e||"object"!==typeof u)return e!==e&&u!==u;var h=e.constructor;if(h!==u.constructor)return!1;if(h===Object)return i(e,u,l);if(Pne(e))return t(e,u,l);if(null!=Rne&&Rne(e))return c(e,u,l);if(h===Date)return n(e,u,l);if(h===RegExp)return a(e,u,l);if(h===Map)return r(e,u,l);if(h===Set)return s(e,u,l);var d=Nne(e);return d===xne?n(e,u,l):d===Cne?a(e,u,l):d===Tne?r(e,u,l):d===kne?s(e,u,l):d===One?"function"!==typeof e.then&&"function"!==typeof u.then&&i(e,u,l):d===Sne?i(e,u,l):(d===Ene||d===Ine||d===Ane)&&o(e,u,l)}}(c),l=i?i(u):(t=u,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),c=s.cache,u=void 0===c?t?new WeakMap:void 0:c,l=s.meta;return n(e,a,{cache:u,equals:i,meta:l,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:u,createState:o,equals:l,strict:s})}function Lne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Fne(e){return Fne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fne(e)}function Une(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Bne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vne(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Une(r),o=i[0],a=i.slice(1);return"number"===typeof o?void Lne(n.bind(null,a),o):(n(o),void Lne(n.bind(null,a)))}"object"===Fne(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function zne(e){return zne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zne(e)}function qne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qne(Object(n),!0).forEach((function(t){Gne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zne(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hne=["Webkit","Moz","O","ms"],Kne=["-webkit-","-moz-","-o-","-ms-"],Qne=["transform","transformOrigin","transition"],Yne=function(e){return e},Xne=function(e,t){return Object.keys(t).reduce((function(n,r){return Wne(Wne({},n),{},Gne({},r,e(r,t[r])))}),{})},$ne=function(e){return Object.keys(e).reduce((function(e,t){return Wne(Wne({},e),function(e,t){if(-1===Qne.indexOf(e))return Gne({},e,Number.isNaN(t)?0:t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return Hne.reduce((function(e,o,a){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(Kne[a],"$1"))),Wne(Wne({},e),{},Gne({},o+r,i))}),{})}(t,e[t]))}),e)},Jne=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Zne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||tre(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ere(e){return function(e){if(Array.isArray(e))return nre(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tre(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tre(e,t){if(e){if("string"===typeof e)return nre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nre(e,t):void 0}}function nre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rre=1e-4,ire=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ore=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},are=function(e,t){return function(n){var r=ire(e,t);return ore(r,n)}},sre=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),u=Zne(c,4);r=u[0],i=u[1],o=u[2],a=u[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var l,h,d=are(r,o),f=are(i,a),p=(l=r,h=o,function(e){var t=ire(l,h),n=[].concat(ere(t.map((function(e,t){return e*t})).slice(1)),[0]);return ore(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=d(n)-t,o=p(n);if(Math.abs(i-t)<rre||o<rre)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},cre=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sre(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<rre&&Math.abs(o)<rre?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return sre(r)}return"function"===typeof r?r:null};function ure(e){return ure="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ure(e)}function lre(e){return function(e){if(Array.isArray(e))return gre(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mre(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hre(Object(n),!0).forEach((function(t){fre(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fre(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ure(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ure(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ure(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||mre(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mre(e,t){if(e){if("string"===typeof e)return gre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gre(e,t):void 0}}function gre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yre=function(e,t,n){return e+(t-e)*n},vre=function(e){return e.from!==e.to},bre=function e(t,n,r){var i=Xne((function(e,n){if(vre(n)){var r=pre(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return dre(dre({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Xne((function(e,t){return vre(t)?dre(dre({},t),{},{velocity:yre(t.velocity,i[e].velocity,r),from:yre(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const wre=function(e,t,n,r,i){var o,a,s,c,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),l=u.reduce((function(n,r){return dre(dre({},n),{},fre({},r,[e[r],t[r]]))}),{}),h=u.reduce((function(n,r){return dre(dre({},n),{},fre({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=bre(n,h,o),i(dre(dre(dre({},e),t),Xne((function(e,t){return t.from}),h))),s=r,Object.values(h).filter(vre).length&&(d=requestAnimationFrame(f))}:function(o){c||(c=o);var a=(o-c)/r,s=Xne((function(e,t){return yre.apply(void 0,lre(t).concat([n(a)]))}),l);if(i(dre(dre(dre({},e),t),s)),a<1)d=requestAnimationFrame(f);else{var u=Xne((function(e,t){return yre.apply(void 0,lre(t).concat([n(1)]))}),l);i(dre(dre(dre({},e),t),u))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function _re(e){return _re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_re(e)}var Sre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ere(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xre(e){return function(e){if(Array.isArray(e))return Tre(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Tre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tre(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ire(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ore(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ire(Object(n),!0).forEach((function(t){Cre(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ire(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cre(e,t,n){return(t=Are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Are(r.key),r)}}function Are(e){var t=function(e,t){if("object"!==_re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_re(t)?t:String(t)}function Pre(e,t){return Pre=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pre(e,t)}function Rre(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mre(e);if(t){var i=Mre(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dre(this,n)}}function Dre(e,t){if(t&&("object"===_re(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nre(e)}function Nre(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mre(e){return Mre=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mre(e)}var jre=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pre(e,t)}(a,e);var t,n,i,o=Rre(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,c=r.from,u=r.to,l=r.steps,h=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Nre(n)),n.changeStyle=n.changeStyle.bind(Nre(n)),!i||d<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:u}),Dre(n);if(l&&l.length)n.state={style:l[0].style};else if(c){if("function"===typeof h)return n.state={style:c},Dre(n);n.state={style:s?Cre({},s,c):c}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,c=this.state.style;if(r)if(n){if(!(Mne(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=u||o?s:e.to;if(this.state&&c){var h={style:i?Cre({},i,l):l};(i&&[i]!==l||!i&&c!==l)&&this.setState(h)}this.runAnimation(Ore(Ore({},this.props),{},{from:l,begin:0}))}}else{var d={style:i?Cre({},i,a):a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,u=wre(n,r,cre(o),i,this.changeStyle);this.manager.start([c,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,c=void 0===s?0:s;return this.manager.start([i].concat(xre(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,c=r.style,u=r.properties,l=r.onAnimationEnd,h=i>0?n[i-1]:r,d=u||Object.keys(c);if("function"===typeof s||"spring"===s)return[].concat(xre(e),[t.runJSAnimation.bind(t,{from:h.style,to:c,duration:o,easing:s}),o]);var f=Jne(d,o,s),p=Ore(Ore(Ore({},h.style),c),{},{transition:f});return[].concat(xre(e),[p,o,l]).filter(Yne)}),[a,Math.max(c,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Vne());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,u=e.children,l=this.manager;if(this.unSubscribe=l.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof u&&"spring"!==o)if(c.length>1)this.runStepAnimation(e);else{var h=r?Cre({},r,i):i,d=Jne(Object.keys(h),n,o);l.start([a,t,Ore(Ore({},h),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Ere(e,Sre)),a=r.Children.count(t),s=$ne(this.state.style);if("function"===typeof t)return t(s);if(!i||0===a||n<=0)return t;var c=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,Ore(Ore({},o),{},{style:Ore(Ore({},i),s),className:a}))};return 1===a?c(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return c(e)})))}}],n&&kre(t.prototype,n),i&&kre(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);jre.displayName="Animate",jre.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},jre.propTypes={from:tne().oneOfType([tne().object,tne().string]),to:tne().oneOfType([tne().object,tne().string]),attributeName:tne().string,duration:tne().number,begin:tne().number,easing:tne().oneOfType([tne().string,tne().func]),steps:tne().arrayOf(tne().shape({duration:tne().number.isRequired,style:tne().object.isRequired,easing:tne().oneOfType([tne().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tne().func]),properties:tne().arrayOf("string"),onAnimationEnd:tne().func})),children:tne().oneOfType([tne().node,tne().func]),isActive:tne().bool,canBegin:tne().bool,onAnimationEnd:tne().func,shouldReAnimate:tne().bool,onAnimationStart:tne().func,onAnimationReStart:tne().func};const Lre=jre;var Fre=n(5937),Ure=["children","appearOptions","enterOptions","leaveOptions"];function Bre(e){return Bre="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bre(e)}function Vre(){return Vre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vre.apply(this,arguments)}function zre(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qre(Object(n),!0).forEach((function(t){Xre(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$re(r.key),r)}}function Hre(e,t){return Hre=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hre(e,t)}function Kre(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yre(e);if(t){var i=Yre(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Bre(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qre(e)}(this,n)}}function Qre(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yre(e){return Yre=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yre(e)}function Xre(e,t,n){return(t=$re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $re(e){var t=function(e,t){if("object"!==Bre(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bre(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bre(t)?t:String(t)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"===typeof e&&isFinite(e)});var Jre=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},Zre=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hre(e,t)}(a,e);var t,n,i,o=Kre(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Xre(Qre(e=o.call(this)),"handleEnter",(function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)})),Xre(Qre(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=a,n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(Wre(Wre({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return Jre(t)+Jre(n)+Jre(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=(t.appearOptions,t.enterOptions,t.leaveOptions,zre(t,Ure));return r.createElement(Fre.Transition,Vre({},i,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return r.createElement(Lre,e.state,r.Children.only(n))}))}}],n&&Gre(t.prototype,n),i&&Gre(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);Zre.propTypes={appearOptions:tne().object,enterOptions:tne().object,leaveOptions:tne().object,children:tne().element};const eie=Zre;function tie(e){var t=e.component,n=e.children,i=e.appear,o=e.enter,a=e.leave;return r.createElement(Fre.TransitionGroup,{component:t},r.Children.map(n,(function(e,t){return r.createElement(eie,{appearOptions:i,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}tie.propTypes={appear:tne().object,enter:tne().object,leave:tne().object,children:tne().oneOfType([tne().array,tne().element]),component:tne().any},tie.defaultProps={component:"span"};const nie=Lre;var rie=function(e){return null};rie.displayName="Cell";var iie=n(5727),oie=n.n(iie);function aie(e){return aie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aie(e)}function sie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lie(r.key),r)}}function lie(e){var t=function(e,t){if("object"!==aie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aie(t)?t:String(t)}var hie=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,die=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},gie=Object.keys(mie),yie="NaN";var vie=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||fie.test(n)||(this.num=NaN,this.unit=""),gie.includes(n)&&(this.num=function(e,t){return e*mie[t]}(t,n),this.unit="px")}var t,n,r;return t=e,r=[{key:"parse",value:function(t){var n,r=sie(null!==(n=pie.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&uie(t.prototype,n),r&&uie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bie(e){if(e.includes(yie))return yie;for(var t=e;t.includes("*")||t.includes("/");){var n,r=sie(null!==(n=hie.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=vie.parse(null!==i&&void 0!==i?i:""),c=vie.parse(null!==a&&void 0!==a?a:""),u="*"===o?s.multiply(c):s.divide(c);if(u.isNaN())return yie;t=t.replace(hie,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var l,h=sie(null!==(l=die.exec(t))&&void 0!==l?l:[],4),d=h[1],f=h[2],p=h[3],m=vie.parse(null!==d&&void 0!==d?d:""),g=vie.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return yie;t=t.replace(die,y.toString())}return t}var wie=/\(([^()]*)\)/;function _ie(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=sie(wie.exec(t),2)[1];t=t.replace(wie,bie(n))}return t}(t),t=bie(t)}function Sie(e){var t=function(e){try{return _ie(e)}catch(t){return yie}}(e.slice(5,-1));return t===yie?"":t}var Eie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xie=["dx","dy","angle","className","breakAll"];function Tie(){return Tie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tie.apply(this,arguments)}function Iie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Cie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kie=/[ \f\n\r\t\v\u2028\u2029]+/,Aie=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return b2()(t)||(i=n?t.toString().split(""):t.toString().split(kie)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:R4(e,r).width}})),spaceWidth:n?0:R4("\xa0",r).width}}catch(o){return null}},Pie=function(e){return[{words:b2()(e)?[]:e.toString().split(kie)}]},Rie=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!x4.isSsr){var s=Aie({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,c=e.breakAll,u=u2(o),l=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var c={words:[o],width:a};e.push(c)}return e}),[])},d=h(t);if(!u)return d;for(var f,p=function(e){var t=l.slice(0,e),n=Aie({breakAll:c,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=l.length-1,y=0;m<=g&&y<=l.length-1;){var v=Math.floor((m+g)/2),b=Oie(p(v-1),2),w=b[0],_=b[1],S=Oie(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=_;break}y++}return f||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Pie(r)}return Pie(r)},Die="#808080",Nie=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,c=e.capHeight,u=void 0===c?"0.71em":c,l=e.scaleToFit,h=void 0!==l&&l,d=e.textAnchor,f=void 0===d?"start":d,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?Die:g,v=Iie(e,Eie),b=(0,r.useMemo)((function(){return Rie({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),w=v.dx,_=v.dy,S=v.angle,E=v.className,x=v.breakAll,T=Iie(v,xie);if(!l2(n)||!l2(o))return null;var I,O=n+(u2(w)?w:0),C=o+(u2(_)?_:0);switch(m){case"start":I=Sie("calc(".concat(u,")"));break;case"middle":I=Sie("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=Sie("calc(".concat(b.length-1," * -").concat(s,")"))}var k=[];if(h){var A=b[0].width,P=v.width;k.push("scale(".concat((u2(P)?P/A:1)/A,")"))}return S&&k.push("rotate(".concat(S,", ").concat(O,", ").concat(C,")")),k.length&&(T.transform=k.join(" ")),r.createElement("text",Tie({},H2(T,!0),{x:O,y:C,className:Bq("recharts-text",E),textAnchor:f,fill:y.includes("url")?Die:y}),b.map((function(e,t){var n=e.words.join(x?"":" ");return r.createElement("tspan",{x:O,dy:0===t?I:s,key:n},n)})))};function Mie(e){return Mie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mie(e)}var jie=["offset"];function Lie(e){return function(e){if(Array.isArray(e))return Fie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Fie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bie(Object(n),!0).forEach((function(t){zie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Mie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qie(){return qie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qie.apply(this,arguments)}var Wie=function(e){var t=e.value,n=e.formatter,r=b2()(e.children)?t:e.children;return _2()(n)?n(r):r},Gie=function(e,t,n){var i,o,a=e.position,s=e.viewBox,c=e.offset,u=e.className,l=s,h=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,v=(f+p)/2,b=function(e,t){return s2(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(i=m+w*c,o=y):"insideEnd"===a?(i=g-w*c,o=!y):"end"===a&&(i=g+w*c,o=y),o=b<=0?o:!o;var _=b4(h,d,v,i),S=b4(h,d,v,i+359*(o?1:-1)),E="M".concat(_.x,",").concat(_.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),x=b2()(e.id)?d2("recharts-radial-line-"):e.id;return r.createElement("text",qie({},n,{dominantBaseline:"central",className:Bq("recharts-radial-bar-label",u)}),r.createElement("defs",null,r.createElement("path",{id:x,d:E})),r.createElement("textPath",{xlinkHref:"#".concat(x)},t))},Hie=function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,c=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var l=b4(o,a,c+n,u),h=l.x;return{x:h,y:l.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=b4(o,a,(s+c)/2,u);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}},Kie=function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,c=o.width,u=o.height,l=u>=0?1:-1,h=l*r,d=l>0?"end":"start",f=l>0?"start":"end",p=c>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return Vie(Vie({},{x:a+c/2,y:s-l*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:c}:{});if("bottom"===i)return Vie(Vie({},{x:a+c/2,y:s+u+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+u),0),width:c}:{});if("left"===i){var v={x:a-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return Vie(Vie({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===i){var b={x:a+c+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return Vie(Vie({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var w=n?{width:c,height:u}:{};return"insideLeft"===i?Vie({x:a+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?Vie({x:a+c-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?Vie({x:a+c/2,y:s+h,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?Vie({x:a+c/2,y:s+u-h,textAnchor:"middle",verticalAnchor:d},w):"insideTopLeft"===i?Vie({x:a+m,y:s+h,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?Vie({x:a+c-m,y:s+h,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?Vie({x:a+m,y:s+u-h,textAnchor:y,verticalAnchor:d},w):"insideBottomRight"===i?Vie({x:a+c-m,y:s+u-h,textAnchor:g,verticalAnchor:d},w):E2()(i)&&(u2(i.x)||c2(i.x))&&(u2(i.y)||c2(i.y))?Vie({x:a+f2(i.x,c),y:s+f2(i.y,u),textAnchor:"end",verticalAnchor:"end"},w):Vie({x:a+c/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},w)},Qie=function(e){return"cx"in e&&u2(e.cx)};function Yie(e){var t,n=e.offset,i=Vie({offset:void 0===n?5:n},Uie(e,jie)),o=i.viewBox,a=i.position,s=i.value,c=i.children,u=i.content,l=i.className,h=void 0===l?"":l,d=i.textBreakAll;if(!o||b2()(s)&&b2()(c)&&!(0,r.isValidElement)(u)&&!_2()(u))return null;if((0,r.isValidElement)(u))return(0,r.cloneElement)(u,i);if(_2()(u)){if(t=(0,r.createElement)(u,i),(0,r.isValidElement)(t))return t}else t=Wie(i);var f=Qie(o),p=H2(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return Gie(i,t,p);var m=f?Hie(i):Kie(i);return r.createElement(Nie,qie({className:Bq("recharts-label",h)},p,m,{breakAll:d}),t)}Yie.displayName="Label";var Xie=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,c=e.innerRadius,u=e.outerRadius,l=e.x,h=e.y,d=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(u2(p)&&u2(m)){if(u2(l)&&u2(h))return{x:l,y:h,width:p,height:m};if(u2(d)&&u2(f))return{x:d,y:f,width:p,height:m}}return u2(l)&&u2(h)?{x:l,y:h,width:0,height:0}:u2(t)&&u2(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:u||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};function $ie(e){return $ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$ie(e)}Yie.parseViewBox=Xie,Yie.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=Xie(e),a=V2(i,Yie).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?r.createElement(Yie,{key:"label-implicit",viewBox:t}):l2(e)?r.createElement(Yie,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===Yie?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(Yie,{key:"label-implicit",content:e,viewBox:t}):_2()(e)?r.createElement(Yie,{key:"label-implicit",content:e,viewBox:t}):E2()(e)?r.createElement(Yie,qie({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(Lie(a))};var Jie=["valueAccessor"],Zie=["data","dataKey","clockWise","id","textBreakAll"];function eoe(e){return function(e){if(Array.isArray(e))return toe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return toe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return toe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function toe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function noe(){return noe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},noe.apply(this,arguments)}function roe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ioe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?roe(Object(n),!0).forEach((function(t){ooe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):roe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ooe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var soe=function(e){return Array.isArray(e.value)?oie()(e.value):e.value};function coe(e){var t=e.valueAccessor,n=void 0===t?soe:t,i=aoe(e,Jie),o=i.data,a=i.dataKey,s=i.clockWise,c=i.id,u=i.textBreakAll,l=aoe(i,Zie);return o&&o.length?r.createElement(L7,{className:"recharts-label-list"},o.map((function(e,t){var i=b2()(a)?n(e,t):Rte(e&&e.payload,a),o=b2()(c)?{}:{id:"".concat(c,"-").concat(t)};return r.createElement(Yie,noe({},H2(e,!0),l,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:u,viewBox:Yie.parseViewBox(b2()(s)?e:ioe(ioe({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}coe.displayName="LabelList",coe.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=V2(e.children,coe).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?r.createElement(coe,{key:"labelList-implicit",data:t}):r.isValidElement(e)||_2()(e)?r.createElement(coe,{key:"labelList-implicit",data:t,content:e}):E2()(e)?r.createElement(coe,noe({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(eoe(i)):i};var uoe=n(3977),loe=n.n(uoe),hoe=n(5127),doe=n.n(hoe);function foe(e){return foe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},foe(e)}function poe(){return poe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},poe.apply(this,arguments)}function moe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return goe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return goe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function goe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yoe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function voe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yoe(Object(n),!0).forEach((function(t){boe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yoe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function boe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==foe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==foe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===foe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var woe=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var l=[0,0,0,0],h=0;h<4;h++)l[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*l[0]),l[0]>0&&(o+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(u,",").concat(e+c*l[0],",").concat(t)),o+="L ".concat(e+n-c*l[1],",").concat(t),l[1]>0&&(o+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*l[1])),o+="L ".concat(e+n,",").concat(t+r-s*l[2]),l[2]>0&&(o+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(u,",\n        ").concat(e+n-c*l[2],",").concat(t+r)),o+="L ".concat(e+c*l[3],",").concat(t+r),l[3]>0&&(o+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*l[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+c*d,",").concat(t,"\n            L ").concat(e+n-c*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n-c*d,",").concat(t+r,"\n            L ").concat(e+c*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},_oe=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var c=Math.min(i,i+a),u=Math.max(i,i+a),l=Math.min(o,o+s),h=Math.max(o,o+s);return n>=c&&n<=u&&r>=l&&r<=h}return!1},Soe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eoe=function(e){var t=voe(voe({},Soe),e),n=(0,r.useRef)(),i=moe((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,u=t.width,l=t.height,h=t.radius,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||c!==+c||u!==+u||l!==+l||0===u||0===l)return null;var v=Bq("recharts-rectangle",d);return y?r.createElement(nie,{canBegin:o>0,from:{width:u,height:l,x:s,y:c},to:{width:u,height:l,x:s,y:c},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,a=e.height,s=e.x,c=e.y;return r.createElement(nie,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",poe({},H2(t,!0),{className:v,d:woe(s,c,i,a,h),ref:n})))})):r.createElement("path",poe({},H2(t,!0),{className:v,d:woe(s,c,u,l,h)}))};function xoe(e){return xoe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xoe(e)}function Toe(){return Toe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Toe.apply(this,arguments)}function Ioe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ooe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ooe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ooe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Coe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function koe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Coe(Object(n),!0).forEach((function(t){Aoe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Coe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aoe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==xoe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xoe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xoe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Poe=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Roe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Doe=function(e){var t=koe(koe({},Roe),e),n=(0,r.useRef)(),i=Ioe((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,c=t.y,u=t.upperWidth,l=t.lowerWidth,h=t.height,d=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||c!==+c||u!==+u||l!==+l||h!==+h||0===u&&0===l||0===h)return null;var y=Bq("recharts-trapezoid",d);return g?r.createElement(nie,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:c},to:{upperWidth:u,lowerWidth:l,height:h,x:s,y:c},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,c=e.x,u=e.y;return r.createElement(nie,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",Toe({},H2(t,!0),{className:y,d:Poe(c,u,i,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",Toe({},H2(t,!0),{className:y,d:Poe(s,c,u,l,h)})))};function Noe(e){return Noe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Noe(e)}function Moe(){return Moe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Moe.apply(this,arguments)}function joe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Loe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?joe(Object(n),!0).forEach((function(t){Foe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):joe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Foe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Noe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Noe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Noe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uoe=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,u=s*(a?1:-1)+r,l=Math.asin(s/u)/y4,h=c?i:i+o*l,d=c?i-o*l:i;return{center:b4(t,n,u,h),circleTangency:b4(t,n,r,h),lineTangency:b4(t,n,u*Math.cos(l*y4),d),theta:l}},Boe=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return s2(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,c=b4(t,n,i,o),u=b4(t,n,i,s),l="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=b4(t,n,r,o),d=b4(t,n,r,s);l+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else l+="L ".concat(t,",").concat(n," Z");return l},Voe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zoe=function(e){var t=Loe(Loe({},Voe),e),n=t.cx,i=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,u=t.cornerIsExternal,l=t.startAngle,h=t.endAngle,d=t.className;if(a<o||l===h)return null;var f,p=Bq("recharts-sector",d),m=a-o,g=f2(s,m,0,!0);return f=g>0&&Math.abs(l-h)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,l=s2(u-c),h=Uoe({cx:t,cy:n,radius:i,angle:c,sign:l,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=Uoe({cx:t,cy:n,radius:i,angle:u,sign:-l,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(c-u):Math.abs(c-u)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Boe({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(l<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var _=Uoe({cx:t,cy:n,radius:r,angle:c,sign:l,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=_.circleTangency,E=_.lineTangency,x=_.theta,T=Uoe({cx:t,cy:n,radius:r,angle:u,sign:-l,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),I=T.circleTangency,O=T.lineTangency,C=T.theta,k=s?Math.abs(c-u):Math.abs(c-u)-x-C;if(k<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(I.x,",").concat(I.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(l>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(l<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:l,endAngle:h}):Boe({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:l,endAngle:h}),r.createElement("path",Moe({},H2(t,!0),{className:p,d:f,role:"img"}))},qoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Woe(e){return Woe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Woe(e)}function Goe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hoe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Koe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hoe(Object(n),!0).forEach((function(t){Qoe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hoe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qoe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Woe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Woe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Woe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yoe(e,t){return Koe(Koe({},t),e)}function Xoe(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(Eoe,n);case"trapezoid":return r.createElement(Doe,n);case"sector":return r.createElement(zoe,n);case"symbols":if(function(e,t){return"symbols"===e}(t))return r.createElement(Hee,n);break;default:return null}}function $oe(e){var t,n=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?Yoe:o,s=e.activeClassName,c=void 0===s?"recharts-active-shape":s,u=e.isActive,l=Goe(e,qoe);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,Koe(Koe({},l),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(_2()(n))t=n(l);else if(loe()(n)&&!doe()(n)){var h=a(n,l);t=r.createElement(Xoe,{shapeType:i,elementProps:h})}else{var d=l;t=r.createElement(Xoe,{shapeType:i,elementProps:d})}return u?r.createElement(L7,{className:c},t):t}function Joe(e,t){return null!=t&&"trapezoids"in e.props}function Zoe(e,t){return null!=t&&"sectors"in e.props}function eae(e,t){return null!=t&&"points"in e.props}function tae(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function nae(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function rae(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function iae(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return Joe(e,t)?n="trapezoids":Zoe(e,t)?n="sectors":eae(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return Joe(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Zoe(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:eae(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=i7()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return Joe(e,t)?n=tae:Zoe(e,t)?n=nae:eae(e,t)&&(n=rae),n}(n,t);return r(e,t)})),c=n.props[i].indexOf(s[s.length-1]);return a&&r===c}));return r.indexOf(a[a.length-1])}function oae(e){return oae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oae(e)}var aae=["x","y"];function sae(){return sae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sae.apply(this,arguments)}function cae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cae(Object(n),!0).forEach((function(t){lae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dae(e,t){var n=e.x,r=e.y,i=hae(e,aae),o="".concat(n),a=parseInt(o,10),s="".concat(r),c=parseInt(s,10),u="".concat(t.height||i.height),l=parseInt(u,10),h="".concat(t.width||i.width),d=parseInt(h,10);return uae(uae(uae(uae(uae({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:l,width:d,name:t.name,radius:t.radius})}function fae(e){return r.createElement($oe,sae({shapeType:"rectangle",propTransformer:dae,activeClassName:"recharts-active-bar"},e))}var pae=["value","background"];function mae(e){return mae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mae(e)}function gae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yae(){return yae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yae.apply(this,arguments)}function vae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vae(Object(n),!0).forEach((function(t){Tae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iae(r.key),r)}}function _ae(e,t){return _ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_ae(e,t)}function Sae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xae(e);if(t){var i=xae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===mae(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eae(e)}(this,n)}}function Eae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xae(e){return xae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xae(e)}function Tae(e,t,n){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iae(e){var t=function(e,t){if("object"!==mae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mae(t)?t:String(t)}var Oae=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_ae(e,t)}(a,e);var t,n,i,o=Sae(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tae(Eae(e=o.call.apply(o,[this].concat(n))),"state",{isAnimationFinished:!1}),Tae(Eae(e),"id",d2("recharts-bar-")),Tae(Eae(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),Tae(Eae(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return t=a,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,c=H2(this.props);return e&&e.map((function(e,n){var u=n===a,l=u?s:i,h=bae(bae(bae({},c),e),{},{isActive:u,option:l,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(L7,yae({className:"recharts-bar-rectangle"},P2(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),r.createElement(fae,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,c=t.animationEasing,u=t.animationId,l=this.state.prevData;return r.createElement(nie,{begin:a,duration:s,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=l&&l[t];if(n){var r=m2(n.x,e.x),a=m2(n.y,e.y),s=m2(n.width,e.width),c=m2(n.height,e.height);return bae(bae({},e),{},{x:r(o),y:a(o),width:s(o),height:c(o)})}if("horizontal"===i){var u=m2(0,e.height)(o);return bae(bae({},e),{},{y:e.y+e.height-u,height:u})}var h=m2(0,e.width)(o);return bae(bae({},e),{},{width:h})}));return r.createElement(L7,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&i7()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,o=t.activeIndex,a=H2(this.props.background);return n.map((function(t,n){t.value;var s=t.background,c=gae(t,pae);if(!s)return null;var u=bae(bae(bae(bae(bae({},c),{},{fill:"#eee"},s),a),P2(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return r.createElement(fae,yae({option:e.props.background,isActive:n===o},u))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,c=V2(n.children,q7);if(!c)return null;var u="vertical"===s?i[0].height/2:i[0].width/2,l=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rte(e,t)}},h={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(L7,h,c.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:u,dataPointFormatter:l})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,c=e.top,u=e.width,l=e.height,h=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=Bq("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=b2()(f)?this.id:f;return r.createElement(L7,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-u/2,y:y?c:c-l/2,width:g?u:2*u,height:y?l:2*l}))):null,r.createElement(L7,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!h||p)&&coe.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&wae(t.prototype,n),i&&wae(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function Cae(e){return Cae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cae(e)}function kae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dae(r.key),r)}}function Aae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aae(Object(n),!0).forEach((function(t){Rae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rae(e,t,n){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dae(e){var t=function(e,t){if("object"!==Cae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cae(t)?t:String(t)}Tae(Oae,"displayName","Bar"),Tae(Oae,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!x4.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Tae(Oae,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,l=e.dataStartIndex,h=e.displayedData,d=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.props,g=m.dataKey,y=m.children,v=m.minPointSize,b="horizontal"===p?a:o,w=u?b.scale.domain():null,_=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),S=V2(y,rie),E=h.map((function(e,t){var r,h,d,m,y,b;if(u?r=function(e,t){if(!t||2!==t.length||!u2(t[0])||!u2(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!u2(e[0])||e[0]<n)&&(i[0]=n),(!u2(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[l+t],w):(r=Rte(e,g),Array.isArray(r)||(r=[_,r])),"horizontal"===p){var E,x=[a.scale(r[0]),a.scale(r[1])],T=x[0],I=x[1];h=Hte({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),d=null!==(E=null!==I&&void 0!==I?I:T)&&void 0!==E?E:void 0,m=f.size;var O=T-I;if(y=Number.isNaN(O)?0:O,b={x:h,y:a.y,width:m,height:a.height},Math.abs(v)>0&&Math.abs(y)<Math.abs(v)){var C=s2(y||v)*(Math.abs(v)-Math.abs(y));d-=C,y+=C}}else{var k=[o.scale(r[0]),o.scale(r[1])],A=k[0],P=k[1];if(h=A,d=Hte({axis:a,ticks:c,bandSize:i,offset:f.offset,entry:e,index:t}),m=P-A,y=f.size,b={x:o.x,y:d,width:o.width,height:y},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=s2(m||v)*(Math.abs(v)-Math.abs(m))}return bae(bae(bae({},e),{},{x:h,y:d,width:m,height:y,value:u?r:r[1],payload:e,background:b},S&&S[t]&&S[t].props),{},{tooltipPayload:[Zte(n,e)],tooltipPosition:{x:h+m/2,y:d+y/2}})}));return bae({data:E,layout:p},d)}));var Nae=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Mae=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&kae(t.prototype,n),r&&kae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Rae(Mae,"EPS",1e-4);var jae=function(e){var t=Object.keys(e).reduce((function(t,n){return Pae(Pae({},t),{},Rae({},n,Mae.create(e[n])))}),{});return Pae(Pae({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return N4()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return h4()(e,(function(e,n){return t[n].isInRange(e)}))}})};var Lae=function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)};function Fae(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function Uae(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Bae(e){return Bae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bae(e)}function Vae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vae(Object(n),!0).forEach((function(t){qae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Bae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wae(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,l=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(u2(c)||x4.isSsr)return function(e,t){return Fae(e,t+1)}(i,"number"===typeof c&&u2(c)?c:0);var d=[],f="top"===s||"bottom"===s?"width":"height",p=l&&"width"===f?R4(l,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=_2()(u)?u(e.value,r):e.value;return"width"===f?function(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Lae(r,n)}(R4(i,{fontSize:t,letterSpacing:n}),p,h):R4(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?s2(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,c=t.end,u=0,l=1,h=s,d=function(){var t=null===r||void 0===r?void 0:r[u];if(void 0===t)return{v:Fae(r,l)};var o,a=u,d=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===u||Uae(e,f,d,h,c);p||(u=0,h=s,l+=1),p&&(h=f+e*(d()/2+i),u+=l)};l<=a.length;)if(o=d())return o.v;return[]}(g,y,m,i,a):(d="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,c=t.start,u=t.end;if(o){var l=r[s-1],h=n(l,s-1),d=e*(l.coordinate+e*h/2-u);a[s-1]=l=zae(zae({},l),{},{tickCoord:d>0?l.coordinate-d*e:l.coordinate}),Uae(e,l.tickCoord,(function(){return h}),c,u)&&(u=l.tickCoord-e*(h/2+i),a[s-1]=zae(zae({},l),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var l=e*(o.coordinate-e*s()/2-c);a[t]=o=zae(zae({},o),{},{tickCoord:l<0?o.coordinate-l*e:o.coordinate})}else a[t]=o=zae(zae({},o),{},{tickCoord:o.coordinate});Uae(e,o.tickCoord,s,c,u)&&(c=o.tickCoord+e*(s()/2+i),a[t]=zae(zae({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===c):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,c=t.end,u=function(t){var r,u=o[t],l=function(){return void 0===r&&(r=n(u,t)),r};if(t===a-1){var h=e*(u.coordinate+e*l()/2-c);o[t]=u=zae(zae({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate})}else o[t]=u=zae(zae({},u),{},{tickCoord:u.coordinate});Uae(e,u.tickCoord,l,s,c)&&(c=u.tickCoord-e*(l()/2+i),o[t]=zae(zae({},u),{},{isShow:!0}))},l=a-1;l>=0;l--)u(l);return o}(g,y,m,i,a),d.filter((function(e){return e.isShow})))}function Gae(e){return Gae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gae(e)}function Hae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Kae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qae(Object(n),!0).forEach((function(t){Xae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Gae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ae(e){return Array.isArray(e)&&l2(e[0])&&l2(e[1])?e.join(" ~ "):e}var Jae=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,c=e.labelStyle,u=void 0===c?{}:c,l=e.payload,h=e.formatter,d=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=Yae({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),v=Yae({margin:0},u),b=!b2()(m),w=b?m:"",_=Bq("recharts-default-tooltip",f),S=Bq("recharts-tooltip-label",p);return b&&g&&void 0!==l&&null!==l&&(w=g(m,l)),r.createElement("div",{className:_,style:y},r.createElement("p",{className:S,style:v},r.isValidElement(w)?w:"".concat(w)),function(){if(l&&l.length){var e=(d?s4()(l,d):l).map((function(e,t){if("none"===e.type)return null;var i=Yae({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||h||$ae,a=e.value,c=e.name,u=a,d=c;if(o&&null!=u&&null!=d){var f=o(a,c,e,t,l);if(Array.isArray(f)){var p=Hae(f,2);u=p[0],d=p[1]}else u=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},l2(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,l2(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Zae(e){return Zae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zae(e)}function ese(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Zae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tse="recharts-tooltip-wrapper",nse={visibility:"hidden"};function rse(e){var t,n=e.coordinate,r=e.translateX,i=e.translateY;return Bq(tse,(ese(t={},"".concat(tse,"-right"),u2(r)&&n&&u2(n.x)&&r>=n.x),ese(t,"".concat(tse,"-left"),u2(r)&&n&&u2(n.x)&&r<n.x),ese(t,"".concat(tse,"-bottom"),u2(i)&&n&&u2(n.y)&&i>=n.y),ese(t,"".concat(tse,"-top"),u2(i)&&n&&u2(n.y)&&i<n.y),t))}function ise(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(o&&u2(o[r]))return o[r];var l=n[r]-s-i,h=n[r]+i;return t[r]?a[r]?l:h:a[r]?l<c[r]?Math.max(h,c[r]):Math.max(l,c[r]):h+s>c[r]+u?Math.max(l,c[r]):Math.max(h,c[r])}function ose(e){var t,n,r,i=e.allowEscapeViewBox,o=e.coordinate,a=e.offsetTopLeft,s=e.position,c=e.reverseDirection,u=e.tooltipBox,l=e.useTranslate3d,h=e.viewBox;return t=u.height>0&&u.width>0&&o?function(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return $ne({transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})}({translateX:n=ise({allowEscapeViewBox:i,coordinate:o,key:"x",offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),translateY:r=ise({allowEscapeViewBox:i,coordinate:o,key:"y",offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),useTranslate3d:l}):nse,{cssProperties:t,cssClasses:rse({translateX:n,translateY:r,coordinate:o})}}function ase(e){return ase="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ase(e)}function sse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cse(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sse(Object(n),!0).forEach((function(t){pse(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sse(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function use(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mse(r.key),r)}}function lse(e,t){return lse=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lse(e,t)}function hse(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fse(e);if(t){var i=fse(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ase(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}(this,n)}}function dse(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fse(e){return fse=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fse(e)}function pse(e,t,n){return(t=mse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mse(e){var t=function(e,t){if("object"!==ase(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ase(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ase(t)?t:String(t)}var gse=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lse(e,t)}(a,e);var t,n,i,o=hse(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pse(dse(e=o.call.apply(o,[this].concat(n))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pse(dse(e),"lastBoundingBox",{width:-1,height:-1}),pse(dse(e),"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return t=a,n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height)}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,c=t.coordinate,u=t.hasPayload,l=t.isAnimationActive,h=t.offset,d=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=ose({allowEscapeViewBox:i,coordinate:c,offsetTopLeft:h,position:d,reverseDirection:f,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=cse(cse(cse({},l&&n&&$ne({transition:"transform ".concat(o,"ms ").concat(a)})),b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&u?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,role:"dialog",className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}],n&&use(t.prototype,n),i&&use(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function yse(e){return yse="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yse(e)}function vse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bse(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vse(Object(n),!0).forEach((function(t){xse(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vse(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tse(r.key),r)}}function _se(e,t){return _se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_se(e,t)}function Sse(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ese(e);if(t){var i=Ese(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===yse(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ese(e){return Ese=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ese(e)}function xse(e,t,n){return(t=Tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tse(e){var t=function(e,t){if("object"!==yse(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yse(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yse(t)?t:String(t)}function Ise(e){return e.dataKey}var Ose=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_se(e,t)}(a,e);var t,n,i,o=Sse(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.allowEscapeViewBox,i=e.animationDuration,o=e.animationEasing,a=e.content,s=e.coordinate,c=e.filterNull,u=e.isAnimationActive,l=e.offset,h=e.payload,d=e.payloadUniqBy,f=e.position,p=e.reverseDirection,m=e.useTranslate3d,g=e.viewBox,y=e.wrapperStyle,v=null!==h&&void 0!==h?h:[];c&&v.length&&(v=ate(h.filter((function(e){return null!=e.value})),d,Ise));var b=v.length>0;return r.createElement(gse,{allowEscapeViewBox:n,animationDuration:i,animationEasing:o,isAnimationActive:u,active:t,coordinate:s,hasPayload:b,offset:l,position:f,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:y},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(Jae,t)}(a,bse(bse({},this.props),{},{payload:v})))}}],n&&wse(t.prototype,n),i&&wse(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);function Cse(){}function kse(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ase(e){this._context=e}function Pse(e){this._context=e}function Rse(e){this._context=e}xse(Ose,"displayName","Tooltip"),xse(Ose,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!x4.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}}),Ase.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kse(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kse(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Pse.prototype={areaStart:Cse,areaEnd:Cse,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kse(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Rse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kse(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Dse{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Nse(e){this._context=e}function Mse(e){this._context=e}function jse(e){return new Mse(e)}function Lse(e){return e<0?-1:1}function Fse(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Lse(o)+Lse(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Use(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bse(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Vse(e){this._context=e}function zse(e){this._context=new qse(e)}function qse(e){this._context=e}function Wse(e){this._context=e}function Gse(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Hse(e,t){this._context=e,this._t=t}function Kse(e){return e[0]}function Qse(e){return e[1]}function Yse(e,t){var n=G8(!0),r=null,i=jse,o=null,a=jee(s);function s(s){var c,u,l,h=(s=W8(s)).length,d=!1;for(null==r&&(o=i(l=a())),c=0;c<=h;++c)!(c<h&&n(u=s[c],c,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,c,s),+t(u,c,s));if(l)return o=null,l+""||null}return e="function"===typeof e?e:void 0===e?Kse:G8(e),t="function"===typeof t?t:void 0===t?Qse:G8(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:G8(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:G8(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:G8(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Xse(e,t,n){var r=null,i=G8(!0),o=null,a=jse,s=null,c=jee(u);function u(u){var l,h,d,f,p,m=(u=W8(u)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=c())),l=0;l<=m;++l){if(!(l<m&&i(f=u[l],l,u))===g)if(g=!g)h=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=l-1;d>=h;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(y[l]=+e(f,l,u),v[l]=+t(f,l,u),s.point(r?+r(f,l,u):y[l],n?+n(f,l,u):v[l]))}if(p)return s=null,p+""||null}function l(){return Yse().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?Kse:G8(+e),t="function"===typeof t?t:G8(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Qse:G8(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:G8(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:G8(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:G8(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:G8(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:G8(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:G8(+e),u):n},u.lineX0=u.lineY0=function(){return l().x(e).y(t)},u.lineY1=function(){return l().x(e).y(n)},u.lineX1=function(){return l().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:G8(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}function $se(e){return $se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$se(e)}function Jse(){return Jse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jse.apply(this,arguments)}function Zse(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ece(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zse(Object(n),!0).forEach((function(t){tce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zse(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$se(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$se(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Nse.prototype={areaStart:Cse,areaEnd:Cse,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Mse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Vse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bse(this,this._t0,Use(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bse(this,Use(this,n=Fse(this,e,t)),n);break;default:Bse(this,this._t0,n=Fse(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(zse.prototype=Object.create(Vse.prototype)).point=function(e,t){Vse.prototype.point.call(this,t,e)},qse.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Wse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Gse(e),i=Gse(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Hse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var nce={curveBasisClosed:function(e){return new Pse(e)},curveBasisOpen:function(e){return new Rse(e)},curveBasis:function(e){return new Ase(e)},curveBumpX:function(e){return new Dse(e,!0)},curveBumpY:function(e){return new Dse(e,!1)},curveLinearClosed:function(e){return new Nse(e)},curveLinear:jse,curveMonotoneX:function(e){return new Vse(e)},curveMonotoneY:function(e){return new zse(e)},curveNatural:function(e){return new Wse(e)},curveStep:function(e){return new Hse(e,.5)},curveStepAfter:function(e){return new Hse(e,1)},curveStepBefore:function(e){return new Hse(e,0)}},rce=function(e){return e.x===+e.x&&e.y===+e.y},ice=function(e){return e.x},oce=function(e){return e.y},ace=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,c=e.connectNulls,u=void 0!==c&&c,l=function(e,t){if(_2()(e))return e;var n="curve".concat(n7()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?nce[n]||jse:nce["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),h=u?o.filter((function(e){return rce(e)})):o;if(Array.isArray(a)){var d=u?a.filter((function(e){return rce(e)})):a,f=h.map((function(e,t){return ece(ece({},e),{},{base:d[t]})}));return(t="vertical"===s?Xse().y(oce).x1(ice).x0((function(e){return e.base.x})):Xse().x(ice).y1(oce).y0((function(e){return e.base.y}))).defined(rce).curve(l),t(f)}return(t="vertical"===s&&u2(a)?Xse().y(oce).x1(ice).x0(a):u2(a)?Xse().x(ice).y1(oce).y0(a):Yse().x(ice).y(oce)).defined(rce).curve(l),t(h)},sce=function(e){var t=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?ace(e):i;return r.createElement("path",Jse({},H2(e),A2(e),{className:Bq("recharts-curve",t),d:a,ref:o}))};function cce(e){return cce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cce(e)}var uce=["x","y","top","left","width","height","className"];function lce(){return lce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lce.apply(this,arguments)}function hce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==cce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pce=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},mce=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,c=e.left,u=void 0===c?0:c,l=e.width,h=void 0===l?0:l,d=e.height,f=void 0===d?0:d,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hce(Object(n),!0).forEach((function(t){dce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:u,width:h,height:f},fce(e,uce));return u2(n)&&u2(o)&&u2(h)&&u2(f)&&u2(s)&&u2(u)?r.createElement("path",lce({},H2(m,!0),{className:Bq("recharts-cross",p),d:pce(n,o,h,f,s,u)})):null};function gce(){return gce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gce.apply(this,arguments)}var yce=function(e){var t=e.cx,n=e.cy,i=e.r,o=e.className,a=Bq("recharts-dot",o);return t===+t&&n===+n&&i===+i?r.createElement("circle",gce({},H2(e),A2(e),{className:a,cx:t,cy:n,r:i})):null},vce=["viewBox"],bce=["viewBox"],wce=["ticks"];function _ce(e){return _ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_ce(e)}function Sce(){return Sce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sce.apply(this,arguments)}function Ece(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ece(Object(n),!0).forEach((function(t){Ace(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ece(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ice(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pce(r.key),r)}}function Oce(e,t){return Oce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oce(e,t)}function Cce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kce(e);if(t){var i=kce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function kce(e){return kce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kce(e)}function Ace(e,t,n){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pce(e){var t=function(e,t){if("object"!==_ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_ce(t)?t:String(t)}var Rce=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oce(e,t)}(a,e);var t,n,i,o=Cce(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={fontSize:"",letterSpacing:""},t}return t=a,n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Tce(e,vce),i=this.props,o=i.viewBox,a=Tce(i,bce);return!x2(n,o)||!x2(r,a)||!x2(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,c=s.x,u=s.y,l=s.width,h=s.height,d=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=u2(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=u+ +!p*h)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=c+ +!p*l)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=c+ +p*l)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=u+ +p*h)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,c=e.axisLine,u=xce(xce(xce({},H2(this.props)),H2(c)),{},{fill:"none"});if("top"===a||"bottom"===a){var l=+("top"===a&&!s||"bottom"===a&&s);u=xce(xce({},u),{},{x1:t,y1:n+l*o,x2:t+i,y2:n+l*o})}else{var h=+("left"===a&&!s||"right"===a&&s);u=xce(xce({},u),{},{x1:t+h*i,y1:n,x2:t+h*i,y2:n+o})}return r.createElement("line",Sce({},u,{className:Bq("recharts-cartesian-axis-line",i2()(c,"className"))}))}},{key:"renderTicks",value:function(e,t,n){var i=this,o=this.props,s=o.tickLine,c=o.stroke,u=o.tick,l=o.tickFormatter,h=o.unit,d=Wae(xce(xce({},this.props),{},{ticks:e}),t,n),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=H2(this.props),g=H2(u),y=xce(xce({},m),{},{fill:"none"},H2(s)),v=d.map((function(e,t){var n=i.getTickLineCoord(e),o=n.line,v=n.tick,b=xce(xce(xce(xce({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:c},g),v),{},{index:t,payload:e,visibleTicksCount:d.length,tickFormatter:l});return r.createElement(L7,Sce({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},P2(i.props,e,t)),s&&r.createElement("line",Sce({},y,o,{className:Bq("recharts-cartesian-axis-tick-line",i2()(s,"className"))})),u&&a.renderTickItem(u,b,"".concat(_2()(l)?l(e.value,t):e.value).concat(h||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var c=this.props,u=c.ticks,l=Tce(c,wce),h=u;return _2()(a)&&(h=u&&u.length>0?a(this.props):a(l)),i<=0||o<=0||!h||!h.length?null:r.createElement(L7,{className:Bq("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Yie.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):_2()(e)?e(t):r.createElement(Nie,Sce({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],n&&Ice(t.prototype,n),i&&Ice(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);function Dce(e){return Dce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dce(e)}function Nce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nce(Object(n),!0).forEach((function(t){jce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Dce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ace(Rce,"displayName","CartesianAxis"),Ace(Rce,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lce=["Webkit","Moz","O","ms"];function Fce(e){return Fce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fce(e)}function Uce(){return Uce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uce.apply(this,arguments)}function Bce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bce(Object(n),!0).forEach((function(t){Kce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qce(r.key),r)}}function qce(e,t){return qce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qce(e,t)}function Wce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hce(e);if(t){var i=Hce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Fce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gce(e)}(this,n)}}function Gce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hce(e){return Hce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hce(e)}function Kce(e,t,n){return(t=Qce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qce(e){var t=function(e,t){if("object"!==Fce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fce(t)?t:String(t)}var Yce=function(e){return e.changedTouches&&!!e.changedTouches.length},Xce=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qce(e,t)}(a,e);var t,n,i,o=Wce(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Kce(Gce(t=o.call(this,e)),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),Kce(Gce(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),Kce(Gce(t),"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=t.props,n=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:n,startIndex:i})})),t.detachDragEndListener()})),Kce(Gce(t),"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),Kce(Gce(t),"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),Kce(Gce(t),"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),Kce(Gce(t),"handleSlideDragStart",(function(e){var n=Yce(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(Gce(t),"startX"),endX:t.handleTravellerDragStart.bind(Gce(t),"endX")},t.state={},t}return t=a,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,c=Math.min(t,n),u=Math.max(t,n),l=a.getIndexInRange(r,c),h=a.getIndexInRange(r,u);return{startIndex:l-l%o,endIndex:h===s?s:h-h%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=Rte(n[e],i,e);return _2()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,c=o.travellerWidth,u=o.startIndex,l=o.endIndex,h=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-c-i,a+s-c-r):d<0&&(d=Math.max(d,a-r,a-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===u&&f.endIndex===l||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Yce(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,a=n.startX,s=this.state[i],c=this.props,u=c.x,l=c.width,h=c.travellerWidth,d=c.onChange,f=c.gap,p=c.data,m={startX:this.state.startX,endX:this.state.endX},g=e.pageX-r;g>0?g=Math.min(g,u+l-h-s):g<0&&(g=Math.max(g,u-s)),m[i]=s+g;var y=this.getIndex(m),v=y.startIndex,b=y.endIndex;this.setState((Kce(t={},i,s+g),Kce(t,"brushMoveStartX",e.pageX),t),(function(){d&&function(){var e=p.length-1;return"startX"===i&&(o>a?v%f===0:b%f===0)||o<a&&b===e||"endX"===i&&(o>a?b%f===0:v%f===0)||o>a&&b===e}()&&d(y)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],c=i.indexOf(s);if(-1!==c){var u=c+e;if(!(-1===u||u>=i.length)){var l=i[u];"startX"===t&&l>=a||"endX"===t&&l<=o||this.setState(Kce({},t,l),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.data,s=e.children,c=e.padding,u=r.Children.only(s);return u?r.cloneElement(u,{x:t,y:n,width:i,height:o,margin:c,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,t){var n=this,i=this.props,o=i.y,s=i.travellerWidth,c=i.height,u=i.traveller,l=i.ariaLabel,h=i.data,d=i.startIndex,f=i.endIndex,p=Math.max(e,this.props.x),m=Vce(Vce({},H2(this.props)),{},{x:p,y:o,width:s,height:c}),g=l||"Min value: ".concat(h[d].name,", Max value: ").concat(h[f].name);return r.createElement(L7,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),n.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,t))},onFocus:function(){n.setState({isTravellerFocused:!0})},onBlur:function(){n.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},a.renderTraveller(u,m))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,c=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:c,y:i,width:u,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,c=this.state,u=c.startX,l=c.endX,h={pointerEvents:"none",fill:s};return r.createElement(L7,{className:"recharts-brush-texts"},r.createElement(Nie,Uce({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,l)-5,y:i+o/2},h),this.getTextOfTick(t)),r.createElement(Nie,Uce({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,l)+a+5,y:i+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,o=e.x,a=e.y,s=e.width,c=e.height,u=e.alwaysShowText,l=this.state,h=l.startX,d=l.endX,f=l.isTextActive,p=l.isSlideMoving,m=l.isTravellerMoving,g=l.isTravellerFocused;if(!t||!t.length||!u2(o)||!u2(a)||!u2(s)||!u2(c)||s<=0||c<=0)return null;var y=Bq("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=Lce.reduce((function(e,r){return Mce(Mce({},e),{},jce({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(L7,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||m||g||u)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:o,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_2()(e)?e(t):a.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,c=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Vce({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=H4().domain(o4()(0,s)).range([i,i+o-a]),u=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(r),scale:c,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&zce(t.prototype,n),i&&zce(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);Kce(Xce,"displayName","Brush"),Kce(Xce,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $ce=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};function Jce(e){return Jce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jce(e)}function Zce(){return Zce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zce.apply(this,arguments)}function eue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eue(Object(n),!0).forEach((function(t){nue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Jce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rue(e){var t=e.x,n=e.y,i=e.r,o=e.alwaysShow,a=e.clipPathId,s=l2(t),c=l2(n);if(y2(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=jae({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return $ce(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!u)return null;var l=u.x,h=u.y,d=e.shape,f=e.className,p=tue(tue({clipPath:$ce(e,"hidden")?"url(#".concat(a,")"):void 0},H2(e,!0)),{},{cx:l,cy:h});return r.createElement(L7,{className:Bq("recharts-reference-dot",f)},rue.renderDot(d,p),Yie.renderCallByParent(e,{x:l-i,y:h-i,width:2*i,height:2*i}))}rue.displayName="ReferenceDot",rue.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},rue.renderDot=function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_2()(e)?e(t):r.createElement(yce,Zce({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var iue=n(4064),oue=n.n(iue);function aue(e){return aue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aue(e)}function sue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sue(Object(n),!0).forEach((function(t){uue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==aue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function due(){return due=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},due.apply(this,arguments)}function fue(e){var t=e.x,n=e.y,i=e.segment,o=e.xAxis,a=e.yAxis,s=e.shape,c=e.className,u=e.alwaysShow,l=e.clipPathId;y2(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,i){var o=i.viewBox,a=o.x,s=o.y,c=o.width,u=o.height,l=i.position;if(n){var h=i.y,d=i.yAxis.orientation,f=e.y.apply(h,{position:l});if($ce(i,"discard")&&!e.y.isInRange(f))return null;var p=[{x:a+c,y:f},{x:a,y:f}];return"left"===d?p.reverse():p}if(t){var m=i.x,g=i.xAxis.orientation,y=e.x.apply(m,{position:l});if($ce(i,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:s+u},{x:y,y:s}];return"top"===g?v.reverse():v}if(r){var b=i.segment.map((function(t){return e.apply(t,{position:l})}));return $ce(i,"discard")&&oue()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(jae({x:o.scale,y:a.scale}),l2(t),l2(n),i&&2===i.length,e);if(!h)return null;var d=lue(h,2),f=d[0],p=f.x,m=f.y,g=d[1],y=g.x,v=g.y,b=cue(cue({clipPath:$ce(e,"hidden")?"url(#".concat(l,")"):void 0},H2(e,!0)),{},{x1:p,y1:m,x2:y,y2:v});return r.createElement(L7,{className:Bq("recharts-reference-line",c)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_2()(e)?e(t):r.createElement("line",due({},t,{className:"recharts-reference-line-line"}))}(s,b),Yie.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Nae({x:t,y:n},{x:r,y:i})}({x1:p,y1:m,x2:y,y2:v})))}function pue(e){return pue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pue(e)}function mue(){return mue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mue.apply(this,arguments)}function gue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gue(Object(n),!0).forEach((function(t){vue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}fue.displayName="ReferenceLine",fue.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function bue(e){var t=e.x1,n=e.x2,i=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,c=e.clipPathId;y2(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=l2(t),l=l2(n),h=l2(i),d=l2(o),f=e.shape;if(!u&&!l&&!h&&!d&&!f)return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,c=i.y2,u=i.xAxis,l=i.yAxis;if(!u||!l)return null;var h=jae({x:u.scale,y:l.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(c,{position:"end"}):h.y.rangeMax};return!$ce(i,"discard")||h.isInRange(d)&&h.isInRange(f)?Nae(d,f):null}(u,l,h,d,e);if(!p&&!f)return null;var m=$ce(e,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(L7,{className:Bq("recharts-reference-area",a)},bue.renderRect(f,yue(yue({clipPath:m},H2(e,!0)),p)),Yie.renderCallByParent(e,p))}function wue(e){return function(e){if(Array.isArray(e))return _ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}bue.displayName="ReferenceArea",bue.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},bue.renderRect=function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):_2()(e)?e(t):r.createElement(Eoe,mue({},t,{className:"recharts-reference-area-rect"}))};var Sue=function(e,t,n,r,i){var o=V2(e,fue),a=V2(e,rue),s=[].concat(wue(o),wue(a)),c=V2(e,bue),u="".concat(r,"Id"),l=r[0],h=t;if(s.length&&(h=s.reduce((function(e,t){if(t.props[u]===n&&$ce(t.props,"extendDomain")&&u2(t.props[l])){var r=t.props[l];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),c.length){var d="".concat(l,"1"),f="".concat(l,"2");h=c.reduce((function(e,t){if(t.props[u]===n&&$ce(t.props,"extendDomain")&&u2(t.props[d])&&u2(t.props[f])){var r=t.props[d],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return u2(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},Eue=n(7143),xue=new(n.n(Eue)()),Tue="recharts.syncMouseEvents";function Iue(e){return Iue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iue(e)}function Oue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kue(r.key),r)}}function Cue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=function(e,t){if("object"!==Iue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Iue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Iue(t)?t:String(t)}var Aue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cue(this,"activeIndex",0),Cue(this,"coordinateList",[]),Cue(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t=e.coordinateList,n=void 0===t?[]:t,r=e.container,i=void 0===r?null:r,o=e.layout,a=void 0===o?null:o,s=e.offset,c=void 0===s?null:s,u=e.mouseHandlerCallback,l=void 0===u?null:u;this.coordinateList=null!==n&&void 0!==n?n:this.coordinateList,this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==a&&void 0!==a?a:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==l&&void 0!==l?l:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,c=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+a+s,l=i+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:u,pageY:l})}}}],n&&Oue(t.prototype,n),r&&Oue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pue(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return E4(t);var s=t.cx,c=t.cy,u=t.innerRadius,l=t.outerRadius,h=t.angle,d=b4(s,c,u,h),f=b4(s,c,l,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}var Rue=["item"],Due=["children","className","width","height","style","compact","title","desc"];function Nue(e){return Nue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nue(e)}function Mue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Wue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jue(){return jue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jue.apply(this,arguments)}function Lue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yue(r.key),r)}}function Uue(e,t){return Uue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uue(e,t)}function Bue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zue(e);if(t){var i=zue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Nue(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vue(e)}(this,n)}}function Vue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zue(e){return zue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zue(e)}function que(e){return function(e){if(Array.isArray(e))return Gue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wue(e,t){if(e){if("string"===typeof e)return Gue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gue(e,t):void 0}}function Gue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hue(Object(n),!0).forEach((function(t){Que(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Que(e,t,n){return(t=Yue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=function(e,t){if("object"!==Nue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nue(t)?t:String(t)}var Xue={xAxis:["bottom","top"],yAxis:["left","right"]},$ue={width:"100%",height:"100%"},Jue={x:0,y:0},Zue=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(que(e),que(n)):e}),[]);return o.length>0?o:e&&e.length&&u2(r)&&u2(i)?e.slice(r,i+1):[]};function ele(e){return"number"===e?[0,"auto"]:void 0}var tle=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=Zue(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var c;if(s.props.hide)return i;var u,l=null!==(c=s.props.data)&&void 0!==c?c:t;(l&&e.dataStartIndex+e.dataEndIndex!==0&&(l=l.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?u=g2(void 0===l?a:l,o.dataKey,r):u=l&&l[n]||a[n];return u?[].concat(que(i),[Zte(s,u)]):i}),[])},nle=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,c=0;c<a;c++){var u=c>0?r[c-1].coordinate:r[a-1].coordinate,l=r[c].coordinate,h=c>=a-1?r[0].coordinate:r[c+1].coordinate,d=void 0;if(s2(l-u)!==s2(h-l)){var f=[];if(s2(h-l)===s2(s[1]-s[0])){d=h;var p=l+s[1]-s[0];f[0]=Math.min(p,(p+u)/2),f[1]=Math.max(p,(p+u)/2)}else{d=u;var m=h+s[1]-s[0];f[0]=Math.min(l,(m+l)/2),f[1]=Math.max(l,(m+l)/2)}var g=[Math.min(l,(d+l)/2),Math.max(l,(d+l)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[c].index;break}}else{var y=Math.min(u,h),v=Math.max(u,h);if(e>(y+l)/2&&e<=(v+l)/2){o=r[c].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,c,s);if(u>=0&&c){var l=c[u]&&c[u].value,h=tle(e,t,u,l),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return Kue(Kue(Kue({},r),b4(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,c=r.angle;return Kue(Kue(Kue({},r),b4(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return Jue}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:l,activePayload:h,activeCoordinate:d}}return null},rle=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,l=e.children,h=e.stackOffset,d=Lte(u,i);return n.reduce((function(t,n){var f,p=n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,_=p.includeHidden,S=n.props[o];if(t[S])return t;var E,x,T,I=Zue(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===S})),dataStartIndex:s,dataEndIndex:c}),O=I.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&u2(r)&&u2(i))return!0}return!1})(n.props.domain,y,m)&&(E=Xte(n.props.domain,null,y),!d||"number"!==m&&"auto"===b||(T=Dte(I,g,"category")));var C=ele(m);if(!E||0===E.length){var k,A=null!==(k=n.props.domain)&&void 0!==k?k:C;if(g){if(E=Dte(I,g,m),"category"===m&&d){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);v&&P?(x=E,E=o4()(0,O)):v||(E=Jte(A,E,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(que(e),[t])}),[]))}else if("category"===m)E=v?E.filter((function(e){return""!==e&&!b2()(e)})):Jte(A,E,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||b2()(t)?e:[].concat(que(e),[t])}),[]);else if("number"===m){var R=function(e,t,n,r,i){var o=t.map((function(t){return Mte(e,t,n,i,r)})).filter((function(e){return!b2()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(I,r.filter((function(e){return e.props[o]===S&&(_||!e.props.hide)})),g,i,u);R&&(E=R)}!d||"number"!==m&&"auto"===b||(T=Dte(I,g,"category"))}else E=d?o4()(0,O):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===h?[0,1]:Kte(a[S].stackGroups,s,c):jte(I,r.filter((function(e){return e.props[o]===S&&(_||!e.props.hide)})),m,u,!0);if("number"===m)E=Sue(l,E,S,i,w),A&&(E=Xte(A,E,y));else if("category"===m&&A){var D=A;E.every((function(e){return D.indexOf(e)>=0}))&&(E=D)}}return Kue(Kue({},t),{},Que({},S,Kue(Kue({},n.props),{},{axisType:i,domain:E,categoricalDomain:T,duplicateDomain:x,originalDomain:null!==(f=n.props.domain)&&void 0!==f?f:C,isCategorical:d,layout:u})))}),{})},ile=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,u=e.children,l="".concat(r,"Id"),h=V2(u,i),d={};return h&&h.length?d=rle(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:l,stackGroups:a,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,l=e.children,h=Zue(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:c}),d=h.length,f=Lte(u,i),p=-1;return n.reduce((function(e,t){var m,g=t.props[o],y=ele("number");return e[g]?e:(p++,f?m=o4()(0,d):a&&a[g]&&a[g].hasStack?(m=Kte(a[g].stackGroups,s,c),m=Sue(l,m,g,i)):(m=Xte(y,jte(h,n.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",u),r.defaultProps.allowDataOverflow),m=Sue(l,m,g,i)),Kue(Kue({},e),{},Que({},g,Kue(Kue({axisType:i},r.defaultProps),{},{hide:!0,orientation:i2()(Xue,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:u}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:l,stackGroups:a,dataStartIndex:s,dataEndIndex:c})),d},ole=function(e){var t=e.children,n=e.defaultShowTooltip,r=z2(t,Xce),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},ale=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sle=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,c=n.height,u=n.children,l=n.margin||{},h=z2(u,Xce),d=z2(u,wte),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Kue(Kue({},e),{},Que({},r,e[r]+n.width))}),{left:l.left||0,right:l.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Kue(Kue({},e),{},Que({},r,i2()(e,"".concat(r))+n.height))}),{top:l.top||0,bottom:l.bottom||0}),m=Kue(Kue({},p),f),g=m.bottom;h&&(m.bottom+=h.props.height||Xce.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),c=Tte({children:i,legendWidth:s});if(c){var u=r||{},l=u.width,h=u.height,d=c.align,f=c.verticalAlign,p=c.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&u2(e[d]))return Cte(Cte({},e),{},kte({},d,e[d]+(l||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&u2(e[f]))return Cte(Cte({},e),{},kte({},f,e[f]+(h||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=c-m.top-m.bottom;return Kue(Kue({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},cle=["type","layout","connectNulls","ref"];function ule(e){return ule="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ule(e)}function lle(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hle(){return hle=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hle.apply(this,arguments)}function dle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fle(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dle(Object(n),!0).forEach((function(t){_le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dle(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ple(e){return function(e){if(Array.isArray(e))return mle(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mle(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sle(r.key),r)}}function yle(e,t){return yle=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yle(e,t)}function vle(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wle(e);if(t){var i=wle(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ule(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}(this,n)}}function ble(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wle(e){return wle=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wle(e)}function _le(e,t,n){return(t=Sle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sle(e){var t=function(e,t){if("object"!==ule(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ule(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ule(t)?t:String(t)}var Ele=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yle(e,t)}(a,e);var t,n,i,o=vle(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _le(ble(e=o.call.apply(o,[this].concat(n))),"state",{isAnimationFinished:!0,totalLength:0}),_le(ble(e),"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),_le(ble(e),"getStrokeDasharray",(function(t,n,r){var i=r.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(n,t);for(var o=Math.floor(t/i),s=t%i,c=n-t,u=[],l=0,h=0;l<r.length;h+=r[l],++l)if(h+r[l]>s){u=[].concat(ple(r.slice(0,l)),[s-h]);break}var d=u.length%2===0?[0,c]:[c];return[].concat(ple(a.repeat(r,o)),ple(u),d).map((function(e){return"".concat(e,"px")})).join(", ")})),_le(ble(e),"id",d2("recharts-line-")),_le(ble(e),"pathRef",(function(t){e.mainCurve=t})),_le(ble(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),_le(ble(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return t=a,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,c=V2(n.children,q7);if(!c)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Rte(e.payload,t)}},l={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(L7,l,c.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:u})})))}},{key:"renderDots",value:function(e,t,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,c=i.dataKey,u=H2(this.props),l=H2(o,!0),h=s.map((function(e,t){var n=fle(fle(fle({key:"dot-".concat(t),r:3},u),l),{},{value:e.value,dataKey:c,cx:e.x,cy:e.y,index:t,payload:e.payload});return a.renderDotItem(o,n)})),d={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(n,")"):null};return r.createElement(L7,hle({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(e,t,n,i){var o=this.props,a=o.type,s=o.layout,c=o.connectNulls,u=(o.ref,lle(o,cle)),l=fle(fle(fle({},H2(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:c});return r.createElement(sce,hle({},l,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,l=i.animationEasing,h=i.animationId,d=i.animateNewValues,f=i.width,p=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(nie,{begin:c,duration:u,isActive:s,easing:l,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/o.length,c=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=m2(r.x,e.x),a=m2(r.y,e.y);return fle(fle({},e),{},{x:o(i),y:a(i)})}if(d){var c=m2(2*f,e.x),u=m2(p/2,e.y);return fle(fle({},e),{},{x:c(i),y:u(i)})}return fle(fle({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(c,e,t)}var u,l=m2(0,y)(i);if(a){var h="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));u=n.getStrokeDasharray(l,y,h)}else u=n.generateSimpleStrokeDasharray(y,l);return n.renderCurveStatically(o,e,t,{strokeDasharray:u})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!i7()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,o=t.points,a=t.className,s=t.xAxis,c=t.yAxis,u=t.top,l=t.left,h=t.width,d=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=Bq("recharts-line",a),v=s&&s.allowDataOverflow,b=c&&c.allowDataOverflow,w=v||b,_=b2()(p)?this.id:p,S=null!==(e=H2(i))&&void 0!==e?e:{r:3,strokeWidth:2},E=S.r,x=void 0===E?3:E,T=S.strokeWidth,I=void 0===T?2:T,O=(function(e){return e&&"object"===M2(e)&&"cx"in e&&"cy"in e&&"r"in e}(i)?i:{}).clipDot,C=void 0===O||O,k=2*x+I;return r.createElement(L7,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(_)},r.createElement("rect",{x:v?l:l-h/2,y:b?u:u-d/2,width:v?h:2*h,height:b?d:2*d})),!C&&r.createElement("clipPath",{id:"clipPath-dots-".concat(_)},r.createElement("rect",{x:l-k/2,y:u-k/2,width:h+k,height:d+k}))):null,!g&&this.renderCurve(w,_),this.renderErrorBar(w,_),(g||i)&&this.renderDots(w,C,_),(!f||m)&&coe.renderCallByParent(this.props,o))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(ple(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(ple(r),ple(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(_2()(e))n=e(t);else{var i=Bq("recharts-line-dot",e?e.className:"");n=r.createElement(yce,hle({},t,{className:i}))}return n}}],n&&gle(t.prototype,n),i&&gle(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);_le(Ele,"displayName","Line"),_le(Ele,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!x4.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),_le(Ele,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,c=e.displayedData,u=e.offset,l=t.layout,h=c.map((function(e,t){var c=Rte(e,a);return"horizontal"===l?{x:Gte({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:b2()(c)?null:r.scale(c),value:c,payload:e}:{x:b2()(c)?null:n.scale(c),y:Gte({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:c,payload:e}}));return fle({points:h,layout:l},u)}));var xle=function(){return null};xle.displayName="XAxis",xle.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Tle=function(){return null};Tle.displayName="YAxis",Tle.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Ile=function(e){var t,n=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=void 0===o?"axis":o,s=e.validateTooltipEventTypes,c=void 0===s?["axis"]:s,u=e.axisComponents,l=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,l=e.layout,h=e.barGap,d=e.barCategoryGap,f=e.maxBarSize,p=ale(l),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=L2(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=y&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var c=r[o[a]].stackGroups,u=Object.keys(c),l=0,h=u.length;l<h;l++){var d=c[u[l]],f=d.items,p=d.cateAxisId,m=f.filter((function(e){return L2(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,y=m[0].props[p];i[y]||(i[y]=[]),i[y].push({item:m[0],stackList:m.slice(1),barSize:b2()(g)?t:g})}}return i}({barSize:c,stackGroups:r}),b=[];return n.forEach((function(n,c){var p=Zue(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),y=n.props,w=y.dataKey,_=y.maxBarSize,S=n.props["".concat(m,"Id")],E=n.props["".concat(g,"Id")],x=u.reduce((function(e,r){var i,o=t["".concat(r.axisType,"Map")],a=n.props["".concat(r.axisType,"Id")];o&&o[a]||"zAxis"===r.axisType||function(e,t){if(!e)throw new Error(d4)}(!1);var s=o[a];return Kue(Kue({},e),{},(Que(i={},r.axisType,s),Que(i,"".concat(r.axisType,"Ticks"),Ute(s)),i))}),{}),T=x[g],I=x["".concat(g,"Ticks")],O=r&&r[S]&&r[S].hasStack&&function(e,t){var n=e.props.stackId;if(l2(n)){var r=t[n];if(r){var i=r.items.indexOf(e);return i>=0?r.stackedData[i]:null}}return null}(n,r[S].stackGroups),C=L2(n.type).indexOf("Bar")>=0,k=$te(T,I),A=[];if(C){var P,R,D=b2()(_)?f:_,N=null!==(P=null!==(R=$te(T,I,!0))&&void 0!==R?R:D)&&void 0!==P?P:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var c,u=f2(t,r,0,!0),l=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*u)>=r&&(f-=(s-1)*u,u=0),f>=r&&d>0&&(h=!0,f=s*(d*=.9));var p={offset:((r-f)/2>>0)-u,size:0};c=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+u,size:h?d:t.barSize}},r=[].concat(Ate(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),l)}else{var m=f2(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var g=(r-2*m-(s-1)*u)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;c=o.reduce((function(e,t,n){var r=[].concat(Ate(e),[{item:t.item,position:{offset:m+(g+u)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),l)}return c}({barGap:h,barCategoryGap:d,bandSize:N!==k?N:k,sizeList:v[E],maxBarSize:D}),N!==k&&(A=A.map((function(e){return Kue(Kue({},e),{},{position:Kue(Kue({},e.position),{},{offset:e.position.offset-N/2})})})))}var M,j=n&&n.type&&n.type.getComposedData;j&&b.push({props:Kue(Kue({},j(Kue(Kue({},x),{},{displayedData:p,props:e,dataKey:w,item:n,bandSize:k,barPosition:A,offset:i,stackedData:O,layout:l,dataStartIndex:a,dataEndIndex:s}))),{},(M={key:n.key||"item-".concat(c)},Que(M,m,x[m]),Que(M,g,x[g]),Que(M,"animationId",o),M)),childIndex:X2(n,e.children),item:n})})),b},p=function(e,t){var r=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!q2({props:r}))return null;var c=r.children,l=r.layout,d=r.stackOffset,p=r.data,m=r.reverseStackOrder,g=ale(l),y=g.numericAxisName,v=g.cateAxisName,b=V2(c,i),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(l2(o)){var c=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[o]=c}else s.stackGroups[d2("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Cte(Cte({},e),{},kte({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return Cte(Cte({},t),{},kte({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:Wte(e,a.items,i)}))}),{})),Cte(Cte({},t),{},kte({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),d,m),_=u.reduce((function(e,t){var n="".concat(t.axisType,"Map");return Kue(Kue({},e),{},Que({},n,ile(r,Kue(Kue({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=sle(Kue(Kue({},_),{},{props:r,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(_).forEach((function(e){_[e]=h(r,_[e],S,e.replace("Map",""),n)}));var E=function(e){var t=p2(e),n=Ute(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:s4()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:$te(t,n)}}(_["".concat(v,"Map")]),x=f(r,Kue(Kue({},_),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return Kue(Kue({formattedGraphicalItems:x,graphicalItems:b,offset:S,stackGroups:w},E),_)};return t=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uue(e,t)}(u,e);var t,i,o,s=Bue(u);function u(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Que(Vue(o=s.call(this,e)),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Que(Vue(o),"accessibilityManager",new Aue),Que(Vue(o),"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(Kue({legendBBox:e},p({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},Kue(Kue({},o.state),{},{legendBBox:e}))))}})),Que(Vue(o),"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),Que(Vue(o),"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return Kue({dataStartIndex:t,dataEndIndex:n},p({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),Que(Vue(o),"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=Kue(Kue({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;_2()(r)&&r(n,e)}})),Que(Vue(o),"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?Kue(Kue({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;_2()(r)&&r(n,e)})),Que(Vue(o),"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),Que(Vue(o),"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),Que(Vue(o),"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),Que(Vue(o),"handleMouseLeave",(function(e){var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;_2()(n)&&n(t,e)})),Que(Vue(o),"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&j2[t]?j2[t]:null}(e),r=i2()(o.props,"".concat(n));n&&_2()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),Que(Vue(o),"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=Kue(Kue({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;_2()(r)&&r(n,e)}})),Que(Vue(o),"handleMouseDown",(function(e){var t=o.props.onMouseDown;_2()(t)&&t(o.getMouseInfo(e),e)})),Que(Vue(o),"handleMouseUp",(function(e){var t=o.props.onMouseUp;_2()(t)&&t(o.getMouseInfo(e),e)})),Que(Vue(o),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),Que(Vue(o),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),Que(Vue(o),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),Que(Vue(o),"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&xue.emit(Tue,o.props.syncId,e,o.eventEmitterSymbol)})),Que(Vue(o),"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Kue({dataStartIndex:a,dataEndIndex:s},p({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var c=e.chartX,u=e.chartY,l=e.activeTooltipIndex,h=o.state,d=h.offset,f=h.tooltipTicks;if(!d)return;if("function"===typeof r)l=r(f,e);else if("value"===r){l=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){l=m;break}}var g=Kue(Kue({},d),{},{x:d.left,y:d.top}),y=Math.min(c,g.x+g.width),v=Math.min(u,g.y+g.height),b=f[l]&&f[l].value,w=tle(o.state,o.props.data,l),_=f[l]?{x:"horizontal"===n?f[l].coordinate:y,y:"horizontal"===n?v:f[l].coordinate}:Jue;o.setState(Kue(Kue({},e),{},{activeLabel:b,activeCoordinate:_,activePayload:w,activeTooltipIndex:l}))}else o.setState(e)})),Que(Vue(o),"verticalCoordinatesGenerator",(function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return Fte(Wae(Kue(Kue(Kue({},Rce.defaultProps),n),{},{ticks:Ute(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)})),Que(Vue(o),"horizontalCoordinatesGenerator",(function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return Fte(Wae(Kue(Kue(Kue({},Rce.defaultProps),n),{},{ticks:Ute(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)})),Que(Vue(o),"axesTicksGenerator",(function(e){return Ute(e,!0)})),Que(Vue(o),"renderCursor",(function(e){var t,i=o.state,a=i.isTooltipActive,s=i.activeCoordinate,c=i.activePayload,u=i.offset,l=i.activeTooltipIndex,h=i.tooltipAxisBandSize,d=o.getTooltipEventType(),f=null!==(t=e.props.active)&&void 0!==t?t:a;if(!e||!e.props.cursor||!f||!s||"ScatterChart"!==n&&"axis"!==d)return null;var p,m=o.props.layout,g=sce;if("ScatterChart"===n)p=s,g=mce;else if("BarChart"===n)p=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(m,s,u,h),g=Eoe;else if("radial"===m){var y=E4(s),v=y.cx,b=y.cy,w=y.radius;p={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:w,outerRadius:w},g=zoe}else p={points:Pue(m,s,u)},g=sce;var _=e.key||"_recharts-cursor",S=Kue(Kue(Kue(Kue({stroke:"#ccc",pointerEvents:"none"},u),p),H2(e.props.cursor)),{},{payload:c,payloadIndex:l,key:_,className:"recharts-tooltip-cursor"});return(0,r.isValidElement)(e.props.cursor)?(0,r.cloneElement)(e.props.cursor,S):(0,r.createElement)(g,S)})),Que(Vue(o),"renderPolarAxis",(function(e,t,n){var i=i2()(e,"type.axisType"),a=i2()(o.state,"".concat(i,"Map")),s=a&&a[e.props["".concat(i,"Id")]];return(0,r.cloneElement)(e,Kue(Kue({},s),{},{className:i,key:e.key||"".concat(t,"-").concat(n),ticks:Ute(s,!0)}))})),Que(Vue(o),"renderXAxis",(function(e,t,n){var r=o.state.xAxisMap[e.props.xAxisId];return o.renderAxis(r,e,t,n)})),Que(Vue(o),"renderYAxis",(function(e,t,n){var r=o.state.yAxisMap[e.props.yAxisId];return o.renderAxis(r,e,t,n)})),Que(Vue(o),"renderGrid",(function(e){var t=o.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,s=o.props,c=s.width,u=s.height,l=p2(n),h=u4()(i,(function(e){return h4()(e.domain,Number.isFinite)}))||p2(i),d=e.props||{};return(0,r.cloneElement)(e,{key:e.key||"grid",x:u2(d.x)?d.x:a.left,y:u2(d.y)?d.y:a.top,width:u2(d.width)?d.width:a.width,height:u2(d.height)?d.height:a.height,xAxis:l,yAxis:h,offset:a,chartWidth:c,chartHeight:u,verticalCoordinatesGenerator:d.verticalCoordinatesGenerator||o.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:d.horizontalCoordinatesGenerator||o.horizontalCoordinatesGenerator})})),Que(Vue(o),"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,a=t.polarRadius,s=o.state,c=s.radiusAxisMap,u=s.angleAxisMap,l=p2(c),h=p2(u),d=h.cx,f=h.cy,p=h.innerRadius,m=h.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:Ute(h,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(a)?a:Ute(l,!0).map((function(e){return e.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),Que(Vue(o),"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,i=t.width,a=t.height,s=o.props.margin||{},c=i-(s.left||0)-(s.right||0),u=Tte({children:n,formattedGraphicalItems:e,legendWidth:c,legendContent:l});if(!u)return null;var h=u.item,d=Lue(u,Rue);return(0,r.cloneElement)(h,Kue(Kue({},d),{},{chartWidth:i,chartHeight:a,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),Que(Vue(o),"renderTooltip",(function(){var e,t=z2(o.props.children,Ose);if(!t)return null;var n=o.state,i=n.isTooltipActive,a=n.activeCoordinate,s=n.activePayload,c=n.activeLabel,u=n.offset,l=null!==(e=t.props.active)&&void 0!==e?e:i;return(0,r.cloneElement)(t,{viewBox:Kue(Kue({},u),{},{x:u.left,y:u.top}),active:l,label:c,payload:l?s:[],coordinate:a})})),Que(Vue(o),"renderBrush",(function(e){var t=o.props,n=t.margin,i=t.data,a=o.state,s=a.offset,c=a.dataStartIndex,u=a.dataEndIndex,l=a.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Vte(o.handleBrushChange,e.props.onChange),data:i,x:u2(e.props.x)?e.props.x:s.left,y:u2(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:u2(e.props.width)?e.props.width:s.width,startIndex:c,endIndex:u,updateId:"brush-".concat(l)})})),Que(Vue(o),"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=Vue(o).clipPathId,a=o.state,s=a.xAxisMap,c=a.yAxisMap,u=a.offset,l=e.props,h=l.xAxisId,d=l.yAxisId;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[h],yAxis:c[d],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:i})})),Que(Vue(o),"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,r=e.basePoint,i=e.childIndex,o=e.isRange,a=[],s=t.props.key,c=t.item.props,l=c.activeDot,h=Kue(Kue({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Nte(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(s,"-activePoint-").concat(i)},H2(l)),A2(l));return a.push(u.renderActiveDot(l,h)),r?a.push(u.renderActiveDot(l,Kue(Kue({},h),{},{cx:r.x,cy:r.y,key:"".concat(s,"-basePoint-").concat(i)}))):o&&a.push(null),a})),Que(Vue(o),"renderGraphicChild",(function(e,t,n){var i=o.filterFormatItem(e,t,n);if(!i)return null;var a=o.getTooltipEventType(),s=o.state,c=s.isTooltipActive,u=s.tooltipAxis,l=s.activeTooltipIndex,h=s.activeLabel,d=z2(o.props.children,Ose),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=i.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,_=y.activeShape,S=Boolean(!b&&c&&d&&(v||w||_)),E={};"axis"!==a&&d&&"click"===d.props.trigger?E={onClick:Vte(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(E={onMouseLeave:Vte(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Vte(o.handleItemMouseEnter,e.props.onMouseEnter)});var x=(0,r.cloneElement)(e,Kue(Kue({},i.props),E));if(S){if(!(l>=0)){var T,I=(null!==(T=o.getItemByXY(o.state.activeCoordinate))&&void 0!==T?T:{graphicalItem:x}).graphicalItem,O=I.item,C=void 0===O?e:O,k=I.childIndex,A=Kue(Kue(Kue({},i.props),E),{},{activeIndex:k});return[(0,r.cloneElement)(C,A),null,null]}var P,R;if(u.dataKey&&!u.allowDuplicatedCategory){var D="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());P=g2(p,D,h),R=m&&g&&g2(g,D,h)}else P=null===p||void 0===p?void 0:p[l],R=m&&g&&g[l];if(_||w){var N=void 0!==e.props.activeIndex?e.props.activeIndex:l;return[(0,r.cloneElement)(e,Kue(Kue(Kue({},i.props),E),{},{activeIndex:N})),null,null]}if(!b2()(P))return[x].concat(que(o.renderActivePoints({item:i,activePoint:P,basePoint:R,childIndex:l,isRange:m})))}return m?[x,null,null]:[x,null]})),Que(Vue(o),"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,Kue(Kue({key:"recharts-customized-".concat(n)},o.props),o.state))})),Que(Vue(o),"renderMap",{CartesianGrid:{handler:o.renderGrid,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:o.renderReferenceElement},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:o.renderXAxis},YAxis:{handler:o.renderYAxis},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(t=e.id)&&void 0!==t?t:d2("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=$1()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return t=u,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=z2(this.props.children,Ose);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return c.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var c=this.state,u=c.xAxisMap,l=c.yAxisMap;if("axis"!==this.getTooltipEventType()&&u&&l){var h=p2(u).scale,d=p2(l).scale,f=h&&h.invert?h.invert(o.chartX):null,p=d&&d.invert?d.invert(o.chartY):null;return Kue(Kue({},o),{},{xValue:f,yValue:p})}var m=nle(this.state,this.props.data,this.props.layout,s);return m?Kue(Kue({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,c=s.angleAxisMap,u=s.radiusAxisMap;if(c&&u){var l=p2(c);return S4({x:i,y:o},l)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=z2(e,Ose),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),Kue(Kue({},A2(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){xue.on(Tue,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xue.removeListener(Tue,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===L2(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderAxis",value:function(e,t,n,i){var o=this.props,a=o.width,s=o.height;return r.createElement(Rce,jue({},e,{className:Bq("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),key:t.key||"".concat(n,"-").concat(i),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,o=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Mue(t,2),r=n[0],i=n[1];return Kue(Kue({},e),{},Que({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Mue(t,2),r=n[0],i=n[1];return Kue(Kue({},e),{},Que({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,c=a.item,u=L2(c.type);if("Bar"===u){var l=(s.data||[]).find((function(t){return _oe(e,t)}));if(l)return{graphicalItem:a,payload:l}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return S4(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(Joe(a,r)||Zoe(a,r)||eae(a,r)){var d=iae({graphicalItem:a,activeTooltipItem:r,itemData:c.props.data}),f=void 0===c.props.activeIndex?d:c.props.activeIndex;return{graphicalItem:Kue(Kue({},a),{},{childIndex:f}),payload:eae(a,r)?c.props.data[d]:a.props.data[d]}}}return null}},{key:"render",value:function(){var e=this;if(!q2(this))return null;var t,n,i=this.props,o=i.children,a=i.className,s=i.width,c=i.height,u=i.style,l=i.compact,h=i.title,d=i.desc,f=Lue(i,Due),p=H2(f);if(l)return r.createElement(K7,jue({},p,{width:s,height:c,title:h,desc:d}),this.renderClipPath(),Y2(o,this.renderMap));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"img",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement("div",jue({className:Bq("recharts-wrapper",a),style:Kue({position:"relative",cursor:"default",width:s,height:c},u)},m,{ref:function(t){e.container=t},role:"region"}),r.createElement(K7,jue({},p,{width:s,height:c,title:h,desc:d,style:$ue}),this.renderClipPath(),Y2(o,this.renderMap)),this.renderLegend(),this.renderTooltip())}}],i&&Fue(t.prototype,i),o&&Fue(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component),Que(t,"displayName",n),Que(t,"defaultProps",Kue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Que(t,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,c=e.stackOffset,u=e.margin;if(void 0===t.updateId){var l=ole(e);return Kue(Kue(Kue({},l),{},{updateId:0},p(Kue(Kue({props:e},l),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:u,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||c!==t.prevStackOffset||!x2(u,t.prevMargin)){var h=ole(e),d={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},f=Kue(Kue({},nle(t,r,s)),{},{updateId:t.updateId+1}),m=Kue(Kue(Kue({},h),d),f);return Kue(Kue(Kue({},m),p(Kue({props:e},m),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:u,prevChildren:i})}if(!K2(i,t.prevChildren)){var g=!b2()(r)?t.updateId:t.updateId+1;return Kue(Kue({updateId:g},p(Kue(Kue({props:e},t),{},{updateId:g}),t)),{},{prevChildren:i})}return null})),Que(t,"renderActiveDot",(function(e,t){var n;return n=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):_2()(e)?e(t):r.createElement(yce,t),r.createElement(L7,{className:"recharts-active-dot",key:t.key},n)})),t}({chartName:"LineChart",GraphicalChild:Ele,axisComponents:[{axisType:"xAxis",AxisComp:xle},{axisType:"yAxis",AxisComp:Tle}],formatAxisMap:function(e,n,r,i,o){var a=e.width,s=e.height,c=e.layout,u=e.children,l=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!z2(u,Oae);return l.reduce((function(a,s){var u,l,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,w=void 0===b?{}:b,_=g.mirror,S=g.reversed,E="".concat(y).concat(_?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var x=v[1]-v[0],T=1/0,I=g.categoricalDomain.sort();I.forEach((function(e,t){t>0&&(T=Math.min((e||0)-(I[t-1]||0),T))}));var O=T/x,C="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(u=O*C/2),"no-gap"===g.padding){var k=f2(e.barCategoryGap,O*C),A=O*C/2;u=A-k-(A-k)/C*k}}l="xAxis"===i?[r.left+(w.left||0)+(u||0),r.left+r.width-(w.right||0)-(u||0)]:"yAxis"===i?"horizontal"===c?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(u||0),r.top+r.height-(w.bottom||0)-(u||0)]:g.range,S&&(l=[l[1],l[0]]);var P=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:W4(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:P5(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:H4(),realScaleType:"point"}:"category"===o?{scale:W4(),realScaleType:"band"}:{scale:P5(),realScaleType:"linear"};if(e2()(i)){var c="scale".concat(n7()(i));return{scale:(t[c]||H4)(),realScaleType:t[c]?c:"point"}}return _2()(i)?{scale:i}:{scale:H4(),realScaleType:"point"}}(g,o,d),R=P.scale,D=P.realScaleType;R.domain(v).range(l),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zte,o=Math.max(r[0],r[1])+zte,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(R);var N=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var c=e.domain();if(!c.length)return null;var u=R7(c,i,a);return e.domain([J8()(u),X8()(u)]),{niceTicks:u}}if(i&&"number"===r){var l=e.domain();return{niceTicks:D7(l,i,a)}}return null}(R,Pae(Pae({},g),{},{realScaleType:D}));"xAxis"===i?(m="top"===y&&!_||"bottom"===y&&_,f=r.left,p=h[E]-m*g.height):"yAxis"===i&&(m="left"===y&&!_||"right"===y&&_,f=h[E]-m*g.width,p=r.top);var M=Pae(Pae(Pae({},g),N),{},{realScaleType:D,x:f,y:p,scale:R,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=$te(M,N),g.hide||"xAxis"!==i?g.hide||(h[E]+=(m?-1:1)*M.width):h[E]+=(m?-1:1)*M.height,Pae(Pae({},a),{},Rae({},s,M))}),{})}});const Ole=e=>{let{levels:t}=e;const n=yQ(),r=(new Date).getHours(),i=t?Object.values(t).slice(-24):[];let o=[];for(let a=0;a<=24;a++){const e=(a+r)%24,t=e<10?"0"+e+":00":e+":00";o=[...o,{time:t,amount:i[a]}]}return(0,LL.jsx)(kX,{sx:{p:2,height:200},children:(0,LL.jsx)(r4,{children:(0,LL.jsxs)(Ile,{data:o,margin:{top:10,right:20,bottom:10,left:-20},children:[(0,LL.jsx)(xle,{dataKey:"time",stroke:n.palette.text.secondary,style:n.typography.body1}),(0,LL.jsx)(Tle,{allowDecimals:!1,stroke:n.palette.text.secondary,style:n.typography.body1}),(0,LL.jsx)(Ele,{type:"monotone",dataKey:"amount",stroke:n.palette.primary.main,isAnimationActive:!1,dot:!1})]})})})},Cle=e=>{let{temperature:t,humidity:n,brightness:i}=e;const o={prompt:"Based on the temperature of ".concat(t,"\xb0C, humidity of ").concat(n,"%, and light level of ").concat(i,"%,generate short report, 180 chars long max about working environment space from given data and output report about how good or how bad is this environment and what should be improved to work better."),max_tokens:200,n:1},[a,s]=(0,r.useState)("");return(0,LL.jsxs)(kX,{children:[(0,LL.jsx)(MW,{variant:"subtitle1",sx:{mt:2,fontWeight:600},children:"AI Report"}),(0,LL.jsx)(WG,{size:"small",onClick:async()=>{await fetch("https://api.openai.com/v1/engines/text-davinci-003/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("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")},body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{s(e.choices[0].text.trim()),console.log(e)})).catch((e=>{console.log(e)}))},variant:"outlined",children:"Generate"}),(0,LL.jsx)(MW,{variant:"subtitle1",sx:{mb:2},children:a})]})},kle=v(ie(((e,t)=>{console.log(e.firebase.data);const n=e.firebase.data[t.device.key];return console.log(n),{controller:n}}),(e=>({removeDevice:t=>e((e=>(t,n,r)=>{let{getFirestore:i}=r;i().collection("devices").doc(e).delete().then((()=>{t({type:"REMOVEDEVICE_SUCCESS",id:e})})).catch((e=>{t({type:"REMOVEDEVICE_SUCCESS",err:e})}))})(t)),removeData:t=>e((e=>(t,n,r)=>{let{getFirebase:i}=r;i().ref(e).remove().then((()=>{t({type:"REMOVEDATA_SUCCESS",key:e})})).catch((e=>{t({type:"REMOVEDATA_SUCCESS",err:e})}))})(t))}))),(0,le.firebaseConnect)((e=>[e.device.key])))((e=>{var t,n,i;let{removeDevice:o,removeData:a,device:s,controller:c}=e;const[u,l]=(0,r.useState)(!1),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)(c&&Math.floor(((new Date).getTime()-c.StartWork)/1e3)),[m,g]=(0,r.useState)(c&&Math.floor(((new Date).getTime()-c.StartBreak)/1e3)),y=(0,r.useMemo)((()=>Math.floor(f/30*100)<=100?Math.floor(f/30*100):100),[f]),v=(0,r.useMemo)((()=>Math.floor(m/10*100)<=100?Math.floor(m/10*100):100),[m]);(0,r.useEffect)((()=>{const e=setInterval((()=>{p(c&&Math.floor(((new Date).getTime()-c.StartWork)/1e3)),g(c&&Math.floor(((new Date).getTime()-c.StartBreak)/1e3))}),1e3);return()=>clearInterval(e)}),[c]);const b=c&&c.StartWork>c.StartBreak;return console.log("%persents",y,v),(0,LL.jsxs)(cH,{sx:{borderRadius:2,boxShadow:3},variant:"outlined",children:[(0,LL.jsx)(B1,{title:(0,LL.jsxs)(LL.Fragment,{children:[(0,LL.jsxs)(MW,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:["Cube: ",s.name]}),(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{fontWeight:600,color:"text.secondary"},children:["Description: ",s.description]})]}),subheader:(0,LL.jsxs)(MW,{sx:{fontWeight:600,color:"text.secondary"},children:["Key: ",s.key]}),avatar:(0,LL.jsx)(NJ,{sx:{bgcolor:"primary.main"},children:(0,LL.jsx)(H1,{})}),action:(0,LL.jsxs)(LL.Fragment,{children:[(0,LL.jsx)(e1,{title:"Options",children:(0,LL.jsx)(MX,{onClick:e=>{d(e.currentTarget),l(!u)},size:"small",children:(0,LL.jsx)(K1,{})})}),(0,LL.jsxs)(_Y,{open:u,onClose:()=>{d(null),l(!1)},anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,LL.jsx)(s1,{onClick:()=>o(s.id),children:(0,LL.jsx)(e1,{title:"Delete Device",children:(0,LL.jsx)(Q1,{color:"error"})})}),(0,LL.jsx)(s1,{onClick:()=>a(s.key),children:(0,LL.jsx)(e1,{title:"Reset Data",children:(0,LL.jsx)(Y1,{})})})]})]})}),(0,LL.jsx)(G1,{children:c&&(0,LL.jsxs)(LL.Fragment,{children:[b?(0,LL.jsxs)(LL.Fragment,{children:[(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{mb:2,fontWeight:600,color:"primary.main"},children:["Work Time: ",f," minutes"]}),(0,LL.jsx)(P1,{color:"primary",sx:{mt:2,height:15,borderRadius:15},variant:"determinate",value:null!==y&&void 0!==y?y:0})]}):(0,LL.jsxs)(LL.Fragment,{children:[(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{mb:2,fontWeight:600,color:"success.main"},children:["Break Time: ",m," minutes"]}),(0,LL.jsx)(P1,{color:"success",sx:{mt:2,height:15,borderRadius:15},variant:"determinate",value:null!==v&&void 0!==v?v:0})]}),(0,LL.jsx)(Cle,{temperature:c.Temperature,humidity:c.Humidity,brightness:c.Brightness,startBreak:c.StartBreak}),(0,LL.jsx)(cH,{variant:"outlined",sx:{width:"100%",py:1,mt:2},children:(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{fontWeight:600,mx:1,color:"text.secondary"},children:["Work Quality Level:"," ",c.Levels?Object.values(c.Levels).pop():0," ","\\ 5"]})}),(0,LL.jsxs)(kX,{sx:{my:2,display:"flex",gap:1},children:[(0,LL.jsx)(cH,{variant:"outlined",sx:{p:1,width:"100%"},children:(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{fontWeight:600,color:"text.secondary"},children:["Current Temperature: ",null!==(t=c.Temperature.toFixed(2))&&void 0!==t?t:0,"\xb0C"]})}),(0,LL.jsx)(cH,{variant:"outlined",sx:{p:1,width:"100%"},children:(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{fontWeight:600,color:"text.secondary"},children:["Current Humidity: ",null!==(n=c.Humidity.toFixed(2))&&void 0!==n?n:0,"%"]})}),(0,LL.jsx)(cH,{variant:"outlined",sx:{p:1,width:"100%"},children:(0,LL.jsxs)(MW,{variant:"subtitle1",sx:{fontWeight:600,color:"text.secondary"},children:["Current Brightness: ",null!==(i=c.Brightness.toFixed(2))&&void 0!==i?i:0,"%"]})})]}),(0,LL.jsx)(MW,{variant:"subtitle1",sx:{fontWeight:600,color:"text.secondary"},children:"Work quality in hours:"}),(0,LL.jsx)(Ole,{levels:c.Levels})]})})]})})),Ale=v(ie((e=>({devices:e.firestore.ordered.devices}))),(0,le.firestoreConnect)(["devices"]))((e=>{let{devices:t}=e;const[n,r]=pU();return(0,LL.jsx)(sZ,{navbar:(0,LL.jsxs)(kX,{sx:{display:"flex",alignItems:"center",m:{xs:1.2,sm:2.2}},children:[(0,LL.jsx)(MX,{sx:{display:{xs:"flex",sm:"none"},mr:2},onClick:()=>r(!n),children:(0,LL.jsx)(jX,{})}),(0,LL.jsxs)(MW,{variant:"h6",children:["Date: ",N$(new Date,"do MMMM Y")]})]}),children:(0,LL.jsx)(EX,{sx:{p:2},container:!0,spacing:2,children:t&&t.map((e=>(0,LL.jsx)(EX,{item:!0,xs:12,children:(0,LL.jsx)(kle,{device:e})},e.name)))})})})),Ple=()=>{const e=ue((e=>e.firebase.auth)),t=(0,le.isLoaded)(e)&&!(0,le.isEmpty)(e),n=RL({typography:{fontFamily:"Lato"},palette:{secondary:{light:iL[50],main:iL[100],dark:DL[50]},info:{light:iL[600],main:iL[700],dark:iL[800]}}});return(0,LL.jsx)(mU,{children:(0,LL.jsx)(dU,{theme:n,children:(0,LL.jsx)(NM,{basename:"/TechGeneration",children:(0,LL.jsxs)(PM,{children:[(0,LL.jsx)(kM,{path:"/signin",element:(0,LL.jsx)(hX,{})}),(0,LL.jsx)(kM,{path:"/signup",element:(0,LL.jsx)(xX,{})}),(0,LL.jsx)(kM,{path:"/board",element:t?(0,LL.jsx)(Ale,{}):(0,LL.jsx)(CM,{to:"/signin"})}),(0,LL.jsx)(kM,{path:"/*",element:t?(0,LL.jsx)(Ale,{}):(0,LL.jsx)(CM,{to:"/signin"})}),(0,LL.jsx)(kM,{exact:!0,path:"/",element:(0,LL.jsx)(CM,{to:"/board"})})]})})})})},Rle=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dle(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const Nle=y(me,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(d(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=v.apply(void 0,o)(n.dispatch),h(h({},n),{},{dispatch:r})}}}(EN.withExtraArgument({getFirebase:le.getFirebase,getFirestore:he.ad}))),Mle={firebase:wN,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:Nle.dispatch,createFirestoreInstance:he.wY},jle=e=>{let{children:t}=e;const n=ue((e=>e.firebase.auth));return(0,le.isLoaded)(n)?t:(0,LL.jsx)("p",{children:"loading..."})};o.render((0,LL.jsx)(le.ReactReduxFirebaseProvider,{...Mle,children:(0,LL.jsx)(T,{store:Nle,children:(0,LL.jsx)(jle,{children:(0,LL.jsx)(Ple,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/TechGeneration",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("/TechGeneration","/service-worker.js");Rle?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):Dle(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Dle(t,e)}))}}()})()})();
//# sourceMappingURL=main.f31765b4.js.map